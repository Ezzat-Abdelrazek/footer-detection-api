(self.webpackChunkAngularApp=self.webpackChunkAngularApp||[]).push([[179],{599:(I,u,F)=>{"use strict";function h(e){return"function"==typeof e}function C(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const O=C(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function N(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Q{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(h(r))try{r()}catch(s){t=s instanceof O?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{x(s)}catch(o){t=t??[],o instanceof O?t=[...t,...o.errors]:t.push(o)}}if(t)throw new O(t)}}add(t){var n;if(t&&t!==this)if(this.closed)x(t);else{if(t instanceof Q){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&N(n,t)}remove(t){const{_finalizers:n}=this;n&&N(n,t),t instanceof Q&&t._removeParent(this)}}Q.EMPTY=(()=>{const e=new Q;return e.closed=!0,e})();const te=Q.EMPTY;function T(e){return e instanceof Q||e&&"closed"in e&&h(e.remove)&&h(e.add)&&h(e.unsubscribe)}function x(e){h(e)?e():e.unsubscribe()}const W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Y={setTimeout(e,t,...n){const{delegate:r}=Y;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Y;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function P(e){Y.setTimeout(()=>{const{onUnhandledError:t}=W;if(!t)throw e;t(e)})}function R(){}const k=H("C",void 0,void 0);function H(e,t,n){return{kind:e,value:t,error:n}}let $=null;function E(e){if(W.useDeprecatedSynchronousErrorHandling){const t=!$;if(t&&($={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=$;if($=null,n)throw r}}else e()}class y extends Q{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,T(t)&&t.add(this)):this.destination=ve}static create(t,n,r){return new J(t,n,r)}next(t){this.isStopped?we(function A(e){return H("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?we(function w(e){return H("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?we(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const G=Function.prototype.bind;function q(e,t){return G.call(e,t)}class L{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){B(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){B(r)}else B(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){B(n)}}}class J extends y{constructor(t,n,r){let i;if(super(),h(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&W.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&q(t.next,s),error:t.error&&q(t.error,s),complete:t.complete&&q(t.complete,s)}):i=t}this.destination=new L(i)}}function B(e){W.useDeprecatedSynchronousErrorHandling?function g(e){W.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=e)}(e):P(e)}function we(e,t){const{onStoppedNotification:n}=W;n&&Y.setTimeout(()=>n(e,t))}const ve={closed:!0,next:R,error:function ue(e){throw e},complete:R},Ae="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pe(e){return e}function Se(e){return 0===e.length?Pe:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Ee=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function Xe(e){return e&&e instanceof y||function qe(e){return e&&h(e.next)&&h(e.error)&&h(e.complete)}(e)&&T(e)}(n)?n:new J(n,r,i);return E(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Ne(r))((i,s)=>{const o=new J({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ae](){return this}pipe(...n){return Se(n)(this)}toPromise(n){return new(n=Ne(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function Ne(e){var t;return null!==(t=e??W.Promise)&&void 0!==t?t:Promise}const ee=C(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let v=(()=>{class e extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new b(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ee}next(n){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){E(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?te:(this.currentObservers=null,s.push(n),new Q(()=>{this.currentObservers=null,N(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Ee;return n.source=this,n}}return e.create=(t,n)=>new b(t,n),e})();class b extends v{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:te}}class M extends v{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function X(e){return h(e?.lift)}function z(e){return t=>{if(X(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(e,t,n,r,i){return new d(e,t,n,r,i)}class d extends y{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function p(e,t){return z((n,r)=>{let i=0;n.subscribe(U(r,s=>{r.next(e.call(t,s,i++))}))})}function ot(e){return this instanceof ot?(this.v=e,this):new ot(e)}function _e(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function st(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}const Me=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ke(e){return h(e?.then)}function xe(e){return h(e[Ae])}function et(e){return Symbol.asyncIterator&&h(e?.[Symbol.asyncIterator])}function ut(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const dt=function Ve(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ht(e){return h(e?.[dt])}function Dt(e){return function Nt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(j){r[j]&&(i[j]=function(K){return new Promise(function(re,ae){s.push([j,K,re,ae])>1||a(j,K)})})}function a(j,K){try{!function l(j){j.value instanceof ot?Promise.resolve(j.value.v).then(c,f):_(s[0][2],j)}(r[j](K))}catch(re){_(s[0][3],re)}}function c(j){a("next",j)}function f(j){a("throw",j)}function _(j,K){j(K),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ot(n.read());if(i)return yield ot(void 0);yield yield ot(r)}}finally{n.releaseLock()}})}function Ct(e){return h(e?.getReader)}function tt(e){if(e instanceof Ee)return e;if(null!=e){if(xe(e))return function Pt(e){return new Ee(t=>{const n=e[Ae]();if(h(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Me(e))return function zt(e){return new Ee(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(ke(e))return function qt(e){return new Ee(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,P)})}(e);if(et(e))return nn(e);if(ht(e))return function hn(e){return new Ee(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Ct(e))return function dr(e){return nn(Dt(e))}(e)}throw ut(e)}function nn(e){return new Ee(t=>{(function Ti(e,t){var n,r,i,s;return function ye(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(_){o(_)}}function l(f){try{c(r.throw(f))}catch(_){o(_)}}function c(f){f.done?s(f.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(f.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=_e(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function An(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function $t(e,t,n=1/0){return h(t)?$t((r,i)=>p((s,o)=>t(r,s,i,o))(tt(e(r,i))),n):("number"==typeof t&&(n=t),z((r,i)=>function Ii(e,t,n,r,i,s,o,a){const l=[];let c=0,f=0,_=!1;const j=()=>{_&&!l.length&&!c&&t.complete()},K=ae=>c<r?re(ae):l.push(ae),re=ae=>{s&&t.next(ae),c++;let me=!1;tt(n(ae,f++)).subscribe(U(t,De=>{i?.(De),s?K(De):t.next(De)},()=>{me=!0},void 0,()=>{if(me)try{for(c--;l.length&&c<r;){const De=l.shift();o?An(t,o,()=>re(De)):re(De)}j()}catch(De){t.error(De)}}))};return e.subscribe(U(t,K,()=>{_=!0,j()})),()=>{a?.()}}(r,i,e,n)))}function Wn(e=1/0){return $t(Pe,e)}const Nn=new Ee(e=>e.complete());function sc(e){return e[e.length-1]}function xs(e){return function c0(e){return e&&h(e.schedule)}(sc(e))?e.pop():void 0}function Jh(e,t=0){return z((n,r)=>{n.subscribe(U(r,i=>An(r,e,()=>r.next(i),t),()=>An(r,e,()=>r.complete(),t),i=>An(r,e,()=>r.error(i),t)))})}function ef(e,t=0){return z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function tf(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ee(n=>{An(n,t,()=>{const r=e[Symbol.asyncIterator]();An(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function un(e,t){return t?function v0(e,t){if(null!=e){if(xe(e))return function h0(e,t){return tt(e).pipe(ef(t),Jh(t))}(e,t);if(Me(e))return function p0(e,t){return new Ee(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(ke(e))return function f0(e,t){return tt(e).pipe(ef(t),Jh(t))}(e,t);if(et(e))return tf(e,t);if(ht(e))return function g0(e,t){return new Ee(n=>{let r;return An(n,t,()=>{r=e[dt](),An(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>h(r?.return)&&r.return()})}(e,t);if(Ct(e))return function m0(e,t){return tf(Dt(e),t)}(e,t)}throw ut(e)}(e,t):tt(e)}function rt(...e){return un(e,xs(e))}function nf(e={}){const{connector:t=(()=>new v),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,c=0,f=!1,_=!1;const j=()=>{a?.unsubscribe(),a=void 0},K=()=>{j(),o=l=void 0,f=_=!1},re=()=>{const ae=o;K(),ae?.unsubscribe()};return z((ae,me)=>{c++,!_&&!f&&j();const De=l=l??t();me.add(()=>{c--,0===c&&!_&&!f&&(a=oc(re,i))}),De.subscribe(me),!o&&c>0&&(o=new J({next:fe=>De.next(fe),error:fe=>{_=!0,j(),a=oc(K,n,fe),De.error(fe)},complete:()=>{f=!0,j(),a=oc(K,r),De.complete()}}),tt(ae).subscribe(o))})(s)}}function oc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new J({next:()=>{r.unsubscribe(),e()}});return tt(t(...n)).subscribe(r)}function er(e,t){return z((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(U(r,l=>{i?.unsubscribe();let c=0;const f=s++;tt(e(l,f)).subscribe(i=U(r,_=>r.next(t?t(l,_,f,c++):_),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function b0(e,t){return e===t}function It(e){for(let t in e)if(e[t]===It)return t;throw Error("Could not find renamed property on target object.")}function rn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(rn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ac(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const S0=It({__forward_ref__:It});function lc(e){return e.__forward_ref__=lc,e.toString=function(){return rn(this())},e}function at(e){return cc(e)?e():e}function cc(e){return"function"==typeof e&&e.hasOwnProperty(S0)&&e.__forward_ref__===lc}function uc(e){return e&&!!e.\u0275providers}class Ie extends Error{constructor(t,n){super(function Qo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ft(e){return"string"==typeof e?e:null==e?"":String(e)}function Jo(e,t){throw new Ie(-201,!1)}function zn(e,t){null==e&&function Tt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ye(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mr(e){return{providers:e.providers||[],imports:e.imports||[]}}function ea(e){return sf(e,ta)||sf(e,lf)}function sf(e,t){return e.hasOwnProperty(t)?e[t]:null}function af(e){return e&&(e.hasOwnProperty(dc)||e.hasOwnProperty(T0))?e[dc]:null}const ta=It({\u0275prov:It}),dc=It({\u0275inj:It}),lf=It({ngInjectableDef:It}),T0=It({ngInjectorDef:It});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let hc;function Pn(e){const t=hc;return hc=e,t}function uf(e,t,n){const r=ea(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ke.Optional?null:void 0!==t?t:void Jo(rn(e))}const Rt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Rs={},fc="__NG_DI_FLAG__",na="ngTempTokenPath",F0=/\n/gm,df="__source";let Fi;function qr(e){const t=Fi;return Fi=e,t}function k0(e,t=Ke.Default){if(void 0===Fi)throw new Ie(-203,!1);return null===Fi?uf(e,void 0,t):Fi.get(e,t&Ke.Optional?null:void 0,t)}function ze(e,t=Ke.Default){return(function cf(){return hc}()||k0)(at(e),t)}function Be(e,t=Ke.Default){return ze(e,ra(t))}function ra(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pc(e){const t=[];for(let n=0;n<e.length;n++){const r=at(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,!1);let i,s=Ke.Default;for(let o=0;o<r.length;o++){const a=r[o],l=N0(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(ze(i,s))}else t.push(ze(r))}return t}function ks(e,t){return e[fc]=t,e.prototype[fc]=t,e}function N0(e){return e[fc]}function Tr(e){return{toString:e}.toString()}var hr=(()=>((hr=hr||{})[hr.OnPush=0]="OnPush",hr[hr.Default=1]="Default",hr))(),Ln=(()=>{return(e=Ln||(Ln={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ln;var e})();const fr={},Et=[],ia=It({\u0275cmp:It}),gc=It({\u0275dir:It}),mc=It({\u0275pipe:It}),ff=It({\u0275mod:It}),Ir=It({\u0275fac:It}),Ns=It({__NG_ELEMENT_ID__:It}),pf=It({__NG_ENV_ID__:It});function gf(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function vc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];vf(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function mf(e){return 3===e||4===e||6===e}function vf(e){return 64===e.charCodeAt(0)}function Os(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||_f(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function _f(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const yf="ng-template";function j0(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==gf(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function bf(e){return 4===e.type&&e.value!==yf}function G0(e,t,n){return t===(4!==e.type||n?e.value:yf)}function H0(e,t,n){let r=4;const i=e.attrs||[],s=function V0(e){for(let t=0;t<e.length;t++)if(mf(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!G0(e,l,n)||""===l&&1===t.length){if(tr(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!j0(e.attrs,c,n)){if(tr(r))return!1;o=!0}continue}const _=B0(8&r?"class":l,i,bf(e),n);if(-1===_){if(tr(r))return!1;o=!0;continue}if(""!==c){let j;j=_>s?"":i[_+1].toLowerCase();const K=8&r?j:null;if(K&&-1!==gf(K,c,0)||2&r&&c!==j){if(tr(r))return!1;o=!0}}}}else{if(!o&&!tr(r)&&!tr(l))return!1;if(o&&tr(l))continue;o=!1,r=l|1&r}}return tr(r)||o}function tr(e){return 0==(1&e)}function B0(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function $0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Sf(e,t,n=!1){for(let r=0;r<t.length;r++)if(H0(e,t[r],n))return!0;return!1}function wf(e,t){return e?":not("+t.trim()+")":t}function z0(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!tr(o)&&(t+=wf(s,i),i=""),r=o,s=s||!tr(r);n++}return""!==i&&(t+=wf(s,i)),t}function xi(e){return Tr(()=>{const t=Df(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===hr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ln.Emulated,styles:e.styles||Et,_:null,schemas:e.schemas||null,tView:null,id:""};Ef(n);const r=e.dependencies;return n.directiveDefs=sa(r,!1),n.pipeDefs=sa(r,!0),n.id=function ew(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function K0(e){return At(e)||pn(e)}function Z0(e){return null!==e}function Xr(e){return Tr(()=>({type:e.type,bootstrap:e.bootstrap||Et,declarations:e.declarations||Et,imports:e.imports||Et,exports:e.exports||Et,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Cf(e,t){if(null==e)return fr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function yn(e){return Tr(()=>{const t=Df(e);return Ef(t),t})}function At(e){return e[ia]||null}function pn(e){return e[gc]||null}function Tn(e){return e[mc]||null}function jn(e,t){const n=e[ff]||null;if(!n&&!0===t)throw new Error(`Type ${rn(e)} does not have '\u0275mod' property.`);return n}function Df(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||fr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Et,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cf(e.inputs,t),outputs:Cf(e.outputs)}}function Ef(e){e.features?.forEach(t=>t(e))}function sa(e,t){if(!e)return null;const n=t?Tn:K0;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Z0)}const sn=0,Ge=1,pt=2,Gt=3,nr=4,Ls=5,gn=6,ki=7,Kt=8,Ni=9,ai=10,gt=11,js=12,Af=13,Oi=14,Zt=15,Gs=16,Li=17,pr=18,Hs=19,Pf=20,Yr=21,Fr=22,oa=23,aa=24,St=25,_c=1,Mf=2,gr=7,ji=9,mn=11;function Gn(e){return Array.isArray(e)&&"object"==typeof e[_c]}function In(e){return Array.isArray(e)&&!0===e[_c]}function yc(e){return 0!=(4&e.flags)}function li(e){return e.componentOffset>-1}function ca(e){return 1==(1&e.flags)}function rr(e){return!!e.template}function bc(e){return 0!=(512&e[pt])}function ci(e,t){return e.hasOwnProperty(Ir)?e[Ir]:null}let ow=Rt.WeakRef??class sw{constructor(t){this.ref=t}deref(){return this.ref}},lw=0,mr=null,ua=!1;function dn(e){const t=mr;return mr=e,t}class Rf{constructor(){this.id=lw++,this.ref=function aw(e){return new ow(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ua;ua=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ua=t}}producerAccessed(){if(ua)throw new Error("");if(null===mr)return;let t=mr.producers.get(this.id);void 0===t?(t={consumerNode:mr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:mr.trackingVersion},mr.producers.set(this.id,t),this.consumers.set(mr.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=mr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==mr?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let kf=null;const Of=()=>{};class hw extends Rf{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Of,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=dn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Of,this.watch(this.registerOnCleanup)}finally{dn(t)}}cleanup(){this.cleanupFn()}}class fw{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ui(){return Lf}function Lf(e){return e.type.prototype.ngOnChanges&&(e.setInput=gw),pw}function pw(){const e=Gf(this),t=e?.current;if(t){const n=e.previous;if(n===fr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function gw(e,t,n,r){const i=this.declaredInputs[n],s=Gf(e)||function mw(e,t){return e[jf]=t}(e,{previous:fr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new fw(l&&l.currentValue,t,a===fr),e[r]=t}ui.ngInherit=!0;const jf="__ngSimpleChanges__";function Gf(e){return e[jf]||null}const vr=function(e,t,n){};function Lt(e){for(;Array.isArray(e);)e=e[sn];return e}function Fn(e,t){return Lt(t[e.index])}function Uf(e,t){return e.data[t]}function Hn(e,t){const n=t[e];return Gn(n)?n:n[sn]}function Kr(e,t){return null==t?null:e[t]}function Vf(e){e[Li]=0}function Cw(e){1024&e[pt]||(e[pt]|=1024,Wf(e,1))}function $f(e){1024&e[pt]&&(e[pt]&=-1025,Wf(e,-1))}function Wf(e,t){let n=e[Gt];if(null===n)return;n[Ls]+=t;let r=n;for(n=n[Gt];null!==n&&(1===t&&1===r[Ls]||-1===t&&0===r[Ls]);)n[Ls]+=t,r=n,n=n[Gt]}const it={lFrame:np(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Xf(){return it.bindingsEnabled}function be(){return it.lFrame.lView}function wt(){return it.lFrame.tView}function fn(){let e=Yf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Yf(){return it.lFrame.currentTNode}function _r(e,t){const n=it.lFrame;n.currentTNode=e,n.isParent=t}function Ac(){return it.lFrame.isParent}function Bi(){return it.lFrame.bindingIndex++}function Lw(e,t){const n=it.lFrame;n.bindingIndex=n.bindingRootIndex=e,Mc(t)}function Mc(e){it.lFrame.currentDirectiveIndex=e}function Jf(){return it.lFrame.currentQueryIndex}function Ic(e){it.lFrame.currentQueryIndex=e}function Gw(e){const t=e[Ge];return 2===t.type?t.declTNode:1===t.type?e[gn]:null}function ep(e,t,n){if(n&Ke.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Ke.Host||(i=Gw(s),null===i||(s=s[Oi],10&i.type))););if(null===i)return!1;t=i,e=s}const r=it.lFrame=tp();return r.currentTNode=t,r.lView=e,!0}function Fc(e){const t=tp(),n=e[Ge];it.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tp(){const e=it.lFrame,t=null===e?null:e.child;return null===t?np(e):t}function np(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function rp(){const e=it.lFrame;return it.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ip=rp;function xc(){const e=rp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sn(){return it.lFrame.selectedIndex}function di(e){it.lFrame.selectedIndex=e}let op=!0;function pa(){return op}function Zr(e){op=e}function ga(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=f&&(e.destroyHooks??=[]).push(n,f)}}function ma(e,t,n){ap(e,t,3,n)}function va(e,t,n,r){(3&e[pt])===n&&ap(e,t,n,r)}function Rc(e,t){let n=e[pt];(3&n)===t&&(n&=8191,n+=1,e[pt]=n)}function ap(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Li]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Li]+=65536),(a<s||-1==s)&&(qw(e,n,t,l),e[Li]=(4294901760&e[Li])+l+2),l++}function lp(e,t){vr(4,e,t);const n=dn(null);try{t.call(e)}finally{dn(n),vr(5,e,t)}}function qw(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[pt]>>13<e[Li]>>16&&(3&e[pt])===t&&(e[pt]+=8192,lp(a,s)):lp(a,s)}const Ui=-1;class Vs{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function cp(e){return e!==Ui}function _a(e){return 32767&e}function ya(e,t){let n=function Zw(e){return e>>16}(e),r=t;for(;n>0;)r=r[Oi],n--;return r}let Nc=!0;function ba(e){const t=Nc;return Nc=e,t}const up=255,dp=5;let Qw=0;const yr={};function Sa(e,t){const n=hp(e,t);if(-1!==n)return n;const r=t[Ge];r.firstCreatePass&&(e.injectorIndex=t.length,Oc(r.data,e),Oc(t,null),Oc(r.blueprint,null));const i=Lc(e,t),s=e.injectorIndex;if(cp(i)){const o=_a(i),a=ya(i,t),l=a[Ge].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function Oc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Lc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=bp(i),null===r)return Ui;if(n++,i=i[Oi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ui}function jc(e,t,n){!function Jw(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ns)&&(r=n[Ns]),null==r&&(r=n[Ns]=Qw++);const i=r&up;t.data[e+(i>>dp)]|=1<<i}(e,t,n)}function fp(e,t,n){if(n&Ke.Optional||void 0!==e)return e;Jo()}function pp(e,t,n,r){if(n&Ke.Optional&&void 0===r&&(r=null),!(n&(Ke.Self|Ke.Host))){const i=e[Ni],s=Pn(void 0);try{return i?i.get(t,r,n&Ke.Optional):uf(t,r,n&Ke.Optional)}finally{Pn(s)}}return fp(r,0,n)}function gp(e,t,n,r=Ke.Default,i){if(null!==e){if(2048&t[pt]&&!(r&Ke.Self)){const o=function iC(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[pt]&&!(512&o[pt]);){const a=mp(s,o,n,r|Ke.Self,yr);if(a!==yr)return a;let l=s.parent;if(!l){const c=o[Pf];if(c){const f=c.get(n,yr,r);if(f!==yr)return f}l=bp(o),o=o[Oi]}s=l}return i}(e,t,n,r,yr);if(o!==yr)return o}const s=mp(e,t,n,r,yr);if(s!==yr)return s}return pp(t,n,r,i)}function mp(e,t,n,r,i){const s=function nC(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ns)?e[Ns]:void 0;return"number"==typeof t?t>=0?t&up:rC:t}(n);if("function"==typeof s){if(!ep(t,e,r))return r&Ke.Host?fp(i,0,r):pp(t,n,r,i);try{const o=s(r);if(null!=o||r&Ke.Optional)return o;Jo()}finally{ip()}}else if("number"==typeof s){let o=null,a=hp(e,t),l=Ui,c=r&Ke.Host?t[Zt][gn]:null;for((-1===a||r&Ke.SkipSelf)&&(l=-1===a?Lc(e,t):t[a+8],l!==Ui&&_p(r,!1)?(o=t[Ge],a=_a(l),t=ya(l,t)):a=-1);-1!==a;){const f=t[Ge];if(vp(s,a,f.data)){const _=tC(a,t,n,o,r,c);if(_!==yr)return _}l=t[a+8],l!==Ui&&_p(r,t[Ge].data[a+8]===c)&&vp(s,a,t)?(o=f,a=_a(l),t=ya(l,t)):a=-1}}return i}function tC(e,t,n,r,i,s){const o=t[Ge],a=o.data[e+8],f=wa(a,o,n,null==r?li(a)&&Nc:r!=o&&0!=(3&a.type),i&Ke.Host&&s===a);return null!==f?hi(t,o,f,a):yr}function wa(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,f=s>>20,j=i?a+f:e.directiveEnd;for(let K=r?a:a+f;K<j;K++){const re=o[K];if(K<l&&n===re||K>=l&&re.type===n)return K}if(i){const K=o[l];if(K&&rr(K)&&K.type===n)return l}return null}function hi(e,t,n,r){let i=e[n];const s=t.data;if(function Xw(e){return e instanceof Vs}(i)){const o=i;o.resolving&&function w0(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Mt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ft(e)}(s[n]));const a=ba(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Pn(o.injectImpl):null;ep(e,r,Ke.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function zw(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Lf(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&Pn(l),ba(a),o.resolving=!1,ip()}}return i}function vp(e,t,n){return!!(n[t+(e>>dp)]&1<<e)}function _p(e,t){return!(e&Ke.Self||e&Ke.Host&&t)}class Vi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return gp(this._tNode,this._lView,t,ra(r),n)}}function rC(){return new Vi(fn(),be())}function Gc(e){return cc(e)?()=>{const t=Gc(at(e));return t&&t()}:ci(e)}function bp(e){const t=e[Ge],n=t.type;return 2===n?t.declTNode:1===n?e[gn]:null}const Wi="__parameters__";function qi(e,t,n){return Tr(()=>{const r=function Hc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,f){const _=l.hasOwnProperty(Wi)?l[Wi]:Object.defineProperty(l,Wi,{value:[]})[Wi];for(;_.length<=f;)_.push(null);return(_[f]=_[f]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function zs(e,t){e.forEach(n=>Array.isArray(n)?zs(n,t):t(n))}function wp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Da(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const Aa=ks(qi("Optional"),8),Pa=ks(qi("SkipSelf"),4);function Fa(e){return 128==(128&e.flags)}var xn=(()=>((xn=xn||{})[xn.Important=1]="Important",xn[xn.DashCase=2]="DashCase",xn))();const qc=new Map;let RC=0;const Yc="__ngContext__";function vn(e,t){Gn(t)?(e[Yc]=t[Hs],function NC(e){qc.set(e[Hs],e)}(t)):e[Yc]=t}let Kc;function Zc(e,t){return Kc(e,t)}function Ks(e){const t=e[Gt];return In(t)?t[Gt]:t}function Vp(e){return Wp(e[js])}function $p(e){return Wp(e[nr])}function Wp(e){for(;null!==e&&!In(e);)e=e[nr];return e}function Zi(e,t,n,r,i){if(null!=r){let s,o=!1;In(r)?s=r:Gn(r)&&(o=!0,r=r[sn]);const a=Lt(r);0===e&&null!==n?null==i?Kp(t,n,a):fi(t,n,a,i||null,!0):1===e&&null!==n?fi(t,n,a,i||null,!0):2===e?function La(e,t,n){const r=Na(e,t);r&&function eD(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function rD(e,t,n,r,i){const s=n[gr];s!==Lt(n)&&Zi(t,e,r,s,i);for(let a=mn;a<n.length;a++){const l=n[a];Qs(l[Ge],l,e,t,r,s)}}(t,e,s,n,i)}}function ka(e,t,n){return e.createElement(t,n)}function qp(e,t){const n=e[ji],r=n.indexOf(t);$f(t),n.splice(r,1)}function Jc(e,t){if(e.length<=mn)return;const n=mn+t,r=e[n];if(r){const i=r[Gs];null!==i&&i!==e&&qp(i,r),t>0&&(e[n-1][nr]=r[nr]);const s=Da(e,mn+t);!function zC(e,t){Qs(e,t,t[gt],2,null,null),t[sn]=null,t[gn]=null}(r[Ge],r);const o=s[pr];null!==o&&o.detachView(s[Ge]),r[Gt]=null,r[nr]=null,r[pt]&=-129}return r}function Xp(e,t){if(!(256&t[pt])){const n=t[gt];t[oa]?.destroy(),t[aa]?.destroy(),n.destroyNode&&Qs(e,t,n,3,null,null),function YC(e){let t=e[js];if(!t)return eu(e[Ge],e);for(;t;){let n=null;if(Gn(t))n=t[js];else{const r=t[mn];r&&(n=r)}if(!n){for(;t&&!t[nr]&&t!==e;)Gn(t)&&eu(t[Ge],t),t=t[Gt];null===t&&(t=e),Gn(t)&&eu(t[Ge],t),n=t&&t[nr]}t=n}}(t)}}function eu(e,t){if(!(256&t[pt])){t[pt]&=-129,t[pt]|=256,function JC(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Vs)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];vr(4,a,l);try{l.call(a)}finally{vr(5,a,l)}}else{vr(4,i,s);try{s.call(i)}finally{vr(5,i,s)}}}}}(e,t),function QC(e,t){const n=e.cleanup,r=t[ki];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[ki]=null);const i=t[Yr];if(null!==i){t[Yr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[Ge].type&&t[gt].destroy();const n=t[Gs];if(null!==n&&In(t[Gt])){n!==t[Gt]&&qp(n,t);const r=t[pr];null!==r&&r.detachView(e)}!function OC(e){qc.delete(e[Hs])}(t)}}function tu(e,t,n){return function Yp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[sn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===Ln.None||s===Ln.Emulated)return null}return Fn(r,n)}}(e,t.parent,n)}function fi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Kp(e,t,n){e.appendChild(t,n)}function Zp(e,t,n,r,i){null!==r?fi(e,t,n,r,i):Kp(e,t,n)}function Na(e,t){return e.parentNode(t)}let nu,ou,eg=function Jp(e,t,n){return 40&e.type?Fn(e,n):null};function Oa(e,t,n,r){const i=tu(e,r,t),s=t[gt],a=function Qp(e,t,n){return eg(e,t,n)}(r.parent||t[gn],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zp(s,i,n[l],a,!1);else Zp(s,i,n,a,!1);void 0!==nu&&nu(s,r,t,n,i)}function Zs(e,t){if(null!==t){const n=t.type;if(3&n)return Fn(t,e);if(4&n)return ru(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Zs(e,r);{const i=e[t.index];return In(i)?ru(-1,i):Lt(i)}}if(32&n)return Zc(t,e)()||Lt(e[t.index]);{const r=ng(e,t);return null!==r?Array.isArray(r)?r[0]:Zs(Ks(e[Zt]),r):Zs(e,t.next)}}return null}function ng(e,t){return null!==t?e[Zt][gn].projection[t.projection]:null}function ru(e,t){const n=mn+e+1;if(n<t.length){const r=t[n],i=r[Ge].firstChild;if(null!==i)return Zs(r,i)}return t[gr]}function iu(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&vn(Lt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)iu(e,t,n.child,r,i,s,!1),Zi(t,e,i,a,s);else if(32&l){const c=Zc(n,r);let f;for(;f=c();)Zi(t,e,i,f,s);Zi(t,e,i,a,s)}else 16&l?ig(e,t,r,n,i,s):Zi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Qs(e,t,n,r,i,s){iu(n,r,e.firstChild,t,i,s,!1)}function ig(e,t,n,r,i,s){const o=n[Zt],l=o[gn].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Zi(t,e,i,l[c],s);else{let c=l;const f=o[Gt];Fa(r)&&(c.flags|=128),iu(e,t,c,f,i,s,!0)}}function sg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function og(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&vc(e,t,r),null!==i&&sg(e,t,i),null!==s&&function sD(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class $e{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ye({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ro=new $e("ENVIRONMENT_INITIALIZER"),bg=new $e("INJECTOR",-1),Sg=new $e("INJECTOR_DEF_TYPES");class wg{get(t,n=Rs){if(n===Rs){const r=new Error(`NullInjectorError: No provider for ${rn(t)}!`);throw r.name="NullInjectorError",r}return n}}function xD(...e){return{\u0275providers:Cg(0,e),\u0275fromNgModule:!0}}function Cg(e,...t){const n=[],r=new Set;let i;return zs(t,s=>{const o=s;fu(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&Dg(i,n),n}function Dg(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];pu(i,s=>{t.push(s)})}}function fu(e,t,n,r){if(!(e=at(e)))return!1;let i=null,s=af(e);const o=!s&&At(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=af(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)fu(c,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{zs(s.imports,f=>{fu(f,t,n,r)&&(c||=[],c.push(f))})}finally{}void 0!==c&&Dg(c,t)}if(!a){const c=ci(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:Et},{provide:Sg,useValue:i,multi:!0},{provide:ro,useValue:()=>ze(i),multi:!0})}const l=s.providers;null==l||a||pu(l,f=>{t.push(f)})}}return i!==e&&void 0!==e.providers}function pu(e,t){for(let n of e)uc(n)&&(n=n.\u0275providers),Array.isArray(n)?pu(n,t):t(n)}const RD=It({provide:String,useValue:It});function gu(e){return null!==e&&"object"==typeof e&&RD in e}function pi(e){return"function"==typeof e}const mu=new $e("Set Injector scope."),Ba={},ND={};let vu;function Ua(){return void 0===vu&&(vu=new wg),vu}class br{}class _u extends br{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bu(t,o=>this.processProvider(o)),this.records.set(bg,Ji(void 0,this)),i.has("environment")&&this.records.set(br,Ji(void 0,this));const s=this.records.get(mu);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Sg.multi,Et,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=qr(this),r=Pn(void 0);try{return t()}finally{qr(n),Pn(r)}}get(t,n=Rs,r=Ke.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(pf))return t[pf](this);r=ra(r);const i=qr(this),s=Pn(void 0);try{if(!(r&Ke.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function HD(e){return"function"==typeof e||"object"==typeof e&&e instanceof $e}(t)&&ea(t);a=l&&this.injectableDefInScope(l)?Ji(yu(t),Ba):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ke.Self?Ua():this.parent).get(t,n=r&Ke.Optional&&n===Rs?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[na]=o[na]||[]).unshift(rn(t)),i)throw o;return function O0(e,t,n,r){const i=e[na];throw t[df]&&i.unshift(t[df]),e.message=function L0(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=rn(t);if(Array.isArray(t))i=t.map(rn).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):rn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(F0,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[na]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{Pn(s),qr(i)}}resolveInjectorInitializers(){const t=qr(this),n=Pn(void 0);try{const r=this.get(ro.multi,Et,Ke.Self);for(const i of r)i()}finally{qr(t),Pn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(rn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(t){let n=pi(t=at(t))?t:at(t&&t.provide);const r=function LD(e){return gu(e)?Ji(void 0,e.useValue):Ji(function Pg(e,t,n){let r;if(pi(e)){const i=at(e);return ci(i)||yu(i)}if(gu(e))r=()=>at(e.useValue);else if(function Ag(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...pc(e.deps||[]));else if(function Eg(e){return!(!e||!e.useExisting)}(e))r=()=>ze(at(e.useExisting));else{const i=at(e&&(e.useClass||e.provide));if(!function jD(e){return!!e.deps}(e))return ci(i)||yu(i);r=()=>new i(...pc(e.deps))}return r}(e),Ba)}(t);if(pi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ji(void 0,Ba,!0),i.factory=()=>pc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ba&&(n.value=ND,n.value=n.factory()),"object"==typeof n.value&&n.value&&function GD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=at(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function yu(e){const t=ea(e),n=null!==t?t.factory:ci(e);if(null!==n)return n;if(e instanceof $e)throw new Ie(204,!1);if(e instanceof Function)return function OD(e){const t=e.length;if(t>0)throw function qs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ie(204,!1);const n=function M0(e){return e&&(e[ta]||e[lf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ie(204,!1)}function Ji(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bu(e,t){for(const n of e)Array.isArray(n)?bu(n,t):n&&uc(n)?bu(n.\u0275providers,t):t(n)}const Va=new $e("AppId",{providedIn:"root",factory:()=>BD}),BD="ng",Mg=new $e("Platform Initializer"),gi=new $e("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Tg=new $e("CSP nonce",{providedIn:"root",factory:()=>function Js(){if(void 0!==ou)return ou;if(typeof document<"u")return document;throw new Ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Fg=(e,t)=>null;function xg(e,t){return Fg(e,t)}class KD{}class Ng{}class QD{resolveComponentFactory(t){throw function ZD(e){const t=Error(`No component factory found for ${rn(e)}.`);return t.ngComponent=e,t}(t)}}let Xa=(()=>{class e{}return e.NULL=new QD,e})();function JD(){return es(fn(),be())}function es(e,t){return new Jr(Fn(e,t))}let Jr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=JD,e})();function eE(e){return e instanceof Jr?e.nativeElement:e}class Lg{}let nE=(()=>{class e{}return e.\u0275prov=Ye({token:e,providedIn:"root",factory:()=>null}),e})();class Ka{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const rE=new Ka("16.1.1"),Fu={};function ao(e){for(;e;){e[pt]|=64;const t=Ks(e);if(bc(e)&&!t)return e;e=t}return null}function xu(e){return e.ngOriginalError}class mi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xu(t);for(;n&&xu(n);)n=xu(n);return n||null}}const Hg=new $e("",{providedIn:"root",factory:()=>!1});function Nr(e){return e instanceof Function?e():e}class Wg extends Rf{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){ao(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const i=dn(this);this.trackingVersion++;try{t(n,r)}finally{dn(i)}}destroy(){this.trackingVersion++}}let Qa=null;function zg(){return Qa??=new Wg,Qa}function qg(e,t){return e[t]??zg()}function Xg(e,t){const n=zg();n.hasReadASignal&&(e[t]=Qa,n.lView=e,Qa=new Wg)}const mt={};function Or(e){Yg(wt(),be(),Sn()+e,!1)}function Yg(e,t,n,r){if(!r)if(3==(3&t[pt])){const s=e.preOrderCheckHooks;null!==s&&ma(t,s,n)}else{const s=e.preOrderHooks;null!==s&&va(t,s,0,n)}di(n)}function Jg(e,t=null,n=null,r){const i=em(e,t,n,r);return i.resolveInjectorInitializers(),i}function em(e,t=null,n=null,r,i=new Set){const s=[n||Et,xD(e)];return r=r||("object"==typeof e?void 0:rn(e)),new _u(s,t||Ua(),r||null,i)}let Lr=(()=>{class e{static create(n,r){if(Array.isArray(n))return Jg({name:""},r,n,"");{const i=n.name??"";return Jg({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=Rs,e.NULL=new wg,e.\u0275prov=Ye({token:e,providedIn:"any",factory:()=>ze(bg)}),e.__NG_ELEMENT_ID__=-1,e})();function Qe(e,t=Ke.Default){const n=be();return null===n?ze(e,t):gp(fn(),n,at(e),t)}function Ja(e,t,n,r,i,s,o,a,l,c,f){const _=t.blueprint.slice();return _[sn]=i,_[pt]=140|r,(null!==c||e&&2048&e[pt])&&(_[pt]|=2048),Vf(_),_[Gt]=_[Oi]=e,_[Kt]=n,_[ai]=o||e&&e[ai],_[gt]=a||e&&e[gt],_[Ni]=l||e&&e[Ni]||null,_[gn]=s,_[Hs]=function kC(){return RC++}(),_[Fr]=f,_[Pf]=c,_[Zt]=2==t.type?e[Zt]:_,_}function ns(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Ru(e,t,n,r,i){const s=Yf(),o=Ac(),l=e.data[t]=function DE(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function Hi(){return null!==it.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function Ow(){return it.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Us(){const e=it.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return _r(s,!0),s}function lo(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function nm(e,t,n,r,i){const s=qg(t,oa),o=Sn(),a=2&r;try{if(di(-1),a&&t.length>St&&Yg(e,t,St,!1),vr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=dn(null);try{n(r,i)}finally{dn(c)}}}finally{a&&null===t[oa]&&Xg(t,oa),di(o),vr(a?3:1,i)}}function ku(e,t,n){if(yc(t)){const r=dn(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{dn(r)}}}function Nu(e,t,n){Xf()&&(function FE(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;li(n)&&function jE(e,t,n){const r=Fn(t,e),i=rm(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=el(e,Ja(e,i,null,o,r,t,null,e[ai].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Sa(n,t),vn(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],c=hi(t,e,a,n);vn(c,t),null!==o&&GE(0,a-i,c,l,0,o),rr(l)&&(Hn(n.index,t)[Kt]=hi(t,e,a,n))}}(e,t,n,Fn(n,t)),64==(64&n.flags)&&lm(e,t,n))}function Ou(e,t,n=Fn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function rm(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Lu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Lu(e,t,n,r,i,s,o,a,l,c,f){const _=St+r,j=_+i,K=function _E(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:mt);return n}(_,j),re="function"==typeof c?c():c;return K[Ge]={type:e,blueprint:K,template:n,queries:null,viewQuery:a,declTNode:t,data:K.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:re,incompleteFirstPass:!1,ssrId:f}}let im=e=>null;function sm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?om(n,t,i,s):r.hasOwnProperty(i)&&om(n,t,r[i],s)}return n}function om(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function ju(e,t,n,r){if(Xf()){const i=null===r?null:{"":-1},s=function RE(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Sf(t,o.selectors,!1))if(r||(r=[]),rr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Gu(e,t,a.length)}else r.unshift(o),Gu(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&am(e,t,n,o,i,a),i&&function kE(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new Ie(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Os(n.mergedAttrs,n.attrs)}function am(e,t,n,r,i,s){for(let c=0;c<r.length;c++)jc(Sa(n,t),e,r[c].type);!function OE(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const f=r[c];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,l=lo(e,t,r.length,null);for(let c=0;c<r.length;c++){const f=r[c];n.mergedAttrs=Os(n.mergedAttrs,f.hostAttrs),LE(e,n,t,l,f),NE(l,f,i),null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const _=f.type.prototype;!o&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function EE(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<i;f++){const _=s[f],j=n?n.get(_):null,re=j?j.outputs:null;l=sm(_.inputs,f,l,j?j.inputs:null),c=sm(_.outputs,f,c,re);const ae=null===l||null===o||bf(t)?null:HE(l,f,o);a.push(ae)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,s)}function lm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function jw(){return it.lFrame.currentDirectiveIndex}();try{di(s);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Mc(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&xE(l,c)}}finally{di(-1),Mc(o)}}function xE(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gu(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function NE(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;rr(t)&&(n[""]=e)}}function LE(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ci(i.type)),o=new Vs(s,rr(i),Qe);e.blueprint[r]=o,n[r]=o,function TE(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function IE(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,lo(e,n,i.hostVars,mt),i)}function GE(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)cm(r,n,o[a++],o[a++],o[a++])}function cm(e,t,n,r,i){const s=dn(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{dn(s)}}function HE(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function um(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function dm(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Ic(n[r]),o.contentQueries(2,t[s],s)}}}function el(e,t){return e[js]?e[Af][nr]=t:e[js]=t,e[Af]=t,t}function Bu(e,t,n){Ic(0);const r=dn(null);try{t(e,n)}finally{dn(r)}}function hm(e){return e[ki]||(e[ki]=[])}function fm(e){return e.cleanup||(e.cleanup=[])}function gm(e,t){const n=e[Ni],r=n?n.get(mi,null):null;r&&r.handleError(t)}function Uu(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];cm(e.data[o],t[o],r,a,i)}}function jr(e,t,n){const r=function fa(e,t){return Lt(t[e])}(t,e);!function zp(e,t,n){e.setValue(t,n)}(e[gt],r,n)}function BE(e,t){const n=Hn(t,e),r=n[Ge];!function UE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[sn];null!==i&&null===n[Fr]&&(n[Fr]=xg(i,n[Ni])),Vu(r,n,n[Kt])}function Vu(e,t,n){Fc(t);try{const r=e.viewQuery;null!==r&&Bu(1,r,n);const i=e.template;null!==i&&nm(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dm(e,t),e.staticViewQueries&&Bu(2,e.viewQuery,n);const s=e.components;null!==s&&function VE(e,t){for(let n=0;n<t.length;n++)BE(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[pt]&=-5,xc()}}let mm=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new hw(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Ye({token:e,providedIn:"root",factory:()=>new e}),e})();function tl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=ac(i,a):2==s&&(r=ac(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function co(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Lt(s)),In(s)){for(let a=mn;a<s.length;a++){const l=s[a],c=l[Ge].firstChild;null!==c&&co(l[Ge],l,c,r)}s[gr]!==s[sn]&&r.push(s[gr])}const o=n.type;if(8&o)co(e,t,n.child,r);else if(32&o){const a=Zc(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=ng(t,n);if(Array.isArray(a))r.push(...a);else{const l=Ks(t[Zt]);co(l[Ge],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function nl(e,t,n,r=!0){const i=t[ai].rendererFactory;i.begin&&i.begin();try{vm(e,t,e.template,n)}catch(o){throw r&&gm(t,o),o}finally{i.end&&i.end(),t[ai].effectManager?.flush()}}function vm(e,t,n,r){const i=t[pt];if(256!=(256&i)){t[ai].effectManager?.flush(),Fc(t);try{Vf(t),function Zf(e){return it.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&nm(e,t,n,2,r);const o=3==(3&i);if(o){const c=e.preOrderCheckHooks;null!==c&&ma(t,c,null)}else{const c=e.preOrderHooks;null!==c&&va(t,c,0,null),Rc(t,0)}if(function XE(e){for(let t=Vp(e);null!==t;t=$p(t)){if(!t[Mf])continue;const n=t[ji];for(let r=0;r<n.length;r++){Cw(n[r])}}}(t),_m(t,2),null!==e.contentQueries&&dm(e,t),o){const c=e.contentCheckHooks;null!==c&&ma(t,c)}else{const c=e.contentHooks;null!==c&&va(t,c,1),Rc(t,1)}!function vE(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=qg(t,aa);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)di(~s);else{const o=s,a=n[++i],l=n[++i];Lw(a,o),r.runInContext(l,2,t[o])}}}finally{null===t[aa]&&Xg(t,aa),di(-1)}}(e,t);const a=e.components;null!==a&&bm(t,a,0);const l=e.viewQuery;if(null!==l&&Bu(2,l,r),o){const c=e.viewCheckHooks;null!==c&&ma(t,c)}else{const c=e.viewHooks;null!==c&&va(t,c,2),Rc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[pt]&=-73,$f(t)}finally{xc()}}}function _m(e,t){for(let n=Vp(e);null!==n;n=$p(n))for(let r=mn;r<n.length;r++)ym(n[r],t)}function YE(e,t,n){ym(Hn(t,e),n)}function ym(e,t){if(!function Sw(e){return 128==(128&e[pt])}(e))return;const n=e[Ge];if(80&e[pt]&&0===t||1024&e[pt]||2===t)vm(n,e,n.template,e[Kt]);else if(e[Ls]>0){_m(e,1);const i=e[Ge].components;null!==i&&bm(e,i,1)}}function bm(e,t,n){for(let r=0;r<t.length;r++)YE(e,t[r],n)}class uo{get rootNodes(){const t=this._lView,n=t[Ge];return co(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(t){this._lView[Kt]=t}get destroyed(){return 256==(256&this._lView[pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Gt];if(In(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Jc(t,r),Da(n,r))}this._attachedToViewContainer=!1}Xp(this._lView[Ge],this._lView)}onDestroy(t){!function zf(e,t){if(256==(256&e[pt]))throw new Ie(911,!1);null===e[Yr]&&(e[Yr]=[]),e[Yr].push(t)}(this._lView,t)}markForCheck(){ao(this._cdRefInjectingView||this._lView)}detach(){this._lView[pt]&=-129}reattach(){this._lView[pt]|=128}detectChanges(){nl(this._lView[Ge],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function XC(e,t){Qs(e,t,t[gt],2,null,null)}(this._lView[Ge],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=t}}class KE extends uo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;nl(t[Ge],t,t[Kt],!1)}checkNoChanges(){}get context(){return null}}class Sm extends Xa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=At(t);return new ho(n,this.ngModule)}}function wm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class QE{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ra(r);const i=this.injector.get(t,Fu,r);return i!==Fu||n===Fu?i:this.parentInjector.get(t,n,r)}}class ho extends Ng{get inputs(){return wm(this.componentDef.inputs)}get outputs(){return wm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function q0(e){return e.map(z0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof br?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new QE(t,s):t,a=o.get(Lg,null);if(null===a)throw new Ie(407,!1);const f={rendererFactory:a,sanitizer:o.get(nE,null),effectManager:o.get(mm,null)},_=a.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",K=r?function yE(e,t,n,r){const s=r.get(Hg,!1)||n===Ln.ShadowDom,o=e.selectRootElement(t,s);return function bE(e){im(e)}(o),o}(_,r,this.componentDef.encapsulation,o):ka(_,j,function ZE(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(j)),me=this.componentDef.signals?4608:this.componentDef.onPush?576:528,De=Lu(0,null,null,1,0,null,null,null,null,null,null),fe=Ja(null,De,null,me,null,null,f,_,o,null,null);let He,Je;Fc(fe);try{const lt=this.componentDef;let cn,ic=null;lt.findHostDirectiveDefs?(cn=[],ic=new Map,lt.findHostDirectiveDefs(lt,cn,ic),cn.push(lt)):cn=[lt];const BO=function eA(e,t){const n=e[Ge],r=St;return e[r]=t,ns(n,r,2,"#host",null)}(fe,K),UO=function tA(e,t,n,r,i,s,o){const a=i[Ge];!function nA(e,t,n,r){for(const i of e)t.mergedAttrs=Os(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(tl(t,t.mergedAttrs,!0),null!==n&&og(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=xg(t,i[Ni]));const c=s.rendererFactory.createRenderer(t,n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const _=Ja(i,rm(n),null,f,i[e.index],e,s,c,null,null,l);return a.firstCreatePass&&Gu(a,e,r.length-1),el(i,_),i[e.index]=_}(BO,K,lt,cn,fe,f,_);Je=Uf(De,St),K&&function iA(e,t,n,r){if(r)vc(e,n,["ng-version",rE.full]);else{const{attrs:i,classes:s}=function X0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!tr(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&vc(e,n,i),s&&s.length>0&&sg(e,n,s.join(" "))}}(_,lt,K,r),void 0!==n&&function sA(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(Je,this.ngContentSelectors,n),He=function rA(e,t,n,r,i,s){const o=fn(),a=i[Ge],l=Fn(o,i);am(a,i,o,n,null,r);for(let f=0;f<n.length;f++)vn(hi(i,a,o.directiveStart+f,o),i);lm(a,i,o),l&&vn(l,i);const c=hi(i,a,o.directiveStart+o.componentOffset,o);if(e[Kt]=i[Kt]=c,null!==s)for(const f of s)f(c,t);return ku(a,o,e),c}(UO,lt,cn,ic,fe,[oA]),Vu(De,fe,null)}finally{xc()}return new JE(this.componentType,He,es(Je,fe),fe,Je)}}class JE extends KD{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new KE(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Uu(s[Ge],s,i,t,n),this.previousInputValues.set(t,n),ao(Hn(this._tNode.index,s))}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function oA(){const e=fn();ga(be()[Ge],e)}function _n(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vo(e,t,n,r,i,s,o,a){const l=be(),c=wt(),f=e+St,_=c.firstCreatePass?function NA(e,t,n,r,i,s,o,a,l){const c=t.consts,f=ns(t,e,4,o||null,Kr(c,a));ju(t,n,f,Kr(c,l)),ga(t,f);const _=f.tView=Lu(2,f,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),_.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,n,r,i,s,o):c.data[f];_r(_,!1);const j=Bm(c,l,_,e);pa()&&Oa(c,l,j,_),vn(j,l),el(l,l[f]=um(j,l,j,_)),ca(_)&&Nu(c,l,_),null!=o&&Ou(l,_,a)}let Bm=function Um(e,t,n,r){return Zr(!0),t[gt].createComment("")};function ei(e,t,n){const r=be();return _n(r,Bi(),t)&&function Un(e,t,n,r,i,s,o,a){const l=Fn(t,n);let f,c=t.inputs;!a&&null!=c&&(f=c[r])?(Uu(e,n,f,r,i),li(t)&&function PE(e,t){const n=Hn(t,e);16&n[pt]||(n[pt]|=64)}(n,t.index)):3&t.type&&(r=function AE(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}(wt(),function Ht(){const e=it.lFrame;return Uf(e.tView,e.selectedIndex)}(),r,e,t,r[gt],n,!1),ei}function Zu(e,t,n,r,i){const o=i?"class":"style";Uu(e,n,t.inputs[o],o,r)}function Yn(e,t,n,r){const i=be(),s=wt(),o=St+e,a=i[gt],l=s.firstCreatePass?function HA(e,t,n,r,i,s){const o=t.consts,l=ns(t,e,2,r,Kr(o,i));return ju(t,n,l,Kr(o,s)),null!==l.attrs&&tl(l,l.attrs,!1),null!==l.mergedAttrs&&tl(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],c=Vm(s,i,l,a,t,e);i[o]=c;const f=ca(l);return _r(l,!0),og(a,c,l),32!=(32&l.flags)&&pa()&&Oa(s,i,c,l),0===function Ew(){return it.lFrame.elementDepthCount}()&&vn(c,i),function Aw(){it.lFrame.elementDepthCount++}(),f&&(Nu(s,i,l),ku(s,l,i)),null!==r&&Ou(i,l),Yn}function Kn(){let e=fn();Ac()?function Pc(){it.lFrame.isParent=!1}():(e=e.parent,_r(e,!1));const t=e;(function Mw(e){return it.skipHydrationRootTNode===e})(t)&&function xw(){it.skipHydrationRootTNode=null}(),function Pw(){it.lFrame.elementDepthCount--}();const n=wt();return n.firstCreatePass&&(ga(n,e),yc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Yw(e){return 0!=(8&e.flags)}(t)&&Zu(n,t,be(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Kw(e){return 0!=(16&e.flags)}(t)&&Zu(n,t,be(),t.stylesWithoutHost,!1),Kn}function _i(e,t,n,r){return Yn(e,t,n,r),Kn(),_i}let Vm=(e,t,n,r,i,s)=>(Zr(!0),ka(r,i,function sp(){return it.lFrame.currentNamespace}()));function cl(e){return!!e&&"function"==typeof e.then}function zm(e){return!!e&&"function"==typeof e.subscribe}function hs(e,t,n,r){const i=be(),s=wt(),o=fn();return function Xm(e,t,n,r,i,s,o){const a=ca(r),c=e.firstCreatePass&&fm(e),f=t[Kt],_=hm(t);let j=!0;if(3&r.type||o){const ae=Fn(r,t),me=o?o(ae):ae,De=_.length,fe=o?Je=>o(Lt(Je[r.index])):r.index;let He=null;if(!o&&a&&(He=function qA(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[ki],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==He)(He.__ngLastListenerFn__||He).__ngNextListenerFn__=s,He.__ngLastListenerFn__=s,j=!1;else{s=Km(r,t,f,s,!1);const Je=n.listen(me,i,s);_.push(s,Je),c&&c.push(i,fe,De,De+1)}}else s=Km(r,t,f,s,!1);const K=r.outputs;let re;if(j&&null!==K&&(re=K[i])){const ae=re.length;if(ae)for(let me=0;me<ae;me+=2){const lt=t[re[me]][re[me+1]].subscribe(s),cn=_.length;_.push(s,lt),c&&c.push(i,r.index,cn,-(cn+1))}}}(s,i,i[gt],o,e,t,r),hs}function Ym(e,t,n,r){try{return vr(6,t,n),!1!==n(r)}catch(i){return gm(e,i),!1}finally{vr(7,t,n)}}function Km(e,t,n,r,i){return function s(o){if(o===Function)return r;ao(e.componentOffset>-1?Hn(e.index,t):t);let l=Ym(t,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Ym(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function Zm(e=1){return function Hw(e){return(it.lFrame.contextLView=function Bw(e,t){for(;e>0;)t=t[Oi],e--;return t}(e,it.lFrame.contextLView))[Kt]}(e)}function ni(e,t=""){const n=be(),r=wt(),i=e+St,s=r.firstCreatePass?ns(r,i,1,t,null):r.data[i],o=wv(r,n,s,t,e);n[i]=o,pa()&&Oa(r,n,o,s),_r(s,!1)}let wv=(e,t,n,r,i)=>(Zr(!0),function Ra(e,t){return e.createText(t)}(t[gt],r));function yo(e,t,n){const r=be(),i=function is(e,t,n,r){return _n(e,Bi(),n)?t+ft(n)+r:mt}(r,e,t,n);return i!==mt&&jr(r,Sn(),i),yo}const gs="en-US";let Wv=gs;class ms{}class v_{}class dd extends ms{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sm(this);const i=jn(t);this._bootstrapComponents=Nr(i.bootstrap),this._r3Injector=em(t,n,[{provide:ms,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver},...r],rn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class hd extends v_{constructor(t){super(),this.moduleType=t}create(t){return new dd(this.moduleType,t,[])}}class __ extends ms{constructor(t){super(),this.componentFactoryResolver=new Sm(this),this.instance=null;const n=new _u([...t.providers,{provide:ms,useValue:this},{provide:Xa,useValue:this.componentFactoryResolver}],t.parent||Ua(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function fd(e,t,n=null){return new __({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let UM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=Cg(0,n.type),i=r.length>0?fd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ye({token:e,providedIn:"environment",factory:()=>new e(ze(br))}),e})();function y_(e){e.getStandaloneInjector=t=>t.get(UM).getOrCreateStandaloneInjector(e)}function gd(e){return t=>{setTimeout(e,void 0,t)}}const Cn=class pT extends v{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=gd(s),i&&(i=gd(i)),o&&(o=gd(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof Q&&t.add(a),a}};function gT(){return this._results[Symbol.iterator]()}class md{get changes(){return this._changes||(this._changes=new Cn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=md.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=gT)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function qn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function aC(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Gr=(()=>{class e{}return e.__NG_ELEMENT_ID__=_T,e})();const mT=Gr,vT=class extends mT{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const o=this._declarationTContainer.tView,a=Ja(this._declarationLView,o,t,4096&this._declarationLView[pt]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Gs]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[pr];return null!==c&&(a[pr]=c.createEmbeddedView(o)),Vu(o,a,t),new uo(a)}};function _T(){return ml(fn(),be())}function ml(e,t){return 4&e.type?new vT(t,e,es(e,t)):null}let or=(()=>{class e{}return e.__NG_ELEMENT_ID__=ET,e})();function ET(){return O_(fn(),be())}const AT=or,k_=class extends AT{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return es(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const t=Lc(this._hostTNode,this._hostLView);if(cp(t)){const n=ya(t,this._hostLView),r=_a(t);return new Vi(n[Ge].data[r+8],n)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=N_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-mn}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function Ws(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const ae=n||{};a=ae.index,r=ae.injector,i=ae.projectableNodes,s=ae.environmentInjector||ae.ngModuleRef}const l=o?t:new ho(At(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const me=(o?c:this.parentInjector).get(br,null);me&&(s=me)}At(l.componentType??{});const K=l.create(c,i,null,s);return this.insertImpl(K.hostView,a,false),K}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView,s=i[Ge];if(function ww(e){return In(e[Gt])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[Gt],f=new k_(c,c[gn],c[Gt]);f.detach(f.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;if(function KC(e,t,n,r){const i=mn+r,s=n.length;r>0&&(n[i-1][nr]=t),r<s-mn?(t[nr]=n[i],wp(n,mn+r,t)):(n.push(t),t[nr]=null),t[Gt]=n;const o=t[Gs];null!==o&&n!==o&&function ZC(e,t){const n=e[ji];t[Zt]!==t[Gt][Gt][Zt]&&(e[Mf]=!0),null===n?e[ji]=[t]:n.push(t)}(o,t);const a=t[pr];null!==a&&a.insertView(e),t[pt]|=128}(s,i,a,o),!r){const l=ru(o,a),c=i[gt],f=Na(c,a[gr]);null!==f&&function qC(e,t,n,r,i,s){r[sn]=i,r[gn]=t,Qs(e,r,n,1,i,s)}(s,a[gn],c,i,f,l)}return t.attachToViewContainerRef(),wp(_d(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=N_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Jc(this._lContainer,n);r&&(Da(_d(this._lContainer),n),Xp(r[Ge],r))}detach(t){const n=this._adjustIndex(t,-1),r=Jc(this._lContainer,n);return r&&null!=Da(_d(this._lContainer),n)?new uo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function N_(e){return e[8]}function _d(e){return e[8]||(e[8]=[])}function O_(e,t){let n;const r=t[e.index];return In(r)?n=r:(n=um(r,t,null,e),t[e.index]=n,el(t,n)),L_(n,t,e,r),new k_(n,e,t)}let L_=function j_(e,t,n,r){if(e[gr])return;let i;i=8&n.type?Lt(r):function PT(e,t){const n=e[gt],r=n.createComment(""),i=Fn(t,e);return fi(n,Na(n,i),r,function tD(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[gr]=i};class yd{constructor(t){this.queryList=t,this.matches=null}clone(){return new yd(this.queryList)}setDirty(){this.queryList.setDirty()}}class bd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new bd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==W_(t,n).matches&&this.queries[n].setDirty()}}class G_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Sd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Sd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class wd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new wd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,IT(n,s)),this.matchTNodeWithReadOption(t,n,wa(n,t,s,!1,!1))}else r===Gr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,wa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Jr||i===or||i===Gr&&4&n.type)this.addMatch(n.index,-2);else{const s=wa(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function IT(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function xT(e,t,n,r){return-1===n?function FT(e,t){return 11&e.type?es(e,t):4&e.type?ml(e,t):null}(t,e):-2===n?function RT(e,t,n){return n===Jr?es(t,e):n===Gr?ml(t,e):n===or?O_(t,e):void 0}(e,t,r):hi(e,e[Ge],n,t)}function H_(e,t,n,r){const i=t[pr].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:xT(t,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function Cd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=H_(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],f=t[-l];for(let _=mn;_<f.length;_++){const j=f[_];j[Gs]===j[Gt]&&Cd(j[Ge],j,c,r)}if(null!==f[ji]){const _=f[ji];for(let j=0;j<_.length;j++){const K=_[j];Cd(K[Ge],K,c,r)}}}}}return r}function Dd(e){const t=be(),n=wt(),r=Jf();Ic(r+1);const i=W_(n,r);if(e.dirty&&function bw(e){return 4==(4&e[pt])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Cd(n,t,r,[]):H_(n,t,i,r);e.reset(s,eE),e.notifyOnChanges()}return!0}return!1}function B_(e,t,n){const r=wt();r.firstCreatePass&&(function $_(e,t,n){null===e.queries&&(e.queries=new Sd),e.queries.track(new wd(t,n))}(r,new G_(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function V_(e,t,n){const r=new md(4==(4&n));(function CE(e,t,n,r){const i=hm(t);i.push(n),e.firstCreatePass&&fm(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[pr]&&(t[pr]=new bd),t[pr].queries.push(new yd(r))}(r,be(),t)}function W_(e,t){return e.queries.getByIndex(t)}const Fd=new $e("Application Initializer");let xd=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Be(Fd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(cl(s))n.push(s);else if(zm(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ly=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Hr=new $e("LocaleId",{providedIn:"root",factory:()=>Be(Hr,Ke.Optional|Ke.SkipSelf)||function rI(){return typeof $localize<"u"&&$localize.locale||gs}()});let _l=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new M(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class sI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let cy=(()=>{class e{compileModuleSync(n){return new hd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Nr(jn(n).declarations).reduce((o,a)=>{const l=At(a);return l&&o.push(new ho(l)),o},[]);return new sI(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const lI=(()=>Promise.resolve(0))();function Rd(e){typeof Zone>"u"?lI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function hy(...e){}class Bt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function cI(){let e=Rt.requestAnimationFrame,t=Rt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function hI(e){const t=()=>{!function dI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Rt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Nd(e),e.isCheckStableRunning=!0,kd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Nd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return fy(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),py(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return fy(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),py(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Nd(e),kd(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bt.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Bt.isInAngularZone())throw new Ie(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,uI,hy,hy);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const uI={};function kd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function fy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function py(e){e._nesting--,kd(e)}class fI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const gy=new $e("",{providedIn:"root",factory:my});function my(){const e=Be(Bt);let t=!0;return function _0(...e){const t=xs(e),n=function d0(e,t){return"number"==typeof sc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?tt(r[0]):Wn(n)(un(r,t)):Nn}(new Ee(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Ee(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Bt.assertNotInAngularZone(),Rd(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{Bt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(nf()))}const vy=new $e(""),yl=new $e("");let jd,Od=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jd||(function pI(e){jd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bt.assertNotInAngularZone(),Rd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rd(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(ze(Bt),ze(Ld),ze(yl))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})(),Ld=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jd?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ri=null;const _y=new $e("AllowMultipleToken"),Gd=new $e("PlatformDestroyListeners"),Hd=new $e("appBootstrapListener");class by{constructor(t,n){this.name=t,this.token=n}}function wy(e,t,n=[]){const r=`Platform: ${t}`,i=new $e(r);return(s=[])=>{let o=Bd();if(!o||o.injector.get(_y,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function vI(e){if(ri&&!ri.get(_y,!1))throw new Ie(400,!1);(function yy(){!function uw(e){kf=e}(()=>{throw new Ie(600,!1)})})(),ri=e;const t=e.get(Dy);(function Sy(e){e.get(Mg,null)?.forEach(n=>n())})(e)}(function Cy(e=[],t){return Lr.create({name:t,providers:[{provide:mu,useValue:"platform"},{provide:Gd,useValue:new Set([()=>ri=null])},...e]})}(a,r))}return function yI(e){const t=Bd();if(!t)throw new Ie(401,!1);return t}()}}function Bd(){return ri?.get(Dy)??null}let Dy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function bI(e="zone.js",t){return"noop"===e?new fI:"zone.js"===e?new Bt(t):e}(r?.ngZone,function Ey(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function BM(e,t,n){return new dd(e,t,n)}(n.moduleType,this.injector,function Iy(e){return[{provide:Bt,useFactory:e},{provide:ro,multi:!0,useFactory:()=>{const t=Be(wI,{optional:!0});return()=>t.initialize()}},{provide:Ty,useFactory:SI},{provide:gy,useFactory:my}]}(()=>i)),o=s.injector.get(mi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{bl(this._modules,s),a.unsubscribe()})}),function Ay(e,t,n){try{const r=n();return cl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(xd);return a.runInitializers(),a.donePromise.then(()=>(function zv(e){zn(e,"Expected localeId to be defined"),"string"==typeof e&&(Wv=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Hr,gs)||gs),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=Py({},r);return function gI(e,t,n){const r=new hd(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ys);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ie(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Gd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ze(Lr))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Py(e,t){return Array.isArray(t)?t.reduce(Py,e):{...e,...t}}let ys=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Be(Ty),this.zoneIsStable=Be(gy),this.componentTypes=[],this.components=[],this.isStable=Be(_l).hasPendingTasks.pipe(er(n=>n?rt(!1):this.zoneIsStable),function y0(e,t=Pe){return e=e??b0,z((n,r)=>{let i,s=!0;n.subscribe(U(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),nf()),this._injector=Be(br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof Ng;if(!this._injector.get(xd).done)throw!i&&function Ri(e){const t=At(e)||pn(e)||Tn(e);return null!==t&&t.standalone}(n),new Ie(405,!1);let o;o=i?n:this._injector.get(Xa).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function mI(e){return e.isBoundToModule}(o)?void 0:this._injector.get(ms),c=o.create(Lr.NULL,[],r||o.selector,a),f=c.location.nativeElement,_=c.injector.get(vy,null);return _?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),bl(this.components,c),_?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;bl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Hd,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ie(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ty=new $e("",{providedIn:"root",factory:()=>Be(mi).handleError.bind(void 0)});function SI(){const e=Be(Bt),t=Be(mi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let wI=(()=>{class e{constructor(){this.zone=Be(Bt),this.applicationRef=Be(ys)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Ud=(()=>{class e{}return e.__NG_ELEMENT_ID__=DI,e})();function DI(e){return function EI(e,t,n){if(li(e)&&!n){const r=Hn(e.index,t);return new uo(r,r)}return 47&e.type?new uo(t[Zt],t):null}(fn(),be(),16==(16&e))}const jI=wy(null,"core",[]);let GI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ze(ys))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({}),e})(),Kd=null;function bs(){return Kd}class ZI{}const Vn=new $e("DocumentToken");let Zd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return Be(JI)},providedIn:"platform"}),e})();const QI=new $e("Location Initialized");let JI=(()=>{class e extends Zd{constructor(){super(),this._doc=Be(Vn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bs().getBaseHref(this._doc)}onPopState(n){const r=bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=bs().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function Qd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function zy(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Br(e){return e&&"?"!==e[0]?"?"+e:e}let wi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return Be(Xy)},providedIn:"root"}),e})();const qy=new $e("appBaseHref");let Xy=(()=>{class e extends wi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Be(Vn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Br(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Br(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ze(Zd),ze(qy,8))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),eF=(()=>{class e extends wi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Qd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Br(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(ze(Zd),ze(qy,8))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})(),Jd=(()=>{class e{constructor(n){this._subject=new Cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function rF(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(zy(Yy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Br(r))}normalize(n){return e.stripTrailingSlash(function nF(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Yy(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Br(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Br,e.joinWithSlash=Qd,e.stripTrailingSlash=zy,e.\u0275fac=function(n){return new(n||e)(ze(wi))},e.\u0275prov=Ye({token:e,factory:function(){return function tF(){return new Jd(ze(wi))}()},providedIn:"root"}),e})();function Yy(e){return e.replace(/\/index.html$/,"")}function ib(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let lb=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new $F,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(Qe(or),Qe(Gr))},e.\u0275dir=yn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class $F{constructor(){this.$implicit=null,this.ngIf=null}}function cb(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${rn(t)}'.`)}let gx=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({}),e})();function fb(e){return"server"===e}let yx=(()=>{class e{}return e.\u0275prov=Ye({token:e,providedIn:"root",factory:()=>new bx(ze(Vn),window)}),e})();class bx{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function Sx(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=pb(this.window.history)||pb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class gb{}class $x extends ZI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mh extends $x{static makeCurrent(){!function KI(e){Kd||(Kd=e)}(new mh)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function Wx(){return xo=xo||document.querySelector("base"),xo?xo.getAttribute("href"):null}();return null==n?null:function zx(e){Ol=Ol||document.createElement("a"),Ol.setAttribute("href",e);const t=Ol.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){xo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ib(document.cookie,t)}}let Ol,xo=null,Xx=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const vh=new $e("EventManagerPlugins");let bb=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Ie(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return e.\u0275fac=function(n){return new(n||e)(ze(vh),ze(Bt))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();class Sb{constructor(t){this._doc=t}}const _h="ng-app-id";let wb=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fb(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_h}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(_h),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(_h,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(ze(Vn),ze(Va),ze(Tg,8),ze(gi))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const yh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bh=/%COMP%/g,Qx=new $e("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Db(e,t){return t.map(n=>n.replace(bh,e))}let Eb=(()=>{class e{constructor(n,r,i,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=fb(a),this.defaultRenderer=new Sh(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ln.ShadowDom&&(r={...r,encapsulation:Ln.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Pb?i.applyToHost(n):i instanceof wh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,f=this.removeStylesOnCompDestory,_=this.platformIsServer;switch(r.encapsulation){case Ln.Emulated:s=new Pb(l,c,r,this.appId,f,o,a,_);break;case Ln.ShadowDom:return new nR(l,c,n,r,o,a,this.nonce,_);default:s=new wh(l,c,r,f,o,a,_)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(n){return new(n||e)(ze(bb),ze(wb),ze(Va),ze(Qx),ze(Vn),ze(gi),ze(Bt),ze(Tg))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();class Sh{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(yh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ab(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ab(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Ie(5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=yh[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=yh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(xn.DashCase|xn.Important)?t.style.setProperty(n,r,i&xn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&xn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=bs().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Ab(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class nR extends Sh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Db(i.id,i.styles);for(const f of c){const _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=f,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wh extends Sh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=l?Db(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Pb extends wh{constructor(t,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,n,r,s,o,a,l,c),this.contentAttr=function Jx(e){return"_ngcontent-%COMP%".replace(bh,e)}(c),this.hostAttr=function eR(e){return"_nghost-%COMP%".replace(bh,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let rR=(()=>{class e extends Sb{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(ze(Vn))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const Mb=["alt","control","meta","shift"],iR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sR={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let oR=(()=>{class e extends Sb{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Mb.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=iR[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Mb.forEach(o=>{o!==i&&(0,sR[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ze(Vn))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const uR=wy(jI,"browser",[{provide:gi,useValue:"browser"},{provide:Mg,useValue:function aR(){mh.makeCurrent()},multi:!0},{provide:Vn,useFactory:function cR(){return function cD(e){ou=e}(document),document},deps:[]}]),dR=new $e(""),Fb=[{provide:yl,useClass:class qx{addToWindow(t){Rt.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new Ie(5103,!1);return s},Rt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Rt.getAllAngularRootElements=()=>t.getAllRootElements(),Rt.frameworkStabilizers||(Rt.frameworkStabilizers=[]),Rt.frameworkStabilizers.push(r=>{const i=Rt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?bs().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:vy,useClass:Od,deps:[Bt,Ld,yl]},{provide:Od,useClass:Od,deps:[Bt,Ld,yl]}],xb=[{provide:mu,useValue:"root"},{provide:mi,useFactory:function lR(){return new mi},deps:[]},{provide:vh,useClass:rR,multi:!0,deps:[Vn,Bt,gi]},{provide:vh,useClass:oR,multi:!0,deps:[Vn]},Eb,wb,bb,{provide:Lg,useExisting:Eb},{provide:gb,useClass:Xx,deps:[]},[]];let hR=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Va,useValue:n.appId}]}}}return e.\u0275fac=function(n){return new(n||e)(ze(dR,12))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({providers:[...xb,...Fb],imports:[gx,GI]}),e})(),Rb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(ze(Vn))},e.\u0275prov=Ye({token:e,factory:function(n){let r=null;return r=n?new n:function pR(){return new Rb(ze(Vn))}(),r},providedIn:"root"}),e})();function Ss(e,t){return h(t)?$t(e,t,1):$t(e,1)}function Vr(e,t){return z((n,r)=>{let i=0;n.subscribe(U(r,s=>e.call(t,s,i++)&&r.next(s)))})}function Ro(e){return z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}typeof window<"u"&&window;class Ll{}class jl{}class Er{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Er;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Er?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class yR{encodeKey(t){return Lb(t)}encodeValue(t){return Lb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const SR=/%(\d[a-f0-9])/gi,wR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lb(e){return encodeURIComponent(e).replace(SR,(t,n)=>wR[n]??t)}function Gl(e){return`${e}`}class si{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bR(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Gl):[Gl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new si({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Gl(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Gl(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class CR{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function jb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Gb(e){return typeof Blob<"u"&&e instanceof Blob}function Hb(e){return typeof FormData<"u"&&e instanceof FormData}class ko{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function DR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Er),this.context||(this.context=new CR),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new si,this.urlWithParams=n}serializeBody(){return null===this.body?null:jb(this.body)||Gb(this.body)||Hb(this.body)||function ER(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof si?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Hb(this.body)?null:Gb(this.body)?this.body.type||null:jb(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof si?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((_,j)=>_.set(j,t.setHeaders[j]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((_,j)=>_.set(j,t.setParams[j]),c)),new ko(n,r,s,{params:c,headers:l,context:f,reportProgress:a,responseType:i,withCredentials:o})}}var tn=(()=>((tn=tn||{})[tn.Sent=0]="Sent",tn[tn.UploadProgress=1]="UploadProgress",tn[tn.ResponseHeader=2]="ResponseHeader",tn[tn.DownloadProgress=3]="DownloadProgress",tn[tn.Response=4]="Response",tn[tn.User=5]="User",tn))();class Dh{constructor(t,n=200,r="OK"){this.headers=t.headers||new Er,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Eh extends Dh{constructor(t={}){super(t),this.type=tn.ResponseHeader}clone(t={}){return new Eh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ws extends Dh{constructor(t={}){super(t),this.type=tn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ws({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bb extends Dh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ah(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Ub=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ko)s=n;else{let l,c;l=i.headers instanceof Er?i.headers:new Er(i.headers),i.params&&(c=i.params instanceof si?i.params:new si({fromObject:i.params})),s=new ko(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=rt(s).pipe(Ss(l=>this.handler.handle(l)));if(n instanceof ko||"events"===i.observe)return o;const a=o.pipe(Vr(l=>l instanceof ws));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(p(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(p(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(p(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(p(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new si).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Ah(i,r))}post(n,r,i={}){return this.request("POST",n,Ah(i,r))}put(n,r,i={}){return this.request("PUT",n,Ah(i,r))}}return e.\u0275fac=function(n){return new(n||e)(ze(Ll))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();function Wb(e,t){return t(e)}function PR(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const TR=new $e(""),No=new $e(""),zb=new $e("");function IR(){let e=null;return(t,n)=>{null===e&&(e=(Be(TR,{optional:!0})??[]).reduceRight(PR,Wb));const r=Be(_l),i=r.add();return e(t,n).pipe(Ro(()=>r.remove(i)))}}let qb=(()=>{class e extends Ll{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=Be(_l)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(No),...this.injector.get(zb,[])]));this.chain=i.reduceRight((s,o)=>function MR(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(s,o,this.injector),Wb)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Ro(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(n){return new(n||e)(ze(jl),ze(br))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const kR=/^\)\]\}',?\n/;let Yb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Ie(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?un(r.\u0275loadImpl()):rt(null)).pipe(er(()=>new Ee(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((ae,me)=>o.setRequestHeader(ae,me.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ae=n.detectContentTypeHeader();null!==ae&&o.setRequestHeader("Content-Type",ae)}if(n.responseType){const ae=n.responseType.toLowerCase();o.responseType="json"!==ae?ae:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const ae=o.statusText||"OK",me=new Er(o.getAllResponseHeaders()),De=function NR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||n.url;return l=new Eh({headers:me,status:o.status,statusText:ae,url:De}),l},f=()=>{let{headers:ae,status:me,statusText:De,url:fe}=c(),He=null;204!==me&&(He=typeof o.response>"u"?o.responseText:o.response),0===me&&(me=He?200:0);let Je=me>=200&&me<300;if("json"===n.responseType&&"string"==typeof He){const lt=He;He=He.replace(kR,"");try{He=""!==He?JSON.parse(He):null}catch(cn){He=lt,Je&&(Je=!1,He={error:cn,text:He})}}Je?(s.next(new ws({body:He,headers:ae,status:me,statusText:De,url:fe||void 0})),s.complete()):s.error(new Bb({error:He,headers:ae,status:me,statusText:De,url:fe||void 0}))},_=ae=>{const{url:me}=c(),De=new Bb({error:ae,status:o.status||0,statusText:o.statusText||"Unknown Error",url:me||void 0});s.error(De)};let j=!1;const K=ae=>{j||(s.next(c()),j=!0);let me={type:tn.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(me.total=ae.total),"text"===n.responseType&&o.responseText&&(me.partialText=o.responseText),s.next(me)},re=ae=>{let me={type:tn.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(me.total=ae.total),s.next(me)};return o.addEventListener("load",f),o.addEventListener("error",_),o.addEventListener("timeout",_),o.addEventListener("abort",_),n.reportProgress&&(o.addEventListener("progress",K),null!==a&&o.upload&&o.upload.addEventListener("progress",re)),o.send(a),s.next({type:tn.Sent}),()=>{o.removeEventListener("error",_),o.removeEventListener("abort",_),o.removeEventListener("load",f),o.removeEventListener("timeout",_),n.reportProgress&&(o.removeEventListener("progress",K),null!==a&&o.upload&&o.upload.removeEventListener("progress",re)),o.readyState!==o.DONE&&o.abort()}})))}}return e.\u0275fac=function(n){return new(n||e)(ze(gb))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();const Ph=new $e("XSRF_ENABLED"),Kb=new $e("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Zb=new $e("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Qb{}let jR=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ib(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return e.\u0275fac=function(n){return new(n||e)(ze(Vn),ze(gi),ze(Kb))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();function GR(e,t){const n=e.url.toLowerCase();if(!Be(Ph)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Be(Qb).getToken(),i=Be(Zb);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var jt=(()=>((jt=jt||{})[jt.Interceptors=0]="Interceptors",jt[jt.LegacyInterceptors=1]="LegacyInterceptors",jt[jt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",jt[jt.NoXsrfProtection=3]="NoXsrfProtection",jt[jt.JsonpSupport=4]="JsonpSupport",jt[jt.RequestsMadeViaParent=5]="RequestsMadeViaParent",jt[jt.Fetch=6]="Fetch",jt))();function Ci(e,t){return{\u0275kind:e,\u0275providers:t}}function HR(...e){const t=[Ub,Yb,qb,{provide:Ll,useExisting:qb},{provide:jl,useExisting:Yb},{provide:No,useValue:GR,multi:!0},{provide:Ph,useValue:!0},{provide:Qb,useClass:jR}];for(const n of e)t.push(...n.\u0275providers);return function hu(e){return{\u0275providers:e}}(t)}const Jb=new $e("LEGACY_INTERCEPTOR_FN");let UR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({providers:[HR(Ci(jt.LegacyInterceptors,[{provide:Jb,useFactory:IR},{provide:No,useExisting:Jb,multi:!0}]))]}),e})();const{isArray:YR}=Array,{getPrototypeOf:KR,prototype:ZR,keys:QR}=Object;const{isArray:tk}=Array;function Mh(...e){const t=xs(e),n=function u0(e){return h(sc(e))?e.pop():void 0}(e),{args:r,keys:i}=function JR(e){if(1===e.length){const t=e[0];if(YR(t))return{args:t,keys:null};if(function ek(e){return e&&"object"==typeof e&&KR(e)===ZR}(t)){const n=QR(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return un([],t);const s=new Ee(function sk(e,t,n=Pe){return r=>{eS(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)eS(t,()=>{const c=un(e[l],t);let f=!1;c.subscribe(U(r,_=>{s[l]=_,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function ik(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):Pe));return n?s.pipe(function rk(e){return p(t=>function nk(e,t){return tk(t)?e(...t):e(t)}(e,t))}(n)):s}function eS(e,t,n){e?An(n,e,t):t()}const Bl=C(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Th(...e){return function ok(){return Wn(1)}()(un(e,xs(e)))}function tS(e){return new Ee(t=>{tt(e()).subscribe(t)})}function Oo(e,t){const n=h(e)?e:()=>e,r=i=>i.error(n());return new Ee(t?i=>t.schedule(r,0,i):r)}function Ih(){return z((e,t)=>{let n=null;e._refCount++;const r=U(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class nS extends Ee{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,X(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Q;const n=this.getSubject();t.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Q.EMPTY)}return t}refCount(){return Ih()(this)}}function Cs(e){return e<=0?()=>Nn:z((t,n)=>{let r=0;t.subscribe(U(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ul(e){return z((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function rS(e=lk){return z((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function lk(){return new Bl}function Di(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vr((i,s)=>e(i,s,r)):Pe,Cs(1),n?Ul(t):rS(()=>new Bl))}function En(e,t,n){const r=h(e)||t||n?{next:e,error:t,complete:n}:e;return r?z((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(U(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Pe}function Ei(e){return z((t,n)=>{let s,r=null,i=!1;r=t.subscribe(U(n,void 0,void 0,o=>{s=tt(e(o,Ei(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Fh(e){return e<=0?()=>Nn:z((t,n)=>{let r=[];t.subscribe(U(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const vt="primary",Lo=Symbol("RouteTitle");class fk{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ds(e){return new fk(e)}function pk(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ar(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iS(e[i],t[i]))return!1;return!0}function iS(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function sS(e){return e.length>0?e[e.length-1]:null}function oi(e){return function XR(e){return!!e&&(e instanceof Ee||h(e.lift)&&h(e.subscribe))}(e)?e:cl(e)?un(Promise.resolve(e)):rt(e)}const mk={exact:function lS(e,t,n){if(!Ai(e.segments,t.segments)||!Vl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!lS(e.children[r],t.children[r],n))return!1;return!0},subset:cS},oS={exact:function vk(e,t){return Ar(e,t)},subset:function _k(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>iS(e[n],t[n]))},ignored:()=>!0};function aS(e,t,n){return mk[n.paths](e.root,t.root,n.matrixParams)&&oS[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function cS(e,t,n){return uS(e,t,t.segments,n)}function uS(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!Ai(i,n)||t.hasChildren()||!Vl(i,n,r))}if(e.segments.length===n.length){if(!Ai(e.segments,n)||!Vl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!cS(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(Ai(e.segments,i)&&Vl(e.segments,i,r)&&e.children[vt])&&uS(e.children[vt],t,s,r)}}function Vl(e,t,n){return t.every((r,i)=>oS[n](e[i].parameters,r.parameters))}class Es{constructor(t=new Ft([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return Sk.serialize(this)}}class Ft{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $l(this)}}class jo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ds(this.parameters)),this._parameterMap}toString(){return fS(this)}}function Ai(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Go=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return new xh},providedIn:"root"}),e})();class xh{parse(t){const n=new xk(t);return new Es(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ho(t.root,!0)}`,r=function Dk(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Wl(n)}=${Wl(i)}`).join("&"):`${Wl(n)}=${Wl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function wk(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Sk=new xh;function $l(e){return e.segments.map(t=>fS(t)).join("/")}function Ho(e,t){if(!e.hasChildren())return $l(e);if(t){const n=e.children[vt]?Ho(e.children[vt],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==vt&&r.push(`${i}:${Ho(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function bk(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===vt&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==vt&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===vt?[Ho(e.children[vt],!1)]:[`${i}:${Ho(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[vt]?`${$l(e)}/${n[0]}`:`${$l(e)}/(${n.join("//")})`}}function dS(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wl(e){return dS(e).replace(/%3B/gi,";")}function Rh(e){return dS(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(e){return decodeURIComponent(e)}function hS(e){return zl(e.replace(/\+/g,"%20"))}function fS(e){return`${Rh(e.path)}${function Ck(e){return Object.keys(e).map(t=>`;${Rh(t)}=${Rh(e[t])}`).join("")}(e.parameters)}`}const Ek=/^[^\/()?;#]+/;function kh(e){const t=e.match(Ek);return t?t[0]:""}const Ak=/^[^\/()?;=#]+/,Mk=/^[^=?&#]+/,Ik=/^[^&#]+/;class xk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[vt]=new Ft(t,n)),r}parseSegment(){const t=kh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(t),new jo(zl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Pk(e){const t=e.match(Ak);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=kh(this.remaining);i&&(r=i,this.capture(r))}t[zl(n)]=zl(r)}parseQueryParam(t){const n=function Tk(e){const t=e.match(Mk);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Fk(e){const t=e.match(Ik);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=hS(n),s=hS(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=kh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ie(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=vt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[vt]:new Ft([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ie(4011,!1)}}function pS(e){return e.segments.length>0?new Ft([],{[vt]:e}):e}function gS(e){const t={};for(const r of Object.keys(e.children)){const s=gS(e.children[r]);if(r===vt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Rk(e){if(1===e.numberOfChildren&&e.children[vt]){const t=e.children[vt];return new Ft(e.segments.concat(t.segments),t.children)}return e}(new Ft(e.segments,t))}function Pi(e){return e instanceof Es}function mS(e){let t;const i=pS(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new Ft(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function vS(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Nh(i,i,i,n,r);const s=function Nk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new yS(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new yS(n,t,r)}(t);if(s.toRoot())return Nh(i,i,new Ft([],{}),n,r);const o=function Ok(e,t,n){if(e.isAbsolute)return new Xl(t,!0,0);if(!n)return new Xl(t,!1,NaN);if(null===n.parent)return new Xl(n,!0,0);const r=ql(e.commands[0])?0:1;return function Lk(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ie(4005,!1);i=r.segments.length}return new Xl(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?Uo(o.segmentGroup,o.index,s.commands):bS(o.segmentGroup,o.index,s.commands);return Nh(i,o.segmentGroup,a,n,r)}function ql(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Bo(e){return"object"==typeof e&&null!=e&&e.outlets}function Nh(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),o=e===t?n:_S(e,t,n);const a=pS(gS(o));return new Es(a,s,i)}function _S(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:_S(s,t,n)}),new Ft(e.segments,r)}class yS{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ql(r[0]))throw new Ie(4003,!1);const i=r.find(Bo);if(i&&i!==sS(r))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xl{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function bS(e,t,n){if(e||(e=new Ft([],{})),0===e.segments.length&&e.hasChildren())return Uo(e,t,n);const r=function Gk(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(Bo(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!wS(l,c,o))return s;r+=2}else{if(!wS(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Ft(e.segments.slice(0,r.pathIndex),{});return s.children[vt]=new Ft(e.segments.slice(r.pathIndex),e.children),Uo(s,0,i)}return r.match&&0===i.length?new Ft(e.segments,{}):r.match&&!e.hasChildren()?Oh(e,t,n):r.match?Uo(e,0,i):Oh(e,t,n)}function Uo(e,t,n){if(0===n.length)return new Ft(e.segments,{});{const r=function jk(e){return Bo(e[0])?e[0].outlets:{[vt]:e}}(n),i={};if(!r[vt]&&e.children[vt]&&1===e.numberOfChildren&&0===e.children[vt].segments.length){const s=Uo(e.children[vt],t,n);return new Ft(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=bS(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Ft(e.segments,i)}}function Oh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(Bo(s)){const l=Hk(s.outlets);return new Ft(r,l)}if(0===i&&ql(n[0])){r.push(new jo(e.segments[t].path,SS(n[0]))),i++;continue}const o=Bo(s)?s.outlets[vt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ql(a)?(r.push(new jo(o,SS(a))),i+=2):(r.push(new jo(o,{})),i++)}return new Ft(r,{})}function Hk(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Oh(new Ft([],{}),0,r))}),t}function SS(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function wS(e,t,n){return e==n.path&&Ar(t,n.parameters)}const Vo="imperative";class Pr{constructor(t,n){this.id=t,this.url=n}}class Lh extends Pr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mi extends Pr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yl extends Pr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $o extends Pr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class jh extends Pr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Bk extends Pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uk extends Pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vk extends Pr{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $k extends Pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wk extends Pr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zk{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xk{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yk{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kk{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zk{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CS{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Wo,this.attachRef=null}}let Wo=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Qk,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class DS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=Gh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=Gh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Hh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Hh(t,this._root).map(n=>n.value)}}function Gh(e,t){if(e===t.value)return t;for(const n of t.children){const r=Gh(e,n);if(r)return r}return null}function Hh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Hh(e,n);if(r.length)return r.unshift(t),r}return[]}class $r{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function As(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class ES extends DS{constructor(t,n){super(t),this.snapshot=n,Bh(this,t)}toString(){return this.snapshot.toString()}}function AS(e,t){const n=function Jk(e,t){const o=new Kl([],{},{},"",{},vt,t,null,{});return new MS("",new $r(o,[]))}(0,t),r=new M([new jo("",{})]),i=new M({}),s=new M({}),o=new M({}),a=new M(""),l=new Ps(r,i,o,a,s,vt,t,n.root);return l.snapshot=n.root,new ES(new $r(l,[]),n)}class Ps{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(p(c=>c[Lo]))??rt(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(p(t=>Ds(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(p(t=>Ds(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PS(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function eN(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Kl{get title(){return this.data?.[Lo]}constructor(t,n,r,i,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ds(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MS extends DS{constructor(t,n){super(n),this.url=t,Bh(this,n)}toString(){return TS(this._root)}}function Bh(e,t){t.value._routerState=e,t.children.forEach(n=>Bh(e,n))}function TS(e){const t=e.children.length>0?` { ${e.children.map(TS).join(", ")} } `:"";return`${e.value}${t}`}function Uh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ar(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ar(t.params,n.params)||e.paramsSubject.next(n.params),function gk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ar(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Ar(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Vh(e,t){const n=Ar(e.params,t.params)&&function yk(e,t){return Ai(e,t)&&e.every((n,r)=>Ar(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Vh(e.parent,t.parent))}let IS=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.parentContexts=Be(Wo),this.location=Be(or),this.changeDetector=Be(Ud),this.environmentInjector=Be(br),this.inputBinder=Be(Zl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new tN(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=yn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ui]}),e})();class tN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ps?this.route:t===Wo?this.childContexts:this.parent.get(t,n)}}const Zl=new $e("");let FS=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Mh([r.queryParams,r.params,r.data]).pipe(er(([s,o,a],l)=>(a={...s,...o,...a},0===l?rt(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function YI(e){const t=At(e);if(!t)return null;const n=new ho(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();function zo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function rN(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return zo(e,r,i);return zo(e,r)})}(e,t,n);return new $r(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>zo(e,a)),o}}const r=function iN(e){return new Ps(new M(e.url),new M(e.params),new M(e.queryParams),new M(e.fragment),new M(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>zo(e,s));return new $r(r,i)}}const $h="ngNavigationCancelingError";function xS(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Pi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=RS(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function RS(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[$h]=!0,r.cancellationCode=t,n&&(r.url=n),r}function kS(e){return NS(e)&&Pi(e.url)}function NS(e){return e&&e[$h]}let OS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=xi({type:e,selectors:[["ng-component"]],standalone:!0,features:[y_],decls:1,vars:0,template:function(n,r){1&n&&_i(0,"router-outlet")},dependencies:[IS],encapsulation:2}),e})();function Wh(e){const t=e.children&&e.children.map(Wh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==vt&&(n.component=OS),n}function ur(e){return e.outlet||vt}function qo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class dN{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Uh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=As(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=As(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=As(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=As(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Zk(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Yk(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(Uh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Uh(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=qo(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class LS{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ql{constructor(t,n){this.component=t,this.route=n}}function hN(e,t,n){const r=e._root;return Xo(r,t?t._root:null,n,[r.value])}function Ms(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function P0(e){return null!==ea(e)}(e)?t.get(e):e:r}function Xo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=As(t);return e.children.forEach(o=>{(function pN(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function gN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Ai(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ai(e.url,t.url)||!Ar(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vh(e,t)||!Ar(e.queryParams,t.queryParams);default:return!Vh(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new LS(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Xo(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ql(a.outlet.component,o))}else o&&Yo(t,a,i),i.canActivateChecks.push(new LS(r)),Xo(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yo(a,n.getContext(o),i)),i}function Yo(e,t,n){const r=As(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Yo(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ql(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ko(e){return"function"==typeof e}function jS(e){return e instanceof Bl||"EmptyError"===e?.name}const Jl=Symbol("INITIAL_VALUE");function Ts(){return er(e=>Mh(e.map(t=>t.pipe(Cs(1),function ak(...e){const t=xs(e);return z((n,r)=>{(t?Th(e,n,t):Th(e,n)).subscribe(r)})}(Jl)))).pipe(p(t=>{for(const n of t)if(!0!==n){if(n===Jl)return Jl;if(!1===n||n instanceof Es)return n}return!0}),Vr(t=>t!==Jl),Cs(1)))}function GS(e){return function Le(...e){return Se(e)}(En(t=>{if(Pi(t))throw xS(0,t)}),p(t=>!0===t))}class ec{constructor(t){this.segmentGroup=t||null}}class HS{constructor(t){this.urlTree=t}}function Is(e){return Oo(new ec(e))}function BS(e){return Oo(new HS(e))}class NN{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new Ie(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return rt(r);if(i.numberOfChildren>1||!i.children[vt])return Oo(new Ie(4e3,!1));i=i.children[vt]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new Es(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new Ft(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new Ie(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const zh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ON(e,t,n,r,i){const s=qh(e,t,n);return s.matched?(r=function sN(e,t){return e.providers&&!e._injector&&(e._injector=fd(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function xN(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?rt(i.map(o=>{const a=Ms(o,e);return oi(function SN(e){return e&&Ko(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ts(),GS()):rt(!0)}(r,t,n).pipe(p(o=>!0===o?s:{...zh}))):rt(s)}function qh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...zh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||pk)(n,e,t);if(!i)return{...zh};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function US(e,t,n,r){return n.length>0&&function GN(e,t,n){return n.some(r=>tc(e,t,r)&&ur(r)!==vt)}(e,n,r)?{segmentGroup:new Ft(t,jN(r,new Ft(n,e.children))),slicedSegments:[]}:0===n.length&&function HN(e,t,n){return n.some(r=>tc(e,t,r))}(e,n,r)?{segmentGroup:new Ft(e.segments,LN(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ft(e.segments,e.children),slicedSegments:n}}function LN(e,t,n,r,i){const s={};for(const o of r)if(tc(e,n,o)&&!i[ur(o)]){const a=new Ft([],{});s[ur(o)]=a}return{...i,...s}}function jN(e,t){const n={};n[vt]=t;for(const r of e)if(""===r.path&&ur(r)!==vt){const i=new Ft([],{});n[ur(r)]=i}return n}function tc(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class $N{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new NN(this.urlSerializer,this.urlTree)}noMatchError(t){return new Ie(4002,!1)}recognize(){const t=US(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,vt).pipe(Ei(n=>{if(n instanceof HS)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof ec?this.noMatchError(n):n}),p(n=>{const r=new Kl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,{}),i=new $r(r,n),s=new MS("",i),o=function kk(e,t,n=null,r=null){return vS(mS(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,vt).pipe(Ei(r=>{throw r instanceof ec?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=PS(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return un(i).pipe(Ss(s=>{const o=r.children[s],a=function cN(e,t){const n=e.filter(r=>ur(r)===t);return n.push(...e.filter(r=>ur(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function uk(e,t){return z(function ck(e,t,n,r,i){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(U(o,f=>{const _=c++;l=a?e(l,f,_):(a=!0,f),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ul(null),function dk(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Vr((i,s)=>e(i,s,r)):Pe,Fh(1),n?Ul(t):rS(()=>new Bl))}(),$t(s=>{if(null===s)return Is(r);const o=VS(s);return function WN(e){e.sort((t,n)=>t.value.outlet===vt?-1:n.value.outlet===vt?1:t.value.outlet.localeCompare(n.value.outlet))}(o),rt(o)}))}processSegment(t,n,r,i,s,o){return un(n).pipe(Ss(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(Ei(l=>{if(l instanceof ec)return rt(null);throw l}))),Di(a=>!!a),Ei(a=>{if(jS(a))return function UN(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?rt([]):Is(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function BN(e,t,n,r){return!!(ur(e)===r||r!==vt&&tc(t,n,e))&&("**"===e.path||qh(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):Is(i):Is(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BS(s):this.applyRedirects.lineralizeSegments(r,s).pipe($t(o=>{const a=new Ft(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:f}=qh(n,i,s);if(!a)return Is(n);const _=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,f);return i.redirectTo.startsWith("/")?BS(_):this.applyRedirects.lineralizeSegments(i,_).pipe($t(j=>this.processSegment(t,r,n,j.concat(c),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?sS(i).parameters:{};a=rt({snapshot:new Kl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$S(r),ur(r),r.component??r._loadedComponent??null,r,WS(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=ON(n,r,i,t).pipe(p(({matched:l,consumedSegments:c,remainingSegments:f,parameters:_})=>l?{snapshot:new Kl(c,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$S(r),ur(r),r.component??r._loadedComponent??null,r,WS(r)),consumedSegments:c,remainingSegments:f}:null));return a.pipe(er(l=>null===l?Is(n):this.getChildConfig(t=r._injector??t,r,i).pipe(er(({routes:c})=>{const f=r._loadedInjector??t,{snapshot:_,consumedSegments:j,remainingSegments:K}=l,{segmentGroup:re,slicedSegments:ae}=US(n,j,K,c);if(0===ae.length&&re.hasChildren())return this.processChildren(f,c,re).pipe(p(De=>null===De?null:[new $r(_,De)]));if(0===c.length&&0===ae.length)return rt([new $r(_,[])]);const me=ur(r)===s;return this.processSegment(f,c,re,ae,me?vt:s,!0).pipe(p(De=>[new $r(_,De)]))}))))}getChildConfig(t,n,r){return n.children?rt({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?rt({routes:n._loadedRoutes,injector:n._loadedInjector}):function FN(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?rt(!0):rt(i.map(o=>{const a=Ms(o,e);return oi(function vN(e){return e&&Ko(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ts(),GS())}(t,n,r).pipe($t(i=>i?this.configLoader.loadChildren(t,n).pipe(En(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function kN(e){return Oo(RS(!1,3))}())):rt({routes:[],injector:t})}}function zN(e){const t=e.value.routeConfig;return t&&""===t.path}function VS(e){const t=[],n=new Set;for(const r of e){if(!zN(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=VS(r.children);t.push(new $r(r.value,i))}return t.filter(r=>!n.has(r))}function $S(e){return e.data||{}}function WS(e){return e.resolve||{}}function zS(e){return"string"==typeof e.title||null===e.title}function Xh(e){return er(t=>{const n=e(t);return n?un(n).pipe(p(()=>t)):rt(t)})}const Fs=new $e("ROUTES");let Yh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Be(cy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return rt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=oi(n.loadComponent()).pipe(p(qS),En(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ro(()=>{this.componentLoaders.delete(n)})),i=new nS(r,()=>new v).pipe(Ih());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return rt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(p(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c;return Array.isArray(a)?c=a:(l=a.create(n).injector,c=l.get(Fs,[],Ke.Self|Ke.Optional).flat()),{routes:c.map(Wh),injector:l}}),Ro(()=>{this.childrenLoaders.delete(r)})),o=new nS(s,()=>new v).pipe(Ih());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return oi(n()).pipe(p(qS),$t(r=>r instanceof v_||Array.isArray(r)?rt(r):un(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qS(e){return function JN(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let nc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new v,this.configLoader=Be(Yh),this.environmentInjector=Be(br),this.urlSerializer=Be(Go),this.rootContexts=Be(Wo),this.inputBindingEnabled=null!==Be(Zl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>rt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new qk(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zk(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new M({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vo,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vr(r=>0!==r.id),p(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),er(r=>{let i=!1,s=!1;return rt(r).pipe(En(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),er(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new $o(o.id,n.serializeUrl(r.rawUrl),f,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Nn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return XS(o.source)&&(n.browserUrlTree=o.extractedUrl),rt(o).pipe(er(f=>{const _=this.transitions?.getValue();return this.events.next(new Lh(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),_!==this.transitions?.getValue()?Nn:Promise.resolve(f)}),function qN(e,t,n,r,i,s){return $t(o=>function VN(e,t,n,r,i,s,o="emptyOnly"){return new $N(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(p(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),En(f=>{if(r.targetSnapshot=f.targetSnapshot,r.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!f.extras.skipLocationChange){const j=n.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);n.setBrowserUrl(j,f)}n.browserUrlTree=f.urlAfterRedirects}const _=new Bk(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:f,extractedUrl:_,source:j,restoredState:K,extras:re}=o,ae=new Lh(f,this.urlSerializer.serialize(_),j,K);this.events.next(ae);const me=AS(0,this.rootComponentType).snapshot;return rt(r={...o,targetSnapshot:me,urlAfterRedirects:_,extras:{...re,skipLocationChange:!1,replaceUrl:!1}})}{const f="";return this.events.next(new $o(o.id,n.serializeUrl(r.extractedUrl),f,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Nn}}),En(o=>{const a=new Uk(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),p(o=>r={...o,guards:hN(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function CN(e,t){return $t(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?rt({...n,guardsResult:!0}):function DN(e,t,n,r){return un(e).pipe($t(i=>function IN(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?rt(s.map(a=>{const l=qo(t)??i,c=Ms(a,l);return oi(function bN(e){return e&&Ko(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(Di())})).pipe(Ts()):rt(!0)}(i.component,i.route,n,t,r)),Di(i=>!0!==i,!0))}(o,r,i,e).pipe($t(a=>a&&function mN(e){return"boolean"==typeof e}(a)?function EN(e,t,n,r){return un(t).pipe(Ss(i=>Th(function PN(e,t){return null!==e&&t&&t(new Xk(e)),rt(!0)}(i.route.parent,r),function AN(e,t){return null!==e&&t&&t(new Kk(e)),rt(!0)}(i.route,r),function TN(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function fN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>tS(()=>rt(o.guards.map(l=>{const c=qo(o.node)??n,f=Ms(l,c);return oi(function yN(e){return e&&Ko(e.canActivateChild)}(f)?f.canActivateChild(r,e):c.runInContext(()=>f(r,e))).pipe(Di())})).pipe(Ts())));return rt(s).pipe(Ts())}(e,i.path,n),function MN(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return rt(!0);const i=r.map(s=>tS(()=>{const o=qo(t)??n,a=Ms(s,o);return oi(function _N(e){return e&&Ko(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(Di())}));return rt(i).pipe(Ts())}(e,i.route,n))),Di(i=>!0!==i,!0))}(r,s,e,t):rt(a)),p(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),En(o=>{if(r.guardsResult=o.guardsResult,Pi(o.guardsResult))throw xS(0,o.guardsResult);const a=new Vk(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Vr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),Xh(o=>{if(o.guards.canActivateChecks.length)return rt(o).pipe(En(a=>{const l=new $k(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),er(a=>{let l=!1;return rt(a).pipe(function XN(e,t){return $t(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return rt(n);let s=0;return un(i).pipe(Ss(o=>function YN(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!zS(i)&&(s[Lo]=i.title),function KN(e,t,n,r){const i=function ZN(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return rt({});const s={};return un(i).pipe($t(o=>function QN(e,t,n,r){const i=qo(t)??r,s=Ms(e,i);return oi(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(Di(),En(a=>{s[o]=a}))),Fh(1),function hk(e){return p(()=>e)}(s),Ei(o=>jS(o)?Nn:Oo(o)))}(s,e,t,r).pipe(p(o=>(e._resolvedData=o,e.data=PS(e,n).resolve,i&&zS(i)&&(e.data[Lo]=i.title),null)))}(o.route,r,e,t)),En(()=>s++),Fh(1),$t(o=>s===i.length?rt(n):Nn))})}(n.paramsInheritanceStrategy,this.environmentInjector),En({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),En(a=>{const l=new Wk(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Xh(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(En(f=>{l.component=f}),p(()=>{})));for(const f of l.children)c.push(...a(f));return c};return Mh(a(o.targetSnapshot.root)).pipe(Ul(),Cs(1))}),Xh(()=>this.afterPreactivation()),p(o=>{const a=function nN(e,t,n){const r=zo(e,t._root,n?n._root:void 0);return new ES(r,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),En(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((e,t,n,r)=>p(i=>(new dN(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Cs(1),En({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new Mi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ro(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ei(o=>{if(s=!0,NS(o)){kS(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Yl(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),kS(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||XS(r.source)};n.scheduleNavigation(l,Vo,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new jh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return Nn}))}))}cancelNavigationTransition(n,r,i){const s=new Yl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function XS(e){return e!==Vo}let YS=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===vt);return r}getResolvedTitleForRoute(n){return n.data[Lo]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return Be(eO)},providedIn:"root"}),e})(),eO=(()=>{class e extends YS{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(ze(Rb))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return Be(rO)},providedIn:"root"}),e})();class nO{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let rO=(()=>{class e extends nO{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function yp(e){return Tr(()=>{const t=e.prototype.constructor,n=t[Ir]||Gc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[Ir]||Gc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(r||e)}}(),e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rc=new $e("",{providedIn:"root",factory:()=>({})});let iO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:function(){return Be(sO)},providedIn:"root"}),e})(),sO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var $n=(()=>(($n=$n||{})[$n.COMPLETE=0]="COMPLETE",$n[$n.FAILED=1]="FAILED",$n[$n.REDIRECTING=2]="REDIRECTING",$n))();function KS(e,t){e.events.pipe(Vr(n=>n instanceof Mi||n instanceof Yl||n instanceof jh||n instanceof $o),p(n=>n instanceof Mi||n instanceof $o?$n.COMPLETE:n instanceof Yl&&(0===n.code||1===n.code)?$n.REDIRECTING:$n.FAILED),Vr(n=>n!==$n.REDIRECTING),Cs(1)).subscribe(()=>{t()})}function oO(e){throw e}function aO(e,t,n){return t.parse("/")}const lO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Be(ly),this.isNgZoneEnabled=!1,this.options=Be(rc,{optional:!0})||{},this.pendingTasks=Be(_l),this.errorHandler=this.options.errorHandler||oO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||aO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Be(iO),this.routeReuseStrategy=Be(tO),this.titleStrategy=Be(YS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Be(Fs,{optional:!0})?.flat()??[],this.navigationTransitions=Be(nc),this.urlSerializer=Be(Go),this.location=Be(Jd),this.componentInputBindingEnabled=!!Be(Zl,{optional:!0}),this.isNgZoneEnabled=Be(Bt)instanceof Bt&&Bt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Es,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AS(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vo,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Wh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let _,f=null;switch(a){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}null!==f&&(f=this.removeEmptyProps(f));try{_=mS(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),_=this.currentUrlTree.root}return vS(_,n,f,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Pi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Vo,null,r)}navigate(n,r={skipLocationChange:!1}){return function uO(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Ie(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...lO}:!1===r?{...cO}:r,Pi(n))return aS(this.currentUrlTree,n,i);const s=this.parseUrl(n);return aS(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((_,j)=>{a=_,l=j});const f=this.pendingTasks.add();return KS(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(_=>Promise.reject(_))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ZS{}let fO=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Vr(n=>n instanceof Mi),Ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=fd(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return un(i).pipe(Wn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):rt(null);const s=i.pipe($t(o=>null===o?rt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?un([s,this.loader.loadComponent(r)]).pipe(Wn()):s})}}return e.\u0275fac=function(n){return new(n||e)(ze(Jn),ze(cy),ze(br),ze(ZS),ze(Yh))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Zh=new $e("");let QS=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Lh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Mi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof $o&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof CS&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CS(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function tm(){throw new Error("invalid")}()},e.\u0275prov=Ye({token:e,factory:e.\u0275fac}),e})();function Wr(e,t){return{\u0275kind:e,\u0275providers:t}}function e0(){const e=Be(Lr);return t=>{const n=e.get(ys);if(t!==n.components[0])return;const r=e.get(Jn),i=e.get(t0);1===e.get(Qh)&&r.initialNavigation(),e.get(n0,null,Ke.Optional)?.setUpPreloading(),e.get(Zh,null,Ke.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const t0=new $e("",{factory:()=>new v}),Qh=new $e("",{providedIn:"root",factory:()=>1}),n0=new $e("");function vO(e){return Wr(0,[{provide:n0,useExisting:fO},{provide:ZS,useExisting:e}])}const r0=new $e("ROUTER_FORROOT_GUARD"),yO=[Jd,{provide:Go,useClass:xh},Jn,Wo,{provide:Ps,useFactory:function JS(e){return e.routerState.root},deps:[Jn]},Yh,[]];function bO(){return new by("Router",Jn)}let s0=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[yO,[],{provide:Fs,multi:!0,useValue:n},{provide:r0,useFactory:DO,deps:[[Jn,new Aa,new Pa]]},{provide:rc,useValue:r||{}},r?.useHash?{provide:wi,useClass:eF}:{provide:wi,useClass:Xy},{provide:Zh,useFactory:()=>{const e=Be(yx),t=Be(Bt),n=Be(rc),r=Be(nc),i=Be(Go);return n.scrollOffset&&e.setOffset(n.scrollOffset),new QS(i,r,e,t,n)}},r?.preloadingStrategy?vO(r.preloadingStrategy).\u0275providers:[],{provide:by,multi:!0,useFactory:bO},r?.initialNavigation?EO(r):[],r?.bindToComponentInputs?Wr(8,[FS,{provide:Zl,useExisting:FS}]).\u0275providers:[],[{provide:o0,useFactory:e0},{provide:Hd,multi:!0,useExisting:o0}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Fs,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(ze(r0,8))},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({}),e})();function DO(e){return"guarded"}function EO(e){return["disabled"===e.initialNavigation?Wr(3,[{provide:Fd,multi:!0,useFactory:()=>{const t=Be(Jn);return()=>{t.setUpLocationChangeListener()}}},{provide:Qh,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Wr(2,[{provide:Qh,useValue:0},{provide:Fd,multi:!0,deps:[Lr],useFactory:t=>{const n=t.get(QI,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Jn),s=t.get(t0);KS(i,()=>{r(!0)}),t.get(nc).afterPreactivation=()=>(r(!0),s.closed?rt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const o0=new $e(""),PO=[];let MO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xr({type:e}),e.\u0275inj=Mr({imports:[s0.forRoot(PO),s0]}),e})(),TO=(()=>{class e{constructor(){this.brandName="Footer Detector"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=xi({type:e,selectors:[["learn-nav"]],decls:8,vars:1,consts:[[1,"left"],[1,"right"],["href","#"]],template:function(n,r){1&n&&(Yn(0,"nav")(1,"section",0),ni(2),Kn(),Yn(3,"section",1)(4,"a",2),ni(5,"login"),Kn(),Yn(6,"a",2),ni(7,"signup"),Kn()()()),2&n&&(Or(2),yo(" ",r.brandName," "))},styles:["nav[_ngcontent-%COMP%]{padding:10px 50px;background-color:#1864ab;display:flex;justify-content:space-between;font-family:lato;align-items:center}.left[_ngcontent-%COMP%]{font-size:36px;color:#fff;letter-spacing:-1px;font-weight:700}.right[_ngcontent-%COMP%]{font-size:18px;display:flex;gap:50px}.right[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;letter-spacing:2px}"]}),e})(),IO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=xi({type:e,selectors:[["learn-footer"]],decls:2,vars:0,template:function(n,r){1&n&&(Yn(0,"footer"),ni(1," \xa9 Ahmed Khaled 2023\n"),Kn())},styles:["footer[_ngcontent-%COMP%]{position:absolute;bottom:0;background-color:#1864ab;padding:20px;font-size:16px;font-family:lato;width:100%;display:flex;justify-content:center;color:#fff}"]}),e})();var a0=F(627);let xO=(()=>{class e{constructor(n){this.http=n}sendPDF(n){const r=new FormData;return r.append("file",n),this.http.post("/api/upload",r)}}return e.\u0275fac=function(n){return new(n||e)(ze(Ub))},e.\u0275prov=Ye({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const RO=["inputFile"];function kO(e,t){1&e&&_i(0,"canvas",8)}function NO(e,t){1&e&&_i(0,"img",9)}function OO(e,t){1&e&&_i(0,"div",10)}function LO(e,t){if(1&e&&(Yn(0,"p",11),ni(1),Kn()),2&e){const n=Zm();Or(1),yo(" ",n.error," ")}}a0.GlobalWorkerOptions.workerSrc="node_modules/pdfjs-dist/build/pdr.worker.js";let jO=(()=>{class e{constructor(n){this.httpService=n,this.isLoading=!1,this.error=""}selectFileHandler(n){this.selectedFile=n.target.files[0];const r=new FileReader;r.onload=i=>{this.renderPDF(i.target.result)},r.readAsArrayBuffer(this.selectedFile)}startSelecting(){this.error="",this.inputFileRef?.nativeElement.click()}startAnalyzing(){this.error="",this.selectedFile&&(this.isLoading=!0,this.httpService.sendPDF(this.selectedFile).subscribe(n=>{const{height:r,y:s}=n.data;this.drawFooterLine(r,s),this.isLoading=!1},n=>{this.error=400===n.status?"Failed to detect footer.":n.message,this.isLoading=!1}))}renderPDF(n){a0.getDocument(n).promise.then(i=>{console.log("pdf loaded into pdfjs-dist lib"),i.getPage(1).then(s=>{console.log("page 1 loaded");const o=s.getViewport({scale:.6}),a=document.getElementById("pdf-container"),l=a.getContext("2d");a.height=o.height,a.width=o.width,s.render({canvasContext:l,viewport:o}).promise.then(()=>{console.log("page 1 rendered")})})})}drawFooterLine(n,r){let i=document.getElementById("pdf-container"),o=r*(i.height/n)-5;const a=i.getContext("2d");a.beginPath(),a.moveTo(0,o),a.lineTo(i.width,o),a.strokeStyle="red",a.stroke()}}return e.\u0275fac=function(n){return new(n||e)(Qe(xO))},e.\u0275cmp=xi({type:e,selectors:[["learn-input-form"]],viewQuery:function(n,r){if(1&n&&B_(RO,5),2&n){let i;Dd(i=function Ed(){return function kT(e,t){return e[pr].queries[t].queryList}(be(),Jf())}())&&(r.inputFileRef=i.first)}},decls:12,vars:6,consts:[["id","pdf-container",4,"ngIf"],["src","assets/pdf.png","alt","pdf-logo",4,"ngIf"],[1,"buttons"],[3,"disabled","click"],["type","file","accept","application/pdf","hidden","",3,"change"],["inputFile",""],["class","loader",4,"ngIf"],["class","error",4,"ngIf"],["id","pdf-container"],["src","assets/pdf.png","alt","pdf-logo"],[1,"loader"],[1,"error"]],template:function(n,r){1&n&&(Yn(0,"main"),vo(1,kO,1,0,"canvas",0),vo(2,NO,1,0,"img",1),Yn(3,"div",2)(4,"button",3),hs("click",function(){return r.startSelecting()}),ni(5,"Select"),Kn(),Yn(6,"button",3),hs("click",function(){return r.startAnalyzing()}),ni(7,"Analyze"),Kn()(),Yn(8,"input",4,5),hs("change",function(s){return r.selectFileHandler(s)}),Kn(),vo(10,OO,1,0,"div",6),vo(11,LO,2,1,"p",7),Kn()),2&n&&(Or(1),ei("ngIf",r.selectedFile),Or(1),ei("ngIf",!r.selectedFile),Or(2),ei("disabled",r.isLoading),Or(2),ei("disabled",r.isLoading),Or(4),ei("ngIf",r.isLoading),Or(1),ei("ngIf",r.error))},dependencies:[lb],styles:["main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:25px;padding:50px 50px 100px}.buttons[_ngcontent-%COMP%]{display:flex;gap:20px}button[_ngcontent-%COMP%]{font-size:18px;font-family:lato;border:none;padding:8px 16px;background-color:#e9ecef;color:#1864ab;font-weight:700;border-radius:5px}button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#dee2e6}canvas[_ngcontent-%COMP%]{border:1px solid #868e96}[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center}.loader[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-top:4px solid #1864ab;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 2s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error[_ngcontent-%COMP%]{color:#8b0000;font-family:lato;width:50ch;text-align:center}"]}),e})(),GO=(()=>{class e{constructor(){this.title="AngularApp"}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=xi({type:e,selectors:[["learn-root"]],decls:3,vars:0,template:function(n,r){1&n&&_i(0,"learn-nav")(1,"learn-input-form")(2,"learn-footer")},dependencies:[TO,IO,jO]}),e})(),HO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xr({type:e,bootstrap:[GO]}),e.\u0275inj=Mr({imports:[hR,MO,UR]}),e})();uR().bootstrapModule(HO).catch(e=>console.error(e))},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _classStaticPrivateMethodGet=__webpack_require__(764).default,_defineProperty=__webpack_require__(416).default,_classPrivateMethodInitSpec=__webpack_require__(860).default,_classPrivateMethodGet=__webpack_require__(467).default,_classStaticPrivateFieldSpecSet=__webpack_require__(306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(280).default,_asyncToGenerator=__webpack_require__(156).default,_classPrivateFieldInitSpec=__webpack_require__(159).default,_classPrivateFieldGet=__webpack_require__(468).default,_classPrivateFieldSet=__webpack_require__(661).default,F;globalThis,F=()=>(()=>{"use strict";var __webpack_modules__=[,(I,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.VerbosityLevel=u.Util=u.UnknownErrorException=u.UnexpectedResponseException=u.TextRenderingMode=u.RenderingIntentFlag=u.PromiseCapability=u.PermissionFlag=u.PasswordResponses=u.PasswordException=u.PageActionEventType=u.OPS=u.MissingPDFException=u.MAX_IMAGE_SIZE_TO_CACHE=u.LINE_FACTOR=u.LINE_DESCENT_FACTOR=u.InvalidPDFException=u.ImageKind=u.IDENTITY_MATRIX=u.FormatError=u.FeatureTest=u.FONT_IDENTITY_MATRIX=u.DocumentActionEventType=u.CMapCompressionType=u.BaseException=u.BASELINE_FACTOR=u.AnnotationType=u.AnnotationStateModelType=u.AnnotationReviewState=u.AnnotationReplyType=u.AnnotationMode=u.AnnotationMarkedState=u.AnnotationFlag=u.AnnotationFieldFlag=u.AnnotationEditorType=u.AnnotationEditorPrefix=u.AnnotationEditorParamsType=u.AnnotationBorderStyleType=u.AnnotationActionEventType=u.AbortException=void 0,u.assert=function qe(_e,ie){_e||Ne(ie)},u.bytesToString=function S(_e){("object"!=typeof _e||void 0===_e?.length)&&Ne("Invalid argument for bytesToString");const ie=_e.length;if(ie<8192)return String.fromCharCode.apply(null,_e);const Oe=[];for(let bt=0;bt<ie;bt+=8192){const Ot=Math.min(bt+8192,ie),Vt=_e.subarray(bt,Ot);Oe.push(String.fromCharCode.apply(null,Vt))}return Oe.join("")},u.createValidAbsoluteUrl=function ee(_e,ie=null,oe=null){if(!_e)return null;try{if(oe&&"string"==typeof _e&&(oe.addDefaultProtocol&&_e.startsWith("www.")&&_e.match(/\./g)?.length>=2&&(_e=`http://${_e}`),oe.tryConvertEncoding))try{_e=Fe(_e)}catch{}const Oe=ie?new URL(_e,ie):new URL(_e);if(function Xe(_e){switch(_e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Oe))return Oe}catch{}return null},u.getModificationDate=function le(_e=new Date){return[_e.getUTCFullYear().toString(),(_e.getUTCMonth()+1).toString().padStart(2,"0"),_e.getUTCDate().toString().padStart(2,"0"),_e.getUTCHours().toString().padStart(2,"0"),_e.getUTCMinutes().toString().padStart(2,"0"),_e.getUTCSeconds().toString().padStart(2,"0")].join("")},u.getVerbosityLevel=function Le(){return Ae},u.info=function Se(_e){Ae>=B.INFOS&&console.log(`Info: ${_e}`)},u.isArrayBuffer=function st(_e){return"object"==typeof _e&&void 0!==_e?.byteLength},u.isArrayEqual=function Ue(_e,ie){if(_e.length!==ie.length)return!1;for(let oe=0,Oe=_e.length;oe<Oe;oe++)if(_e[oe]!==ie[oe])return!1;return!0},u.normalizeUnicode=function xt(_e){return ot||(ot=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Nt=new Map([["\ufb05","\u017ft"]])),_e.replaceAll(ot,(ie,oe,Oe)=>oe?oe.normalize("NFKC"):Nt.get(Oe))},u.objectFromMap=function ne(_e){const ie=Object.create(null);for(const[oe,Oe]of _e)ie[oe]=Oe;return ie},u.objectSize=function Z(_e){return Object.keys(_e).length},u.setVerbosityLevel=function Pe(_e){Number.isInteger(_e)&&(Ae=_e)},u.shadow=v,u.string32=function V(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,255&_e)},u.stringToBytes=D,u.stringToPDFString=function Re(_e){if(_e[0]>="\xef"){let oe;if("\xfe"===_e[0]&&"\xff"===_e[1]?oe="utf-16be":"\xff"===_e[0]&&"\xfe"===_e[1]?oe="utf-16le":"\xef"===_e[0]&&"\xbb"===_e[1]&&"\xbf"===_e[2]&&(oe="utf-8"),oe)try{const Oe=new TextDecoder(oe,{fatal:!0}),bt=D(_e);return Oe.decode(bt)}catch(Oe){Ee(`stringToPDFString: "${Oe}".`)}}const ie=[];for(let oe=0,Oe=_e.length;oe<Oe;oe++){const bt=ye[_e.charCodeAt(oe)];ie.push(bt?String.fromCharCode(bt):_e.charAt(oe))}return ie.join("")},u.stringToUTF8String=Fe,u.unreachable=Ne,u.utf8StringToString=function We(_e){return unescape(encodeURIComponent(_e))},u.warn=Ee,u.IDENTITY_MATRIX=[1,0,0,1,0,0],u.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],u.MAX_IMAGE_SIZE_TO_CACHE=1e7,u.LINE_FACTOR=1.35,u.LINE_DESCENT_FACTOR=.35,u.BASELINE_FACTOR=.25925925925925924,u.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},u.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},u.AnnotationEditorPrefix="pdfjs_internal_editor_",u.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},u.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},u.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},u.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},u.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},u.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},u.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},u.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},u.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},u.AnnotationReplyType={GROUP:"Group",REPLY:"R"},u.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},u.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},u.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},u.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},u.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},u.PageActionEventType={O:"PageOpen",C:"PageClose"};const B={ERRORS:0,WARNINGS:1,INFOS:5};u.VerbosityLevel=B,u.CMapCompressionType={NONE:0,BINARY:1},u.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},u.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ae=B.WARNINGS;function Ee(_e){Ae>=B.WARNINGS&&console.log(`Warning: ${_e}`)}function Ne(_e){throw new Error(_e)}function v(_e,ie,oe,Oe=!1){return Object.defineProperty(_e,ie,{value:oe,enumerable:!Oe,configurable:!0,writable:!1}),oe}const b=function(){function ie(oe,Oe){this.constructor===ie&&Ne("Cannot initialize BaseException."),this.message=oe,this.name=Oe}return ie.prototype=new Error,ie.constructor=ie,ie}();function D(_e){"string"!=typeof _e&&Ne("Invalid argument for stringToBytes");const ie=_e.length,oe=new Uint8Array(ie);for(let Oe=0;Oe<ie;++Oe)oe[Oe]=255&_e.charCodeAt(Oe);return oe}u.BaseException=b,u.PasswordException=class M extends b{constructor(ie,oe){super(ie,"PasswordException"),this.code=oe}},u.UnknownErrorException=class X extends b{constructor(ie,oe){super(ie,"UnknownErrorException"),this.details=oe}},u.InvalidPDFException=class z extends b{constructor(ie){super(ie,"InvalidPDFException")}},u.MissingPDFException=class U extends b{constructor(ie){super(ie,"MissingPDFException")}},u.UnexpectedResponseException=class d extends b{constructor(ie,oe){super(ie,"UnexpectedResponseException"),this.status=oe}},u.FormatError=class p extends b{constructor(ie){super(ie,"FormatError")}},u.AbortException=class m extends b{constructor(ie){super(ie,"AbortException")}},u.FeatureTest=class se{static get isLittleEndian(){return v(this,"isLittleEndian",function de(){const _e=new Uint8Array(4);return _e[0]=1,1===new Uint32Array(_e.buffer,0,1)[0]}())}static get isEvalSupported(){return v(this,"isEvalSupported",function pe(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return v(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?v(this,"platform",{isWin:!1,isMac:!1}):v(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const ce=[...Array(256).keys()].map(_e=>_e.toString(16).padStart(2,"0"));class ge{static makeHexColor(ie,oe,Oe){return`#${ce[ie]}${ce[oe]}${ce[Oe]}`}static scaleMinMax(ie,oe){let Oe;ie[0]?(ie[0]<0&&(Oe=oe[0],oe[0]=oe[1],oe[1]=Oe),oe[0]*=ie[0],oe[1]*=ie[0],ie[3]<0&&(Oe=oe[2],oe[2]=oe[3],oe[3]=Oe),oe[2]*=ie[3],oe[3]*=ie[3]):(Oe=oe[0],oe[0]=oe[2],oe[2]=Oe,Oe=oe[1],oe[1]=oe[3],oe[3]=Oe,ie[1]<0&&(Oe=oe[2],oe[2]=oe[3],oe[3]=Oe),oe[2]*=ie[1],oe[3]*=ie[1],ie[2]<0&&(Oe=oe[0],oe[0]=oe[1],oe[1]=Oe),oe[0]*=ie[2],oe[1]*=ie[2]),oe[0]+=ie[4],oe[1]+=ie[4],oe[2]+=ie[5],oe[3]+=ie[5]}static transform(ie,oe){return[ie[0]*oe[0]+ie[2]*oe[1],ie[1]*oe[0]+ie[3]*oe[1],ie[0]*oe[2]+ie[2]*oe[3],ie[1]*oe[2]+ie[3]*oe[3],ie[0]*oe[4]+ie[2]*oe[5]+ie[4],ie[1]*oe[4]+ie[3]*oe[5]+ie[5]]}static applyTransform(ie,oe){return[ie[0]*oe[0]+ie[1]*oe[2]+oe[4],ie[0]*oe[1]+ie[1]*oe[3]+oe[5]]}static applyInverseTransform(ie,oe){const Oe=oe[0]*oe[3]-oe[1]*oe[2];return[(ie[0]*oe[3]-ie[1]*oe[2]+oe[2]*oe[5]-oe[4]*oe[3])/Oe,(-ie[0]*oe[1]+ie[1]*oe[0]+oe[4]*oe[1]-oe[5]*oe[0])/Oe]}static getAxialAlignedBoundingBox(ie,oe){const Oe=ge.applyTransform(ie,oe),bt=ge.applyTransform(ie.slice(2,4),oe),Ot=ge.applyTransform([ie[0],ie[3]],oe),Vt=ge.applyTransform([ie[2],ie[1]],oe);return[Math.min(Oe[0],bt[0],Ot[0],Vt[0]),Math.min(Oe[1],bt[1],Ot[1],Vt[1]),Math.max(Oe[0],bt[0],Ot[0],Vt[0]),Math.max(Oe[1],bt[1],Ot[1],Vt[1])]}static inverseTransform(ie){const oe=ie[0]*ie[3]-ie[1]*ie[2];return[ie[3]/oe,-ie[1]/oe,-ie[2]/oe,ie[0]/oe,(ie[2]*ie[5]-ie[4]*ie[3])/oe,(ie[4]*ie[1]-ie[5]*ie[0])/oe]}static singularValueDecompose2dScale(ie){const oe=[ie[0],ie[2],ie[1],ie[3]],Oe=ie[0]*oe[0]+ie[1]*oe[2],Vt=ie[2]*oe[1]+ie[3]*oe[3],Ce=(Oe+Vt)/2,he=Math.sqrt((Oe+Vt)**2-4*(Oe*Vt-(ie[2]*oe[0]+ie[3]*oe[2])*(ie[0]*oe[1]+ie[1]*oe[3])))/2,ke=Ce-he||1;return[Math.sqrt(Ce+he||1),Math.sqrt(ke)]}static normalizeRect(ie){const oe=ie.slice(0);return ie[0]>ie[2]&&(oe[0]=ie[2],oe[2]=ie[0]),ie[1]>ie[3]&&(oe[1]=ie[3],oe[3]=ie[1]),oe}static intersect(ie,oe){const Oe=Math.max(Math.min(ie[0],ie[2]),Math.min(oe[0],oe[2])),bt=Math.min(Math.max(ie[0],ie[2]),Math.max(oe[0],oe[2]));if(Oe>bt)return null;const Ot=Math.max(Math.min(ie[1],ie[3]),Math.min(oe[1],oe[3])),Vt=Math.min(Math.max(ie[1],ie[3]),Math.max(oe[1],oe[3]));return Ot>Vt?null:[Oe,Ot,bt,Vt]}static bezierBoundingBox(ie,oe,Oe,bt,Ot,Vt,Ce,he){const Me=[],ke=[[],[]];let xe,et,ut,Ve,dt,ht,Dt,Ct;for(let qt=0;qt<2;++qt)if(0===qt?(et=6*ie-12*Oe+6*Ot,xe=-3*ie+9*Oe-9*Ot+3*Ce,ut=3*Oe-3*ie):(et=6*oe-12*bt+6*Vt,xe=-3*oe+9*bt-9*Vt+3*he,ut=3*bt-3*oe),Math.abs(xe)<1e-12){if(Math.abs(et)<1e-12)continue;Ve=-ut/et,0<Ve&&Ve<1&&Me.push(Ve)}else Dt=et*et-4*ut*xe,Ct=Math.sqrt(Dt),!(Dt<0)&&(dt=(-et+Ct)/(2*xe),0<dt&&dt<1&&Me.push(dt),ht=(-et-Ct)/(2*xe),0<ht&&ht<1&&Me.push(ht));let Pt,tt=Me.length;const zt=tt;for(;tt--;)Ve=Me[tt],Pt=1-Ve,ke[0][tt]=Pt*Pt*Pt*ie+3*Pt*Pt*Ve*Oe+3*Pt*Ve*Ve*Ot+Ve*Ve*Ve*Ce,ke[1][tt]=Pt*Pt*Pt*oe+3*Pt*Pt*Ve*bt+3*Pt*Ve*Ve*Vt+Ve*Ve*Ve*he;return ke[0][zt]=ie,ke[1][zt]=oe,ke[0][zt+1]=Ce,ke[1][zt+1]=he,ke[0].length=ke[1].length=zt+2,[Math.min(...ke[0]),Math.min(...ke[1]),Math.max(...ke[0]),Math.max(...ke[1])]}}u.Util=ge;const ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(_e){return decodeURIComponent(escape(_e))}var Te=new WeakMap;u.PromiseCapability=class ct{constructor(){_classPrivateFieldInitSpec(this,Te,{writable:!0,value:!1}),this.promise=new Promise((ie,oe)=>{this.resolve=Oe=>{_classPrivateFieldSet(this,Te,!0),ie(Oe)},this.reject=Oe=>{_classPrivateFieldSet(this,Te,!0),oe(Oe)}})}get settled(){return _classPrivateFieldGet(this,Te)}};let ot=null,Nt=null},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:I,NodeCMapReaderFactory:u,NodeFilterFactory:F,NodeStandardFontDataFactory:h}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=I,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=u,exports.DefaultFilterFactory=DefaultFilterFactory=F,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=h}if(_is_node.isNodeJS){const{PDFNodeStream:I}=__w_pdfjs_require__(21);createPDFNetworkStream=u=>new I(u)}else{const{PDFNetworkStream:I}=__w_pdfjs_require__(24),{PDFFetchStream:u}=__w_pdfjs_require__(25);createPDFNetworkStream=F=>(0,_display_utils.isValidFetchUrl)(F.url)?new u(F):new I(F)}function getDocument(I){if("string"==typeof I||I instanceof URL?I={url:I}:(0,_util.isArrayBuffer)(I)&&(I={data:I}),"object"!=typeof I)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!I.url&&!I.data&&!I.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const u=new PDFDocumentLoadingTask,{docId:F}=u,h=I.url?getUrlProp(I.url):null,C=I.data?getDataProp(I.data):null,O=I.httpHeaders||null,N=!0===I.withCredentials,Q=I.password??null,te=I.range instanceof PDFDataRangeTransport?I.range:null,T=Number.isInteger(I.rangeChunkSize)&&I.rangeChunkSize>0?I.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let x=I.worker instanceof _PDFWorker?I.worker:null;const W=I.verbosity,Y="string"!=typeof I.docBaseUrl||(0,_display_utils.isDataScheme)(I.docBaseUrl)?null:I.docBaseUrl,P="string"==typeof I.cMapUrl?I.cMapUrl:null,R=!1!==I.cMapPacked,k=I.CMapReaderFactory||DefaultCMapReaderFactory,w="string"==typeof I.standardFontDataUrl?I.standardFontDataUrl:null,A=I.StandardFontDataFactory||DefaultStandardFontDataFactory,H=!0!==I.stopAtErrors,$=Number.isInteger(I.maxImageSize)&&I.maxImageSize>-1?I.maxImageSize:-1,E=!1!==I.isEvalSupported,g="boolean"==typeof I.isOffscreenCanvasSupported?I.isOffscreenCanvasSupported:!_is_node.isNodeJS,y=Number.isInteger(I.canvasMaxAreaInBytes)?I.canvasMaxAreaInBytes:-1,G="boolean"==typeof I.disableFontFace?I.disableFontFace:_is_node.isNodeJS,q=!0===I.fontExtraProperties,L=!0===I.enableXfa,J=I.ownerDocument||globalThis.document,B=!0===I.disableRange,ue=!0===I.disableStream,we=!0===I.disableAutoFetch,ve=!0===I.pdfBug,Ae=te?te.length:I.length??NaN,Pe="boolean"==typeof I.useSystemFonts?I.useSystemFonts:!_is_node.isNodeJS&&!G,Le="boolean"==typeof I.useWorkerFetch?I.useWorkerFetch:k===_display_utils.DOMCMapReaderFactory&&A===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(P,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(w,document.baseURI),Se=I.canvasFactory||new DefaultCanvasFactory({ownerDocument:J}),Ee=I.filterFactory||new DefaultFilterFactory({docId:F,ownerDocument:J});(0,_util.setVerbosityLevel)(W);const qe={canvasFactory:Se,filterFactory:Ee};if(Le||(qe.cMapReaderFactory=new k({baseUrl:P,isCompressed:R}),qe.standardFontDataFactory=new A({baseUrl:w})),!x){const v={verbosity:W,port:_worker_options.GlobalWorkerOptions.workerPort};x=v.port?_PDFWorker.fromPort(v):new _PDFWorker(v),u._worker=x}const Xe={docId:F,apiVersion:"3.7.107",data:C,password:Q,disableAutoFetch:we,rangeChunkSize:T,length:Ae,docBaseUrl:Y,enableXfa:L,evaluatorOptions:{maxImageSize:$,disableFontFace:G,ignoreErrors:H,isEvalSupported:E,isOffscreenCanvasSupported:g,canvasMaxAreaInBytes:y,fontExtraProperties:q,useSystemFonts:Pe,cMapUrl:Le?P:null,standardFontDataUrl:Le?w:null}},ee={ignoreErrors:H,isEvalSupported:E,disableFontFace:G,fontExtraProperties:q,enableXfa:L,ownerDocument:J,disableAutoFetch:we,pdfBug:ve,styleElement:null};return x.promise.then(function(){if(u.destroyed)throw new Error("Loading aborted");const v=_fetchDocument(x,Xe),b=new Promise(function(M){let X;te?X=new _transport_stream.PDFDataTransportStream({length:Ae,initialData:te.initialData,progressiveDone:te.progressiveDone,contentDispositionFilename:te.contentDispositionFilename,disableRange:B,disableStream:ue},te):C||(X=createPDFNetworkStream({url:h,length:Ae,httpHeaders:O,withCredentials:N,rangeChunkSize:T,disableRange:B,disableStream:ue})),M(X)});return Promise.all([v,b]).then(function([M,X]){if(u.destroyed)throw new Error("Loading aborted");const z=new _message_handler.MessageHandler(F,M,x.port),U=new WorkerTransport(z,u,X,ee,qe);u._transport=U,z.send("Ready",null)})}).catch(u._capability.reject),u}function _fetchDocument(I,u){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(I,u){if(I.destroyed)throw new Error("Worker was destroyed");const F=yield I.messageHandler.sendWithPromise("GetDocRequest",u,u.data?[u.data.buffer]:null);if(I.destroyed)throw new Error("Worker was destroyed");return F})).apply(this,arguments)}function getUrlProp(I){if(I instanceof URL)return I.href;try{return new URL(I,window.location).href}catch{if(_is_node.isNodeJS&&"string"==typeof I)return I}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(I){if(_is_node.isNodeJS&&typeof Buffer<"u"&&I instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(I);if(I instanceof Uint8Array&&I.byteLength===I.buffer.byteLength)return I;if("string"==typeof I)return(0,_util.stringToBytes)(I);if("object"==typeof I&&!isNaN(I?.length)||(0,_util.isArrayBuffer)(I))return new Uint8Array(I);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{constructor(){var u,F;this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(u=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),F=u++,u)),F}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var u=this;return _asyncToGenerator(function*(){u.destroyed=!0,yield u._transport?.destroy(),u._transport=null,u._worker&&(u._worker.destroy(),u._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(u,F,h=!1,C=null){this.length=u,this.initialData=F,this.progressiveDone=h,this.contentDispositionFilename=C,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(u){this._rangeListeners.push(u)}addProgressListener(u){this._progressListeners.push(u)}addProgressiveReadListener(u){this._progressiveReadListeners.push(u)}addProgressiveDoneListener(u){this._progressiveDoneListeners.push(u)}onDataRange(u,F){for(const h of this._rangeListeners)h(u,F)}onDataProgress(u,F){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(u,F)})}onDataProgressiveRead(u){this._readyCapability.promise.then(()=>{for(const F of this._progressiveReadListeners)F(u)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const u of this._progressiveDoneListeners)u()})}transportReady(){this._readyCapability.resolve()}requestDataRange(u,F){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(u,F){this._pdfInfo=u,this._transport=F}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(u){return this._transport.getPage(u)}getPageIndex(u){return this._transport.getPageIndex(u)}getDestinations(){return this._transport.getDestinations()}getDestination(u){return this._transport.getDestination(u)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(u=!1){return this._transport.startCleanup(u||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;var _delayedCleanupTimeout=new WeakMap,_pendingCleanup=new WeakMap,_tryCleanup=new WeakSet,_abortDelayedCleanup=new WeakSet;class PDFPageProxy{constructor(u,F,h,C=!1){_classPrivateMethodInitSpec(this,_abortDelayedCleanup),_classPrivateMethodInitSpec(this,_tryCleanup),_classPrivateFieldInitSpec(this,_delayedCleanupTimeout,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pendingCleanup,{writable:!0,value:!1}),this._pageIndex=u,this._pageInfo=F,this._transport=h,this._stats=C?new _display_utils.StatTimer:null,this._pdfBug=C,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:u,rotation:F=this.rotate,offsetX:h=0,offsetY:C=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:u,rotation:F,offsetX:h,offsetY:C,dontFlip:O})}getAnnotations({intent:u="display"}={}){const F=this._transport.getRenderingIntent(u);return this._transport.getAnnotations(this._pageIndex,F.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var u=this;return _asyncToGenerator(function*(){return u._transport._htmlForXfa?.children[u._pageIndex]||null})()}render({canvasContext:u,viewport:F,intent:h="display",annotationMode:C=_util.AnnotationMode.ENABLE,transform:O=null,background:N=null,optionalContentConfigPromise:Q=null,annotationCanvasMap:te=null,pageColors:T=null,printAnnotationStorage:x=null}){if(arguments[0]?.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");this._stats?.time("Overall");const W=this._transport.getRenderingIntent(h,C,x);_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Q||(Q=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(W.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(W.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const P=!!(W.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=new _util.PromiseCapability,Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(W));const R=A=>{Y.renderTasks.delete(k),(this._maybeCleanupAfterRender||P)&&_classPrivateFieldSet(this,_pendingCleanup,!0),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!P),A?(k.capability.reject(A),this._abortOperatorList({intentState:Y,reason:A instanceof Error?A:new Error(A)})):k.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},k=new InternalRenderTask({callback:R,params:{canvasContext:u,viewport:F,transform:O,background:N},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:te,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!P,pdfBug:this._pdfBug,pageColors:T});(Y.renderTasks||=new Set).add(k);const w=k.task;return Promise.all([Y.displayReadyCapability.promise,Q]).then(([A,H])=>{_classPrivateFieldGet(this,_pendingCleanup)?R():(this._stats?.time("Rendering"),k.initializeGraphics({transparency:A,optionalContentConfig:H}),k.operatorListChanged())}).catch(R),w}getOperatorList({intent:u="display",annotationMode:F=_util.AnnotationMode.ENABLE,printAnnotationStorage:h=null}={}){const O=this._transport.getRenderingIntent(u,F,h,!0);let Q,N=this._intentStates.get(O.cacheKey);return N||(N=Object.create(null),this._intentStates.set(O.cacheKey,N)),N.opListReadCapability||(Q=Object.create(null),Q.operatorListChanged=function C(){N.operatorList.lastChunk&&(N.opListReadCapability.resolve(N.operatorList),N.renderTasks.delete(Q))},N.opListReadCapability=new _util.PromiseCapability,(N.renderTasks||=new Set).add(Q),N.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(O)),N.opListReadCapability.promise}streamTextContent({includeMarkedContent:u=!1,disableNormalization:F=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===u,disableNormalization:!0===F},{highWaterMark:100,size:C=>C.items.length})}getTextContent(u={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const F=this.streamTextContent(u);return new Promise(function(h,C){const N=F.getReader(),Q={items:[],styles:Object.create(null)};!function O(){N.read().then(function({value:te,done:T}){T?h(Q):(Object.assign(Q.styles,te.styles),Q.items.push(...te.items),O())},C)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const u=[];for(const F of this._intentStates.values())if(this._abortOperatorList({intentState:F,reason:new Error("Page was destroyed."),force:!0}),!F.opListReadCapability)for(const h of F.renderTasks)u.push(h.completed),h.cancel();return this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),Promise.all(u)}cleanup(u=!1){_classPrivateFieldSet(this,_pendingCleanup,!0);const F=_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1);return u&&F&&(this._stats&&=new _display_utils.StatTimer),F}_startRenderPage(u,F){const h=this._intentStates.get(F);h&&(this._stats?.timeEnd("Page Request"),h.displayReadyCapability?.resolve(u))}_renderPageChunk(u,F){for(let h=0,C=u.length;h<C;h++)F.operatorList.fnArray.push(u.fnArray[h]),F.operatorList.argsArray.push(u.argsArray[h]);F.operatorList.lastChunk=u.lastChunk,F.operatorList.separateAnnots=u.separateAnnots;for(const h of F.renderTasks)h.operatorListChanged();u.lastChunk&&_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}_pumpOperatorList({renderingIntent:u,cacheKey:F,annotationStorageMap:h}){const O=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:u,cacheKey:F,annotationStorage:h}).getReader(),N=this._intentStates.get(F);N.streamReader=O;const Q=()=>{O.read().then(({value:te,done:T})=>{T?N.streamReader=null:this._transport.destroyed||(this._renderPageChunk(te,N),Q())},te=>{if(N.streamReader=null,!this._transport.destroyed){if(N.operatorList){N.operatorList.lastChunk=!0;for(const T of N.renderTasks)T.operatorListChanged();_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!0)}if(N.displayReadyCapability)N.displayReadyCapability.reject(te);else{if(!N.opListReadCapability)throw te;N.opListReadCapability.reject(te)}}})};Q()}_abortOperatorList({intentState:u,reason:F,force:h=!1}){if(u.streamReader){if(u.streamReaderCancelTimeout&&(clearTimeout(u.streamReaderCancelTimeout),u.streamReaderCancelTimeout=null),!h){if(u.renderTasks.size>0)return;if(F instanceof _display_utils.RenderingCancelledException){let C=RENDERING_CANCELLED_TIMEOUT;return F.extraDelay>0&&F.extraDelay<1e3&&(C+=F.extraDelay),void(u.streamReaderCancelTimeout=setTimeout(()=>{u.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:u,reason:F,force:!0})},C))}}if(u.streamReader.cancel(new _util.AbortException(F.message)).catch(()=>{}),u.streamReader=null,!this._transport.destroyed){for(const[C,O]of this._intentStates)if(O===u){this._intentStates.delete(C);break}this.cleanup()}}}get stats(){return this._stats}}function _tryCleanup2(I=!1){if(_classPrivateMethodGet(this,_abortDelayedCleanup,_abortDelayedCleanup2).call(this),!_classPrivateFieldGet(this,_pendingCleanup))return!1;if(I)return _classPrivateFieldSet(this,_delayedCleanupTimeout,setTimeout(()=>{_classPrivateFieldSet(this,_delayedCleanupTimeout,null),_classPrivateMethodGet(this,_tryCleanup,_tryCleanup2).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:u,operatorList:F}of this._intentStates.values())if(u.size>0||!F.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_classPrivateFieldSet(this,_pendingCleanup,!1),!0}function _abortDelayedCleanup2(){_classPrivateFieldGet(this,_delayedCleanupTimeout)&&(clearTimeout(_classPrivateFieldGet(this,_delayedCleanupTimeout)),_classPrivateFieldSet(this,_delayedCleanupTimeout,null))}exports.PDFPageProxy=PDFPageProxy;var _listeners=new WeakMap,_deferred=new WeakMap;class LoopbackPort{constructor(){_classPrivateFieldInitSpec(this,_listeners,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,_deferred,{writable:!0,value:Promise.resolve()})}postMessage(u,F){const h={data:structuredClone(u,F?{transfer:F}:null)};_classPrivateFieldGet(this,_deferred).then(()=>{for(const C of _classPrivateFieldGet(this,_listeners))C.call(this,h)})}addEventListener(u,F){_classPrivateFieldGet(this,_listeners).add(F)}removeEventListener(u,F){_classPrivateFieldGet(this,_listeners).delete(F)}terminate(){_classPrivateFieldGet(this,_listeners).clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const I=document?.currentScript?.src;I&&(PDFWorkerUtil.fallbackWorkerSrc=I.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(I,u){let F;try{if(F=new URL(I),!F.origin||"null"===F.origin)return!1}catch{return!1}const h=new URL(u,F);return F.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(I){return URL.createObjectURL(new Blob([`importScripts("${I}");`]))};class _PDFWorker{constructor({name:I=null,port:u=null,verbosity:F=(0,_util.getVerbosityLevel)()}={}){if(u&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(u))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=I,this.destroyed=!1,this.verbosity=F,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,u)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(u,this),void this._initializeFromPort(u);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(I){this._port=I,this._messageHandler=new _message_handler.MessageHandler("main","worker",I),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:I}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,I)||(I=PDFWorkerUtil.createCDNWrapper(new URL(I,window.location).href));const u=new Worker(I),F=new _message_handler.MessageHandler("main","worker",u),h=()=>{u.removeEventListener("error",C),F.destroy(),u.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},C=()=>{this._webWorker||h()};u.addEventListener("error",C),F.on("test",N=>{u.removeEventListener("error",C),this.destroyed?h():N?(this._messageHandler=F,this._port=u,this._webWorker=u,this._readyCapability.resolve(),F.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),F.destroy(),u.terminate())}),F.on("ready",N=>{if(u.removeEventListener("error",C),this.destroyed)h();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const N=new Uint8Array;F.send("test",N,[N.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(I=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const u=new LoopbackPort;this._port=u;const F="fake"+PDFWorkerUtil.fakeWorkerId++,h=new _message_handler.MessageHandler(F+"_worker",F,u);I.setup(h,u);const C=new _message_handler.MessageHandler(F,F+"_worker",u);this._messageHandler=C,this._readyCapability.resolve(),C.send("configure",{verbosity:this.verbosity})}).catch(I=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${I.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(I){if(!I?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(I.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(I.port):new _PDFWorker(I)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function I(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker;var _methodPromises=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_cacheSimpleMethod=new WeakSet;class WorkerTransport{constructor(u,F,h,C,O){_classPrivateMethodInitSpec(this,_cacheSimpleMethod),_classPrivateFieldInitSpec(this,_methodPromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),this.messageHandler=u,this.loadingTask=F,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:C.ownerDocument,styleElement:C.styleElement}),this._params=C,this.canvasFactory=O.canvasFactory,this.filterFactory=O.filterFactory,this.cMapReaderFactory=O.cMapReaderFactory,this.standardFontDataFactory=O.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(u,F=_util.AnnotationMode.ENABLE,h=null,C=!1){let O=_util.RenderingIntentFlag.DISPLAY,N=null;switch(u){case"any":O=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":O=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${u}`)}switch(F){case _util.AnnotationMode.DISABLE:O+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:O+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:O+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,N=(O&_util.RenderingIntentFlag.PRINT&&h instanceof _annotation_storage.PrintAnnotationStorage?h:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${F}`)}return C&&(O+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:O,cacheKey:`${O}_${_annotation_storage.AnnotationStorage.getHash(N)}`,annotationStorageMap:N}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const u=[];for(const h of _classPrivateFieldGet(this,_pageCache).values())u.push(h._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const F=this.messageHandler.sendWithPromise("Terminate",null);return u.push(F),Promise.all(u).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldGet(this,_methodPromises).clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:u,loadingTask:F}=this;u.on("GetReader",(h,C)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},C.onPull=()=>{this._fullReader.read().then(function({value:O,done:N}){N?C.close():((0,_util.assert)(O instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{C.error(O)})},C.onCancel=O=>{this._fullReader.cancel(O),C.ready.catch(N=>{if(!this.destroyed)throw N})}}),u.on("ReaderHeadersReady",h=>{const C=new _util.PromiseCapability,O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&F.onProgress?.(this._lastProgress),O.onProgress=N=>{F.onProgress?.({loaded:N.loaded,total:N.total})}),C.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},C.reject),C.promise}),u.on("GetRangeReader",(h,C)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(h.begin,h.end);O?(C.onPull=()=>{O.read().then(function({value:N,done:Q}){Q?C.close():((0,_util.assert)(N instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),C.enqueue(new Uint8Array(N),1,[N]))}).catch(N=>{C.error(N)})},C.onCancel=N=>{O.cancel(N),C.ready.catch(Q=>{if(!this.destroyed)throw Q})}):C.close()}),u.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,F._capability.resolve(new PDFDocumentProxy(h,this))}),u.on("DocException",function(h){let C;switch(h.name){case"PasswordException":C=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":C=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":C=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":C=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":C=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}F._capability.reject(C)}),u.on("PasswordRequest",h=>{if(this._passwordCapability=new _util.PromiseCapability,F.onPassword){const C=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{F.onPassword(C,h.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),u.on("DataLoaded",h=>{F.onProgress?.({loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),u.on("StartRenderPage",h=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),u.on("commonobj",([h,C,O])=>{if(!this.destroyed&&!this.commonObjs.has(h))switch(C){case"Font":const N=this._params;if("error"in O){const T=O.error;(0,_util.warn)(`Error during font loading: ${T}`),this.commonObjs.resolve(h,T);break}const Q=N.pdfBug&&globalThis.FontInspector?.enabled?(T,x)=>globalThis.FontInspector.fontAdded(T,x):null,te=new _font_loader.FontFaceObject(O,{isEvalSupported:N.isEvalSupported,disableFontFace:N.disableFontFace,ignoreErrors:N.ignoreErrors,inspectFont:Q});this.fontLoader.bind(te).catch(T=>u.sendWithPromise("FontFallback",{id:h})).finally(()=>{!N.fontExtraProperties&&te.data&&(te.data=null),this.commonObjs.resolve(h,te)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(h,O);break;default:throw new Error(`Got unknown common object type ${C}`)}}),u.on("obj",([h,C,O,N])=>{if(this.destroyed)return;const Q=_classPrivateFieldGet(this,_pageCache).get(C);if(!Q.objs.has(h))switch(O){case"Image":if(Q.objs.resolve(h,N),N){let te;if(N.bitmap){const{width:T,height:x}=N;te=T*x*4}else te=N.data?.length||0;te>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Q._maybeCleanupAfterRender=!0)}break;case"Pattern":Q.objs.resolve(h,N);break;default:throw new Error(`Got unknown object type ${O}`)}}),u.on("DocProgress",h=>{this.destroyed||F.onProgress?.({loaded:h.loaded,total:h.total})}),u.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),u.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(u){if(!Number.isInteger(u)||u<=0||u>this._numPages)return Promise.reject(new Error("Invalid page request."));const F=u-1,h=_classPrivateFieldGet(this,_pagePromises).get(F);if(h)return h;const C=this.messageHandler.sendWithPromise("GetPage",{pageIndex:F}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const N=new PDFPageProxy(F,O,this,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(F,N),N});return _classPrivateFieldGet(this,_pagePromises).set(F,C),C}getPageIndex(u){return"object"!=typeof u||null===u||!Number.isInteger(u.num)||u.num<0||!Number.isInteger(u.gen)||u.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:u.num,gen:u.gen})}getAnnotations(u,F){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:u,intent:F})}getFieldObjects(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"GetFieldObjects")}hasJSActions(){return _classPrivateMethodGet(this,_cacheSimpleMethod,_cacheSimpleMethod2).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(u){return"string"!=typeof u?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:u})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(u){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:u})}getStructTree(u){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:u})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(u=>new _optional_content_config.OptionalContentConfig(u))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const u="GetMetadata",F=_classPrivateFieldGet(this,_methodPromises).get(u);if(F)return F;const h=this.messageHandler.sendWithPromise(u,null).then(C=>({info:C[0],metadata:C[1]?new _metadata.Metadata(C[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return _classPrivateFieldGet(this,_methodPromises).set(u,h),h}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(u=!1){var F=this;return _asyncToGenerator(function*(){if(!F.destroyed){yield F.messageHandler.sendWithPromise("Cleanup",null);for(const h of _classPrivateFieldGet(F,_pageCache).values())if(!h.cleanup())throw new Error(`startCleanup: Page ${h.pageNumber} is currently rendering.`);F.commonObjs.clear(),u||F.fontLoader.clear(),_classPrivateFieldGet(F,_methodPromises).clear(),F.filterFactory.destroy(!0)}})()}get loadingParams(){const{disableAutoFetch:u,enableXfa:F}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:u,enableXfa:F})}}function _cacheSimpleMethod2(I,u=null){const F=_classPrivateFieldGet(this,_methodPromises).get(I);if(F)return F;const h=this.messageHandler.sendWithPromise(I,u);return _classPrivateFieldGet(this,_methodPromises).set(I,h),h}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(u,F=null){if(F){const C=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,u);return C.capability.promise.then(()=>F(C.data)),null}const h=_classPrivateFieldGet(this,_objs)[u];if(!h?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${u}.`);return h.data}has(u){return _classPrivateFieldGet(this,_objs)[u]?.capability.settled||!1}resolve(u,F=null){const h=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,u);h.data=F,h.capability.resolve()}clear(){for(const u in _classPrivateFieldGet(this,_objs)){const{data:F}=_classPrivateFieldGet(this,_objs)[u];F?.bitmap?.close()}_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(I){return _classPrivateFieldGet(this,_objs)[I]||(_classPrivateFieldGet(this,_objs)[I]={capability:new _util.PromiseCapability,data:null})}var _internalRenderTask=new WeakMap;class RenderTask{constructor(u){_classPrivateFieldInitSpec(this,_internalRenderTask,{writable:!0,value:null}),_classPrivateFieldSet(this,_internalRenderTask,u),this.onContinue=null}get promise(){return _classPrivateFieldGet(this,_internalRenderTask).capability.promise}cancel(u=0){_classPrivateFieldGet(this,_internalRenderTask).cancel(null,u)}get separateAnnots(){const{separateAnnots:u}=_classPrivateFieldGet(this,_internalRenderTask).operatorList;if(!u)return!1;const{annotationCanvasMap:F}=_classPrivateFieldGet(this,_internalRenderTask);return u.form||u.canvas&&F?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:u,params:F,objs:h,commonObjs:C,annotationCanvasMap:O,operatorList:N,pageIndex:Q,canvasFactory:te,filterFactory:T,useRequestAnimationFrame:x=!1,pdfBug:W=!1,pageColors:Y=null}){this.callback=u,this.params=F,this.objs=h,this.commonObjs=C,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=N,this._pageIndex=Q,this.canvasFactory=te,this.filterFactory=T,this._pdfBug=W,this.pageColors=Y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===x&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=F.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:u=!1,optionalContentConfig:F}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:C,transform:O,background:N}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:F},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:C,transparency:u,background:N}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(u=null,F=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(u||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",F))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var u=this;return _asyncToGenerator(function*(){u.cancelled||(u.operatorListIdx=u.gfx.executeOperatorList(u.operatorList,u.operatorListIdx,u._continueBound,u.stepper),u.operatorListIdx===u.operatorList.argsArray.length&&(u.running=!1,u.operatorList.lastChunk&&(u.gfx.endDrawing(u.pageColors),u._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(u._canvas),u.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PrintAnnotationStorage=u.AnnotationStorage=void 0;var h=F(1),C=F(4),O=F(8),N=new WeakMap,Q=new WeakMap,te=new WeakSet;class T{constructor(){_classPrivateMethodInitSpec(this,te),_classPrivateFieldInitSpec(this,N,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:new Map}),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(R,k){const w=_classPrivateFieldGet(this,Q).get(R);return void 0===w?k:Object.assign(k,w)}getRawValue(R){return _classPrivateFieldGet(this,Q).get(R)}remove(R){if(_classPrivateFieldGet(this,Q).delete(R),0===_classPrivateFieldGet(this,Q).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const k of _classPrivateFieldGet(this,Q).values())if(k instanceof C.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(R,k){const w=_classPrivateFieldGet(this,Q).get(R);let A=!1;if(void 0!==w)for(const[H,$]of Object.entries(k))w[H]!==$&&(A=!0,w[H]=$);else A=!0,_classPrivateFieldGet(this,Q).set(R,k);A&&_classPrivateMethodGet(this,te,x).call(this),k instanceof C.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(k.constructor._type)}has(R){return _classPrivateFieldGet(this,Q).has(R)}getAll(){return _classPrivateFieldGet(this,Q).size>0?(0,h.objectFromMap)(_classPrivateFieldGet(this,Q)):null}setAll(R){for(const[k,w]of Object.entries(R))this.setValue(k,w)}get size(){return _classPrivateFieldGet(this,Q).size}resetModified(){_classPrivateFieldGet(this,N)&&(_classPrivateFieldSet(this,N,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Y(this)}get serializable(){if(0===_classPrivateFieldGet(this,Q).size)return null;const R=new Map;for(const[k,w]of _classPrivateFieldGet(this,Q)){const A=w instanceof C.AnnotationEditor?w.serialize():w;A&&R.set(k,A)}return R}static getHash(R){if(!R)return"";const k=new O.MurmurHash3_64;for(const[w,A]of R)k.update(`${w}:${JSON.stringify(A)}`);return k.hexdigest()}}function x(){_classPrivateFieldGet(this,N)||(_classPrivateFieldSet(this,N,!0),"function"==typeof this.onSetModified&&this.onSetModified())}u.AnnotationStorage=T;var W=new WeakMap;class Y extends T{constructor(R){super(),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),_classPrivateFieldSet(this,W,structuredClone(R.serializable))}get print(){(0,h.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _classPrivateFieldGet(this,W)}}u.PrintAnnotationStorage=Y},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditor=void 0;var h=F(5),C=F(1),O=new WeakMap,N=new WeakMap,Q=new WeakMap,te=new WeakMap,T=new WeakMap,x=new WeakMap;class W{constructor(P){_classPrivateFieldInitSpec(this,O,{writable:!0,value:this.focusin.bind(this)}),_classPrivateFieldInitSpec(this,N,{writable:!0,value:this.focusout.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:!1}),_defineProperty(this,"_uiManager",null),_classPrivateFieldInitSpec(this,x,{writable:!0,value:W._zIndex++}),this.constructor===W&&(0,C.unreachable)("Cannot initialize AnnotationEditor."),this.parent=P.parent,this.id=P.id,this.width=this.height=null,this.pageIndex=P.parent.pageIndex,this.name=P.name,this.div=null,this._uiManager=P.uiManager;const{rotation:R,rawDims:{pageWidth:k,pageHeight:w,pageX:A,pageY:H}}=this.parent.viewport;this.rotation=R,this.pageRotation=(360+R-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[k,w],this.pageTranslation=[A,H];const[$,E]=this.parentDimensions;this.x=P.x/$,this.y=P.y/E,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,C.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(P){this._uiManager.addCommands(P)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_classPrivateFieldGet(this,x)}setParent(P){null!==P&&(this.pageIndex=P.pageIndex,this.pageDimensions=P.pageDimensions),this.parent=P}focusin(P){_classPrivateFieldGet(this,Q)?_classPrivateFieldSet(this,Q,!1):this.parent.setSelected(this)}focusout(P){!this.isAttachedToDOM||P.relatedTarget?.closest(`#${this.id}`)||(P.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(P){const R=this.parent.div.getBoundingClientRect();this.startX=P.clientX-R.x,this.startY=P.clientY-R.y,P.dataTransfer.setData("text/plain",this.id),P.dataTransfer.effectAllowed="move"}setAt(P,R,k,w){const[A,H]=this.parentDimensions;[k,w]=this.screenToPageTranslation(k,w),this.x=(P+k)/A,this.y=(R+w)/H,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(P,R){const[k,w]=this.parentDimensions;[P,R]=this.screenToPageTranslation(P,R),this.x+=P/k,this.y+=R/w,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(P,R){switch(this.parentRotation){case 90:return[R,-P];case 180:return[-P,-R];case 270:return[-R,P];default:return[P,R]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:P}=this._uiManager.viewParameters,[R,k]=this.pageDimensions;return[R*P,k*P]}setDims(P,R){const[k,w]=this.parentDimensions;this.div.style.width=100*P/k+"%",this.div.style.height=100*R/w+"%"}fixDims(){const{style:P}=this.div,{height:R,width:k}=P,w=k.endsWith("%"),A=R.endsWith("%");if(w&&A)return;const[H,$]=this.parentDimensions;w||(P.width=100*parseFloat(k)/H+"%"),A||(P.height=100*parseFloat(R)/$+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_classPrivateFieldGet(this,O)),this.div.addEventListener("focusout",_classPrivateFieldGet(this,N));const[P,R]=this.getInitialTranslation();return this.translate(P,R),(0,h.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(P){const{isMac:R}=C.FeatureTest.platform;0!==P.button||P.ctrlKey&&R?P.preventDefault():(P.ctrlKey&&!R||P.shiftKey||P.metaKey&&R?this.parent.toggleSelected(this):this.parent.setSelected(this),_classPrivateFieldSet(this,Q,!0))}getRect(P,R){const k=this.parentScale,[w,A]=this.pageDimensions,[H,$]=this.pageTranslation,E=P/k,g=R/k,y=this.x*w,G=this.y*A,q=this.width*w,L=this.height*A;switch(this.rotation){case 0:return[y+E+H,A-G-g-L+$,y+E+q+H,A-G-g+$];case 90:return[y+g+H,A-G+E+$,y+g+L+H,A-G+E+q+$];case 180:return[y-E-q+H,A-G+g+$,y-E+H,A-G+g+L+$];case 270:return[y-g-L+H,A-G-E-q+$,y-g+H,A-G-E+$];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(P,R){const[k,w,A,H]=P,$=A-k,E=H-w;switch(this.rotation){case 0:return[k,R-H,$,E];case 90:return[k,R-w,E,$];case 180:return[A,R-w,$,E];case 270:return[A,R-H,E,$];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_classPrivateFieldSet(this,T,!0)}disableEditMode(){_classPrivateFieldSet(this,T,!1)}isInEditMode(){return _classPrivateFieldGet(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",_classPrivateFieldGet(this,O))}serialize(){(0,C.unreachable)("An editor must be serializable")}static deserialize(P,R,k){const w=new this.prototype.constructor({parent:R,id:R.getNextId(),uiManager:k});w.rotation=P.rotation;const[A,H]=w.pageDimensions,[$,E,g,y]=w.getRectInCurrentCoords(P.rect,H);return w.x=$/A,w.y=E/H,w.width=g/A,w.height=y/H,w}remove(){this.div.removeEventListener("focusin",_classPrivateFieldGet(this,O)),this.div.removeEventListener("focusout",_classPrivateFieldGet(this,N)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(P,R){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return _classPrivateFieldGet(this,te)}set isEditing(P){_classPrivateFieldSet(this,te,P),P?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}_defineProperty(W,"_colorManager",new h.ColorManager),_defineProperty(W,"_zIndex",1),u.AnnotationEditor=W},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.KeyboardManager=u.CommandManager=u.ColorManager=u.AnnotationEditorUIManager=void 0,u.bindEvents=function O(Ue,le,Te){for(const ct of Te)le.addEventListener(ct,Ue[ct].bind(Ue))},u.opacityToHex=function N(Ue){return Math.round(Math.min(255,Math.max(1,255*Ue))).toString(16).padStart(2,"0")};var h=F(1),C=F(6),Q=new WeakMap;class te{constructor(){_classPrivateFieldInitSpec(this,Q,{writable:!0,value:0})}getId(){var le,Te;return`${h.AnnotationEditorPrefix}${_classPrivateFieldSet(this,Q,(le=_classPrivateFieldGet(this,Q),Te=le++,le)),Te}`}}var T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakMap;class P{constructor(le=128){_classPrivateFieldInitSpec(this,T,{writable:!0,value:[]}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:-1}),_classPrivateFieldSet(this,W,le)}add({cmd:le,undo:Te,mustExec:ct,type:ot=NaN,overwriteIfSameType:Nt=!1,keepUndo:xt=!1}){if(ct&&le(),_classPrivateFieldGet(this,x))return;const _e={cmd:le,undo:Te,type:ot};if(-1===_classPrivateFieldGet(this,Y))return _classPrivateFieldGet(this,T).length>0&&(_classPrivateFieldGet(this,T).length=0),_classPrivateFieldSet(this,Y,0),void _classPrivateFieldGet(this,T).push(_e);if(Nt&&_classPrivateFieldGet(this,T)[_classPrivateFieldGet(this,Y)].type===ot)return xt&&(_e.undo=_classPrivateFieldGet(this,T)[_classPrivateFieldGet(this,Y)].undo),void(_classPrivateFieldGet(this,T)[_classPrivateFieldGet(this,Y)]=_e);const ie=_classPrivateFieldGet(this,Y)+1;ie===_classPrivateFieldGet(this,W)?_classPrivateFieldGet(this,T).splice(0,1):(_classPrivateFieldSet(this,Y,ie),ie<_classPrivateFieldGet(this,T).length&&_classPrivateFieldGet(this,T).splice(ie)),_classPrivateFieldGet(this,T).push(_e)}undo(){-1!==_classPrivateFieldGet(this,Y)&&(_classPrivateFieldSet(this,x,!0),_classPrivateFieldGet(this,T)[_classPrivateFieldGet(this,Y)].undo(),_classPrivateFieldSet(this,x,!1),_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,Y)-1))}redo(){_classPrivateFieldGet(this,Y)<_classPrivateFieldGet(this,T).length-1&&(_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,Y)+1),_classPrivateFieldSet(this,x,!0),_classPrivateFieldGet(this,T)[_classPrivateFieldGet(this,Y)].cmd(),_classPrivateFieldSet(this,x,!1))}hasSomethingToUndo(){return-1!==_classPrivateFieldGet(this,Y)}hasSomethingToRedo(){return _classPrivateFieldGet(this,Y)<_classPrivateFieldGet(this,T).length-1}destroy(){_classPrivateFieldSet(this,T,null)}}u.CommandManager=P;var R=new WeakSet;class k{constructor(le){_classPrivateMethodInitSpec(this,R),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Te}=h.FeatureTest.platform;for(const[ct,ot]of le)for(const Nt of ct){const xt=Nt.startsWith("mac+");Te&&xt?(this.callbacks.set(Nt.slice(4),ot),this.allKeys.add(Nt.split("+").at(-1))):!Te&&!xt&&(this.callbacks.set(Nt,ot),this.allKeys.add(Nt.split("+").at(-1)))}}exec(le,Te){if(!this.allKeys.has(Te.key))return;const ct=this.callbacks.get(_classPrivateMethodGet(this,R,w).call(this,Te));ct&&(ct.bind(le)(),Te.stopPropagation(),Te.preventDefault())}}function w(Ue){Ue.altKey&&this.buffer.push("alt"),Ue.ctrlKey&&this.buffer.push("ctrl"),Ue.metaKey&&this.buffer.push("meta"),Ue.shiftKey&&this.buffer.push("shift"),this.buffer.push(Ue.key);const le=this.buffer.join("+");return this.buffer.length=0,le}u.KeyboardManager=k;class A{get _colors(){const le=new Map([["CanvasText",null],["Canvas",null]]);return(0,C.getColorValues)(le),(0,h.shadow)(this,"_colors",le)}convert(le){const Te=(0,C.getRGB)(le);if(!window.matchMedia("(forced-colors: active)").matches)return Te;for(const[ct,ot]of this._colors)if(ot.every((Nt,xt)=>Nt===Te[xt]))return A._colorsMapping.get(ct);return Te}getHexCode(le){const Te=this._colors.get(le);return Te?h.Util.makeHexColor(...Te):le}}_defineProperty(A,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),u.ColorManager=A;var H=new WeakMap,$=new WeakMap,E=new WeakMap,g=new WeakMap,y=new WeakMap,G=new WeakMap,q=new WeakMap,L=new WeakMap,J=new WeakMap,B=new WeakMap,ue=new WeakMap,we=new WeakMap,ve=new WeakMap,Ae=new WeakMap,Pe=new WeakMap,Le=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Ne=new WeakMap,qe=new WeakMap,Xe=new WeakMap,ee=new WeakMap,v=new WeakMap,b=new WeakSet,M=new WeakSet,X=new WeakSet,z=new WeakSet,U=new WeakSet,d=new WeakSet,p=new WeakSet,m=new WeakSet,S=new WeakSet,D=new WeakSet,V=new WeakSet;class Z{constructor(le,Te,ct){_classPrivateMethodInitSpec(this,V),_classPrivateMethodInitSpec(this,D),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,p),_classPrivateMethodInitSpec(this,d),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,X),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,b),_classPrivateFieldInitSpec(this,H,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:new P}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,q,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,L,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,J,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,B,{writable:!0,value:new te}),_classPrivateFieldInitSpec(this,ue,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,we,{writable:!0,value:h.AnnotationEditorType.NONE}),_classPrivateFieldInitSpec(this,ve,{writable:!0,value:new Set}),_classPrivateFieldInitSpec(this,Ae,{writable:!0,value:this.copy.bind(this)}),_classPrivateFieldInitSpec(this,Pe,{writable:!0,value:this.cut.bind(this)}),_classPrivateFieldInitSpec(this,Le,{writable:!0,value:this.paste.bind(this)}),_classPrivateFieldInitSpec(this,Se,{writable:!0,value:this.keydown.bind(this)}),_classPrivateFieldInitSpec(this,Ee,{writable:!0,value:this.onEditingAction.bind(this)}),_classPrivateFieldInitSpec(this,Ne,{writable:!0,value:this.onPageChanging.bind(this)}),_classPrivateFieldInitSpec(this,qe,{writable:!0,value:this.onScaleChanging.bind(this)}),_classPrivateFieldInitSpec(this,Xe,{writable:!0,value:this.onRotationChanging.bind(this)}),_classPrivateFieldInitSpec(this,ee,{writable:!0,value:{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1}}),_classPrivateFieldInitSpec(this,v,{writable:!0,value:null}),_classPrivateFieldSet(this,v,le),_classPrivateFieldSet(this,J,Te),_classPrivateFieldGet(this,J)._on("editingaction",_classPrivateFieldGet(this,Ee)),_classPrivateFieldGet(this,J)._on("pagechanging",_classPrivateFieldGet(this,Ne)),_classPrivateFieldGet(this,J)._on("scalechanging",_classPrivateFieldGet(this,qe)),_classPrivateFieldGet(this,J)._on("rotationchanging",_classPrivateFieldGet(this,Xe)),_classPrivateFieldSet(this,g,ct),this.viewParameters={realScale:C.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){_classPrivateMethodGet(this,M,de).call(this),_classPrivateFieldGet(this,J)._off("editingaction",_classPrivateFieldGet(this,Ee)),_classPrivateFieldGet(this,J)._off("pagechanging",_classPrivateFieldGet(this,Ne)),_classPrivateFieldGet(this,J)._off("scalechanging",_classPrivateFieldGet(this,qe)),_classPrivateFieldGet(this,J)._off("rotationchanging",_classPrivateFieldGet(this,Xe));for(const le of _classPrivateFieldGet(this,E).values())le.destroy();_classPrivateFieldGet(this,E).clear(),_classPrivateFieldGet(this,$).clear(),_classPrivateFieldGet(this,L).clear(),_classPrivateFieldSet(this,H,null),_classPrivateFieldGet(this,ve).clear(),_classPrivateFieldGet(this,y).destroy()}onPageChanging({pageNumber:le}){_classPrivateFieldSet(this,G,le-1)}focusMainContainer(){_classPrivateFieldGet(this,v).focus()}addShouldRescale(le){_classPrivateFieldGet(this,L).add(le)}removeShouldRescale(le){_classPrivateFieldGet(this,L).delete(le)}onScaleChanging({scale:le}){this.commitOrRemove(),this.viewParameters.realScale=le*C.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Te of _classPrivateFieldGet(this,L))Te.onScaleChanging()}onRotationChanging({pagesRotation:le}){this.commitOrRemove(),this.viewParameters.rotation=le}addToAnnotationStorage(le){!le.isEmpty()&&_classPrivateFieldGet(this,g)&&!_classPrivateFieldGet(this,g).has(le.id)&&_classPrivateFieldGet(this,g).setValue(le.id,le)}copy(le){if(le.preventDefault(),_classPrivateFieldGet(this,H)&&_classPrivateFieldGet(this,H).commitOrRemove(),!this.hasSelection)return;const Te=[];for(const ct of _classPrivateFieldGet(this,ve))ct.isEmpty()||Te.push(ct.serialize());0!==Te.length&&le.clipboardData.setData("application/pdfjs",JSON.stringify(Te))}cut(le){this.copy(le),this.delete()}paste(le){le.preventDefault();let Te=le.clipboardData.getData("application/pdfjs");if(!Te)return;try{Te=JSON.parse(Te)}catch(ot){return void(0,h.warn)(`paste: "${ot.message}".`)}if(!Array.isArray(Te))return;this.unselectAll();const ct=_classPrivateFieldGet(this,E).get(_classPrivateFieldGet(this,G));try{const ot=[];for(const _e of Te){const ie=ct.deserialize(_e);if(!ie)return;ot.push(ie)}this.addCommands({cmd:()=>{for(const _e of ot)_classPrivateMethodGet(this,S,Fe).call(this,_e);_classPrivateMethodGet(this,V,st).call(this,ot)},undo:()=>{for(const _e of ot)_e.remove()},mustExec:!0})}catch(ot){(0,h.warn)(`paste: "${ot.message}".`)}}keydown(le){this.getActive()?.shouldGetKeyboardEvents()||Z._keyboardManager.exec(this,le)}onEditingAction(le){["undo","redo","delete","selectAll"].includes(le.name)&&this[le.name]()}setEditingState(le){le?(_classPrivateMethodGet(this,b,ne).call(this),_classPrivateMethodGet(this,X,pe).call(this),_classPrivateMethodGet(this,U,ce).call(this,{isEditing:_classPrivateFieldGet(this,we)!==h.AnnotationEditorType.NONE,isEmpty:_classPrivateMethodGet(this,D,We).call(this),hasSomethingToUndo:_classPrivateFieldGet(this,y).hasSomethingToUndo(),hasSomethingToRedo:_classPrivateFieldGet(this,y).hasSomethingToRedo(),hasSelectedEditor:!1})):(_classPrivateMethodGet(this,M,de).call(this),_classPrivateMethodGet(this,z,se).call(this),_classPrivateMethodGet(this,U,ce).call(this,{isEditing:!1}))}registerEditorTypes(le){if(!_classPrivateFieldGet(this,q)){_classPrivateFieldSet(this,q,le);for(const Te of _classPrivateFieldGet(this,q))_classPrivateMethodGet(this,d,ge).call(this,Te.defaultPropertiesToUpdate)}}getId(){return _classPrivateFieldGet(this,B).getId()}get currentLayer(){return _classPrivateFieldGet(this,E).get(_classPrivateFieldGet(this,G))}get currentPageIndex(){return _classPrivateFieldGet(this,G)}addLayer(le){_classPrivateFieldGet(this,E).set(le.pageIndex,le),_classPrivateFieldGet(this,ue)?le.enable():le.disable()}removeLayer(le){_classPrivateFieldGet(this,E).delete(le.pageIndex)}updateMode(le){if(_classPrivateFieldSet(this,we,le),le===h.AnnotationEditorType.NONE)this.setEditingState(!1),_classPrivateMethodGet(this,m,Re).call(this);else{this.setEditingState(!0),_classPrivateMethodGet(this,p,ye).call(this);for(const Te of _classPrivateFieldGet(this,E).values())Te.updateMode(le)}}updateToolbar(le){le!==_classPrivateFieldGet(this,we)&&_classPrivateFieldGet(this,J).dispatch("switchannotationeditormode",{source:this,mode:le})}updateParams(le,Te){if(_classPrivateFieldGet(this,q)){for(const ct of _classPrivateFieldGet(this,ve))ct.updateParams(le,Te);for(const ct of _classPrivateFieldGet(this,q))ct.updateDefaultParams(le,Te)}}getEditors(le){const Te=[];for(const ct of _classPrivateFieldGet(this,$).values())ct.pageIndex===le&&Te.push(ct);return Te}getEditor(le){return _classPrivateFieldGet(this,$).get(le)}addEditor(le){_classPrivateFieldGet(this,$).set(le.id,le)}removeEditor(le){_classPrivateFieldGet(this,$).delete(le.id),this.unselect(le),_classPrivateFieldGet(this,g)?.remove(le.id)}setActiveEditor(le){_classPrivateFieldGet(this,H)!==le&&(_classPrivateFieldSet(this,H,le),le&&_classPrivateMethodGet(this,d,ge).call(this,le.propertiesToUpdate))}toggleSelected(le){if(_classPrivateFieldGet(this,ve).has(le))return _classPrivateFieldGet(this,ve).delete(le),le.unselect(),void _classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:this.hasSelection});_classPrivateFieldGet(this,ve).add(le),le.select(),_classPrivateMethodGet(this,d,ge).call(this,le.propertiesToUpdate),_classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:!0})}setSelected(le){for(const Te of _classPrivateFieldGet(this,ve))Te!==le&&Te.unselect();_classPrivateFieldGet(this,ve).clear(),_classPrivateFieldGet(this,ve).add(le),le.select(),_classPrivateMethodGet(this,d,ge).call(this,le.propertiesToUpdate),_classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:!0})}isSelected(le){return _classPrivateFieldGet(this,ve).has(le)}unselect(le){le.unselect(),_classPrivateFieldGet(this,ve).delete(le),_classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==_classPrivateFieldGet(this,ve).size}undo(){_classPrivateFieldGet(this,y).undo(),_classPrivateMethodGet(this,U,ce).call(this,{hasSomethingToUndo:_classPrivateFieldGet(this,y).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_classPrivateMethodGet(this,D,We).call(this)})}redo(){_classPrivateFieldGet(this,y).redo(),_classPrivateMethodGet(this,U,ce).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_classPrivateFieldGet(this,y).hasSomethingToRedo(),isEmpty:_classPrivateMethodGet(this,D,We).call(this)})}addCommands(le){_classPrivateFieldGet(this,y).add(le),_classPrivateMethodGet(this,U,ce).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_classPrivateMethodGet(this,D,We).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const le=[..._classPrivateFieldGet(this,ve)];this.addCommands({cmd:()=>{for(const ot of le)ot.remove()},undo:()=>{for(const ot of le)_classPrivateMethodGet(this,S,Fe).call(this,ot)},mustExec:!0})}commitOrRemove(){_classPrivateFieldGet(this,H)?.commitOrRemove()}selectAll(){for(const le of _classPrivateFieldGet(this,ve))le.commit();_classPrivateMethodGet(this,V,st).call(this,_classPrivateFieldGet(this,$).values())}unselectAll(){if(_classPrivateFieldGet(this,H))_classPrivateFieldGet(this,H).commitOrRemove();else if(0!==_classPrivateFieldGet(this,ve).size){for(const le of _classPrivateFieldGet(this,ve))le.unselect();_classPrivateFieldGet(this,ve).clear(),_classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:!1})}}isActive(le){return _classPrivateFieldGet(this,H)===le}getActive(){return _classPrivateFieldGet(this,H)}getMode(){return _classPrivateFieldGet(this,we)}}function ne(){_classPrivateFieldGet(this,v).addEventListener("keydown",_classPrivateFieldGet(this,Se))}function de(){_classPrivateFieldGet(this,v).removeEventListener("keydown",_classPrivateFieldGet(this,Se))}function pe(){document.addEventListener("copy",_classPrivateFieldGet(this,Ae)),document.addEventListener("cut",_classPrivateFieldGet(this,Pe)),document.addEventListener("paste",_classPrivateFieldGet(this,Le))}function se(){document.removeEventListener("copy",_classPrivateFieldGet(this,Ae)),document.removeEventListener("cut",_classPrivateFieldGet(this,Pe)),document.removeEventListener("paste",_classPrivateFieldGet(this,Le))}function ce(Ue){Object.entries(Ue).some(([Te,ct])=>_classPrivateFieldGet(this,ee)[Te]!==ct)&&_classPrivateFieldGet(this,J).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_classPrivateFieldGet(this,ee),Ue)})}function ge(Ue){_classPrivateFieldGet(this,J).dispatch("annotationeditorparamschanged",{source:this,details:Ue})}function ye(){if(!_classPrivateFieldGet(this,ue)){_classPrivateFieldSet(this,ue,!0);for(const Ue of _classPrivateFieldGet(this,E).values())Ue.enable()}}function Re(){if(this.unselectAll(),_classPrivateFieldGet(this,ue)){_classPrivateFieldSet(this,ue,!1);for(const Ue of _classPrivateFieldGet(this,E).values())Ue.disable()}}function Fe(Ue){const le=_classPrivateFieldGet(this,E).get(Ue.pageIndex);le?le.addOrRebuild(Ue):this.addEditor(Ue)}function We(){if(0===_classPrivateFieldGet(this,$).size)return!0;if(1===_classPrivateFieldGet(this,$).size)for(const Ue of _classPrivateFieldGet(this,$).values())return Ue.isEmpty();return!1}function st(Ue){_classPrivateFieldGet(this,ve).clear();for(const le of Ue)le.isEmpty()||(_classPrivateFieldGet(this,ve).add(le),le.select());_classPrivateMethodGet(this,U,ce).call(this,{hasSelectedEditor:!0})}_defineProperty(Z,"_keyboardManager",new k([[["ctrl+a","mac+meta+a"],Z.prototype.selectAll],[["ctrl+z","mac+meta+z"],Z.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],Z.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],Z.prototype.delete],[["Escape","mac+Escape"],Z.prototype.unselectAll]])),u.AnnotationEditorUIManager=Z},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StatTimer=u.RenderingCancelledException=u.PixelsPerInch=u.PageViewport=u.PDFDateString=u.DOMStandardFontDataFactory=u.DOMSVGFactory=u.DOMFilterFactory=u.DOMCanvasFactory=u.DOMCMapReaderFactory=u.AnnotationPrefix=void 0,u.deprecated=function Xe(p){console.log("Deprecated API usage: "+p)},u.getColorValues=function X(p){const m=document.createElement("span");m.style.visibility="hidden",document.body.append(m);for(const S of p.keys()){m.style.color=S;const D=window.getComputedStyle(m).color;p.set(S,M(D))}m.remove()},u.getCurrentTransform=function z(p){const{a:m,b:S,c:D,d:V,e:Z,f:ne}=p.getTransform();return[m,S,D,V,Z,ne]},u.getCurrentTransformInverse=function U(p){const{a:m,b:S,c:D,d:V,e:Z,f:ne}=p.getTransform().invertSelf();return[m,S,D,V,Z,ne]},u.getFilenameFromUrl=function Le(p,m=!1){return m||([p]=p.split(/[#?]/,1)),p.substring(p.lastIndexOf("/")+1)},u.getPdfFilenameFromUrl=function Se(p,m="document.pdf"){if("string"!=typeof p)return m;if(Ae(p))return(0,C.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),m;const D=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,V=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(p);let Z=D.exec(V[1])||D.exec(V[2])||D.exec(V[3]);if(Z&&(Z=Z[0],Z.includes("%")))try{Z=D.exec(decodeURIComponent(Z))[0]}catch{}return Z||m},u.getRGB=M,u.getXfaPageViewport=function b(p,{scale:m=1,rotation:S=0}){const{width:D,height:V}=p.attributes.style,Z=[0,0,parseInt(D),parseInt(V)];return new we({viewBox:Z,scale:m,rotation:S})},u.isDataScheme=Ae,u.isPdfFile=function Pe(p){return"string"==typeof p&&/\.pdf$/i.test(p)},u.isValidFetchUrl=Ne,u.loadScript=function qe(p,m=!1){return new Promise((S,D)=>{const V=document.createElement("script");V.src=p,V.onload=function(Z){m&&V.remove(),S(Z)},V.onerror=function(){D(new Error(`Cannot load script at: ${V.src}`))},(document.head||document.documentElement).append(V)})},u.setLayerDimensions=function d(p,m,S=!1,D=!0){if(m instanceof we){const{pageWidth:V,pageHeight:Z}=m.rawDims,{style:ne}=p,de=`calc(var(--scale-factor) * ${V}px)`,pe=`calc(var(--scale-factor) * ${Z}px)`;S&&m.rotation%180!=0?(ne.width=pe,ne.height=de):(ne.width=de,ne.height=pe)}D&&p.setAttribute("data-main-rotation",m.rotation)};var h=F(7),C=F(1);const O="http://www.w3.org/2000/svg";u.AnnotationPrefix="pdfjs_internal_id_";class Q{}_defineProperty(Q,"CSS",96),_defineProperty(Q,"PDF",72),_defineProperty(Q,"PDF_TO_CSS_UNITS",Q.CSS/Q.PDF),u.PixelsPerInch=Q;var te=new WeakMap,T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,k=new WeakMap,w=new WeakMap,A=new WeakMap,H=new WeakSet;function E(){return _classPrivateFieldGet(this,te)||_classPrivateFieldSet(this,te,new Map)}function g(){if(!_classPrivateFieldGet(this,T)){const p=_classPrivateFieldGet(this,W).createElement("div"),{style:m}=p;m.visibility="hidden",m.contain="strict",m.width=m.height=0,m.position="absolute",m.top=m.left=0,m.zIndex=-1;const S=_classPrivateFieldGet(this,W).createElementNS(O,"svg");S.setAttribute("width",0),S.setAttribute("height",0),_classPrivateFieldSet(this,T,_classPrivateFieldGet(this,W).createElementNS(O,"defs")),p.append(S),S.append(_classPrivateFieldGet(this,T)),_classPrivateFieldGet(this,W).body.append(p)}return _classPrivateFieldGet(this,T)}function y(p,m,S){const D=_classPrivateFieldGet(this,W).createElementNS(O,m);D.setAttribute("type","discrete"),D.setAttribute("tableValues",S),p.append(D)}function q(p){return L.apply(this,arguments)}function L(){return(L=_asyncToGenerator(function*(p,m=!1){if(Ne(p,document.baseURI)){const S=yield fetch(p);if(!S.ok)throw new Error(S.statusText);return m?new Uint8Array(yield S.arrayBuffer()):(0,C.stringToBytes)(yield S.text())}return new Promise((S,D)=>{const V=new XMLHttpRequest;V.open("GET",p,!0),m&&(V.responseType="arraybuffer"),V.onreadystatechange=()=>{if(V.readyState===XMLHttpRequest.DONE){if(200===V.status||0===V.status){let Z;if(m&&V.response?Z=new Uint8Array(V.response):!m&&V.responseText&&(Z=(0,C.stringToBytes)(V.responseText)),Z)return void S(Z)}D(new Error(V.statusText))}},V.send(null)})})).apply(this,arguments)}u.DOMFilterFactory=class $ extends h.BaseFilterFactory{constructor({docId:m,ownerDocument:S=globalThis.document}={}){super(),_classPrivateMethodInitSpec(this,H),_classPrivateFieldInitSpec(this,A,{get:g,set:void 0}),_classPrivateFieldInitSpec(this,w,{get:E,set:void 0}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:0}),_classPrivateFieldSet(this,x,m),_classPrivateFieldSet(this,W,S)}addFilter(m){var S,D;if(!m)return"none";let Z,ne,de,pe,V=_classPrivateFieldGet(this,w).get(m);if(V)return V;if(1===m.length){const Re=m[0],Fe=new Array(256);for(let We=0;We<256;We++)Fe[We]=Re[We]/255;pe=Z=ne=de=Fe.join(",")}else{const[Re,Fe,We]=m,st=new Array(256),Ue=new Array(256),le=new Array(256);for(let Te=0;Te<256;Te++)st[Te]=Re[Te]/255,Ue[Te]=Fe[Te]/255,le[Te]=We[Te]/255;Z=st.join(","),ne=Ue.join(","),de=le.join(","),pe=`${Z}${ne}${de}`}if(V=_classPrivateFieldGet(this,w).get(pe),V)return _classPrivateFieldGet(this,w).set(m,V),V;const se=`g_${_classPrivateFieldGet(this,x)}_transfer_map_${_classPrivateFieldSet(this,k,(S=_classPrivateFieldGet(this,k),D=S++,S)),D}`,ce=`url(#${se})`;_classPrivateFieldGet(this,w).set(m,ce),_classPrivateFieldGet(this,w).set(pe,ce);const ge=_classPrivateFieldGet(this,W).createElementNS(O,"filter",O);ge.setAttribute("id",se),ge.setAttribute("color-interpolation-filters","sRGB");const ye=_classPrivateFieldGet(this,W).createElementNS(O,"feComponentTransfer");return ge.append(ye),_classPrivateMethodGet(this,H,y).call(this,ye,"feFuncR",Z),_classPrivateMethodGet(this,H,y).call(this,ye,"feFuncG",ne),_classPrivateMethodGet(this,H,y).call(this,ye,"feFuncB",de),_classPrivateFieldGet(this,A).append(ge),ce}addHCMFilter(m,S){const D=`${m}-${S}`;if(_classPrivateFieldGet(this,P)===D)return _classPrivateFieldGet(this,R);if(_classPrivateFieldSet(this,P,D),_classPrivateFieldSet(this,R,"none"),_classPrivateFieldGet(this,Y)?.remove(),!m||!S)return _classPrivateFieldGet(this,R);_classPrivateFieldGet(this,A).style.color=m;const V=M(m=getComputedStyle(_classPrivateFieldGet(this,A)).getPropertyValue("color"));m=C.Util.makeHexColor(...V),_classPrivateFieldGet(this,A).style.color=S;const Z=M(S=getComputedStyle(_classPrivateFieldGet(this,A)).getPropertyValue("color"));if(S=C.Util.makeHexColor(...Z),_classPrivateFieldGet(this,A).style.color="","#000000"===m&&"#ffffff"===S||m===S)return _classPrivateFieldGet(this,R);const ne=new Array(256);for(let Re=0;Re<=255;Re++){const Fe=Re/255;ne[Re]=Fe<=.03928?Fe/12.92:((Fe+.055)/1.055)**2.4}const de=ne.join(","),pe=`g_${_classPrivateFieldGet(this,x)}_hcm_filter`,se=_classPrivateFieldSet(this,Y,_classPrivateFieldGet(this,W).createElementNS(O,"filter",O));se.setAttribute("id",pe),se.setAttribute("color-interpolation-filters","sRGB");let ce=_classPrivateFieldGet(this,W).createElementNS(O,"feComponentTransfer");se.append(ce),_classPrivateMethodGet(this,H,y).call(this,ce,"feFuncR",de),_classPrivateMethodGet(this,H,y).call(this,ce,"feFuncG",de),_classPrivateMethodGet(this,H,y).call(this,ce,"feFuncB",de);const ge=_classPrivateFieldGet(this,W).createElementNS(O,"feColorMatrix");ge.setAttribute("type","matrix"),ge.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),se.append(ge),ce=_classPrivateFieldGet(this,W).createElementNS(O,"feComponentTransfer"),se.append(ce);const ye=(Re,Fe)=>{const We=V[Re]/255,st=Z[Re]/255,Ue=new Array(Fe+1);for(let le=0;le<=Fe;le++)Ue[le]=We+le/Fe*(st-We);return Ue.join(",")};return _classPrivateMethodGet(this,H,y).call(this,ce,"feFuncR",ye(0,5)),_classPrivateMethodGet(this,H,y).call(this,ce,"feFuncG",ye(1,5)),_classPrivateMethodGet(this,H,y).call(this,ce,"feFuncB",ye(2,5)),_classPrivateFieldGet(this,A).append(se),_classPrivateFieldSet(this,R,`url(#${pe})`),_classPrivateFieldGet(this,R)}destroy(m=!1){m&&_classPrivateFieldGet(this,R)||(_classPrivateFieldGet(this,T)&&(_classPrivateFieldGet(this,T).parentNode.parentNode.remove(),_classPrivateFieldSet(this,T,null)),_classPrivateFieldGet(this,te)&&(_classPrivateFieldGet(this,te).clear(),_classPrivateFieldSet(this,te,null)),_classPrivateFieldSet(this,k,0))}},u.DOMCanvasFactory=class G extends h.BaseCanvasFactory{constructor({ownerDocument:m=globalThis.document}={}){super(),this._document=m}_createCanvas(m,S){const D=this._document.createElement("canvas");return D.width=m,D.height=S,D}},u.DOMCMapReaderFactory=class J extends h.BaseCMapReaderFactory{_fetchData(m,S){return q(m,this.isCompressed).then(D=>({cMapData:D,compressionType:S}))}},u.DOMStandardFontDataFactory=class B extends h.BaseStandardFontDataFactory{_fetchData(m){return q(m,!0)}},u.DOMSVGFactory=class ue extends h.BaseSVGFactory{_createSVG(m){return document.createElementNS(O,m)}};class we{constructor({viewBox:m,scale:S,rotation:D,offsetX:V=0,offsetY:Z=0,dontFlip:ne=!1}){this.viewBox=m,this.scale=S,this.rotation=D,this.offsetX=V,this.offsetY=Z;const de=(m[2]+m[0])/2,pe=(m[3]+m[1])/2;let se,ce,ge,ye,Re,Fe,We,st;switch((D%=360)<0&&(D+=360),D){case 180:se=-1,ce=0,ge=0,ye=1;break;case 90:se=0,ce=1,ge=1,ye=0;break;case 270:se=0,ce=-1,ge=-1,ye=0;break;case 0:se=1,ce=0,ge=0,ye=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ne&&(ge=-ge,ye=-ye),0===se?(Re=Math.abs(pe-m[1])*S+V,Fe=Math.abs(de-m[0])*S+Z,We=(m[3]-m[1])*S,st=(m[2]-m[0])*S):(Re=Math.abs(de-m[0])*S+V,Fe=Math.abs(pe-m[1])*S+Z,We=(m[2]-m[0])*S,st=(m[3]-m[1])*S),this.transform=[se*S,ce*S,ge*S,ye*S,Re-se*S*de-ge*S*pe,Fe-ce*S*de-ye*S*pe],this.width=We,this.height=st}get rawDims(){const{viewBox:m}=this;return(0,C.shadow)(this,"rawDims",{pageWidth:m[2]-m[0],pageHeight:m[3]-m[1],pageX:m[0],pageY:m[1]})}clone({scale:m=this.scale,rotation:S=this.rotation,offsetX:D=this.offsetX,offsetY:V=this.offsetY,dontFlip:Z=!1}={}){return new we({viewBox:this.viewBox.slice(),scale:m,rotation:S,offsetX:D,offsetY:V,dontFlip:Z})}convertToViewportPoint(m,S){return C.Util.applyTransform([m,S],this.transform)}convertToViewportRectangle(m){const S=C.Util.applyTransform([m[0],m[1]],this.transform),D=C.Util.applyTransform([m[2],m[3]],this.transform);return[S[0],S[1],D[0],D[1]]}convertToPdfPoint(m,S){return C.Util.applyInverseTransform([m,S],this.transform)}}function Ae(p){const m=p.length;let S=0;for(;S<m&&""===p[S].trim();)S++;return"data:"===p.substring(S,S+5).toLowerCase()}function Ne(p,m){try{const{protocol:S}=m?new URL(p,m):new URL(p);return"http:"===S||"https:"===S}catch{return!1}}let ee;function M(p){if(p.startsWith("#")){const m=parseInt(p.slice(1),16);return[(16711680&m)>>16,(65280&m)>>8,255&m]}return p.startsWith("rgb(")?p.slice(4,-1).split(",").map(m=>parseInt(m)):p.startsWith("rgba(")?p.slice(5,-1).split(",").map(m=>parseInt(m)).slice(0,3):((0,C.warn)(`Not a valid color format: "${p}"`),[0,0,0])}u.PageViewport=we,u.RenderingCancelledException=class ve extends C.BaseException{constructor(m,S,D=0){super(m,"RenderingCancelledException"),this.type=S,this.extraDelay=D}},u.StatTimer=class Ee{constructor(){_defineProperty(this,"started",Object.create(null)),_defineProperty(this,"times",[])}time(m){m in this.started&&(0,C.warn)(`Timer is already running for ${m}`),this.started[m]=Date.now()}timeEnd(m){m in this.started||(0,C.warn)(`Timer has not been started for ${m}`),this.times.push({name:m,start:this.started[m],end:Date.now()}),delete this.started[m]}toString(){const m=[];let S=0;for(const{name:D}of this.times)S=Math.max(D.length,S);for(const{name:D,start:V,end:Z}of this.times)m.push(`${D.padEnd(S)} ${Z-V}ms\n`);return m.join("")}},u.PDFDateString=class v{static toDateObject(m){if(!m||"string"!=typeof m)return null;ee||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const S=ee.exec(m);if(!S)return null;const D=parseInt(S[1],10);let V=parseInt(S[2],10);V=V>=1&&V<=12?V-1:0;let Z=parseInt(S[3],10);Z=Z>=1&&Z<=31?Z:1;let ne=parseInt(S[4],10);ne=ne>=0&&ne<=23?ne:0;let de=parseInt(S[5],10);de=de>=0&&de<=59?de:0;let pe=parseInt(S[6],10);pe=pe>=0&&pe<=59?pe:0;const se=S[7]||"Z";let ce=parseInt(S[8],10);ce=ce>=0&&ce<=23?ce:0;let ge=parseInt(S[9],10)||0;return ge=ge>=0&&ge<=59?ge:0,"-"===se?(ne+=ce,de+=ge):"+"===se&&(ne-=ce,de-=ge),new Date(Date.UTC(D,V,Z,ne,de,pe))}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseStandardFontDataFactory=u.BaseSVGFactory=u.BaseFilterFactory=u.BaseCanvasFactory=u.BaseCMapReaderFactory=void 0;var h=F(1);class C{constructor(){this.constructor===C&&(0,h.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(x){return"none"}addHCMFilter(x,W){return"none"}destroy(x=!1){}}u.BaseFilterFactory=C;class O{constructor(){this.constructor===O&&(0,h.unreachable)("Cannot initialize BaseCanvasFactory.")}create(x,W){if(x<=0||W<=0)throw new Error("Invalid canvas size");const Y=this._createCanvas(x,W);return{canvas:Y,context:Y.getContext("2d")}}reset(x,W,Y){if(!x.canvas)throw new Error("Canvas is not specified");if(W<=0||Y<=0)throw new Error("Invalid canvas size");x.canvas.width=W,x.canvas.height=Y}destroy(x){if(!x.canvas)throw new Error("Canvas is not specified");x.canvas.width=0,x.canvas.height=0,x.canvas=null,x.context=null}_createCanvas(x,W){(0,h.unreachable)("Abstract method `_createCanvas` called.")}}u.BaseCanvasFactory=O;class N{constructor({baseUrl:x=null,isCompressed:W=!0}){this.constructor===N&&(0,h.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=x,this.isCompressed=W}fetch({name:x}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!x)throw new Error("CMap name must be specified.");const Y=W.baseUrl+x+(W.isCompressed?".bcmap":"");return W._fetchData(Y,W.isCompressed?h.CMapCompressionType.BINARY:h.CMapCompressionType.NONE).catch(R=>{throw new Error(`Unable to load ${W.isCompressed?"binary ":""}CMap at: ${Y}`)})})()}_fetchData(x,W){(0,h.unreachable)("Abstract method `_fetchData` called.")}}u.BaseCMapReaderFactory=N;class Q{constructor({baseUrl:x=null}){this.constructor===Q&&(0,h.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=x}fetch({filename:x}){var W=this;return _asyncToGenerator(function*(){if(!W.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!x)throw new Error("Font filename must be specified.");const Y=`${W.baseUrl}${x}`;return W._fetchData(Y).catch(P=>{throw new Error(`Unable to load font data at: ${Y}`)})})()}_fetchData(x){(0,h.unreachable)("Abstract method `_fetchData` called.")}}u.BaseStandardFontDataFactory=Q;class te{constructor(){this.constructor===te&&(0,h.unreachable)("Cannot initialize BaseSVGFactory.")}create(x,W,Y=!1){if(x<=0||W<=0)throw new Error("Invalid SVG dimensions");const P=this._createSVG("svg:svg");return P.setAttribute("version","1.1"),Y||(P.setAttribute("width",`${x}px`),P.setAttribute("height",`${W}px`)),P.setAttribute("preserveAspectRatio","none"),P.setAttribute("viewBox",`0 0 ${x} ${W}`),P}createElement(x){if("string"!=typeof x)throw new Error("Invalid SVG element type");return this._createSVG(x)}_createSVG(x){(0,h.unreachable)("Abstract method `_createSVG` called.")}}u.BaseSVGFactory=te},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MurmurHash3_64=void 0;var h=F(1);const C=3285377520,O=4294901760,N=65535;u.MurmurHash3_64=class Q{constructor(T){this.h1=T?4294967295&T:C,this.h2=T?4294967295&T:C}update(T){let x,W;if("string"==typeof T){x=new Uint8Array(2*T.length),W=0;for(let G=0,q=T.length;G<q;G++){const L=T.charCodeAt(G);L<=255?x[W++]=L:(x[W++]=L>>>8,x[W++]=255&L)}}else{if(!(0,h.isArrayBuffer)(T))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");x=T.slice(),W=x.byteLength}const Y=W>>2,P=W-4*Y,R=new Uint32Array(x.buffer,0,Y);let k=0,w=0,A=this.h1,H=this.h2;const $=3432918353,E=461845907,g=$&N,y=E&N;for(let G=0;G<Y;G++)1&G?(k=R[G],k=k*$&O|k*g&N,k=k<<15|k>>>17,k=k*E&O|k*y&N,A^=k,A=A<<13|A>>>19,A=5*A+3864292196):(w=R[G],w=w*$&O|w*g&N,w=w<<15|w>>>17,w=w*E&O|w*y&N,H^=w,H=H<<13|H>>>19,H=5*H+3864292196);switch(k=0,P){case 3:k^=x[4*Y+2]<<16;case 2:k^=x[4*Y+1]<<8;case 1:k^=x[4*Y],k=k*$&O|k*g&N,k=k<<15|k>>>17,k=k*E&O|k*y&N,1&Y?A^=k:H^=k}this.h1=A,this.h2=H}hexdigest(){let T=this.h1,x=this.h2;return T^=x>>>1,T=3981806797*T&O|36045*T&N,x=4283543511*x&O|(2950163797*(x<<16|T>>>16)&O)>>>16,T^=x>>>1,T=444984403*T&O|60499*T&N,x=3301882366*x&O|(3120437893*(x<<16|T>>>16)&O)>>>16,T^=x>>>1,(T>>>0).toString(16).padStart(8,"0")+(x>>>0).toString(16).padStart(8,"0")}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FontLoader=u.FontFaceObject=void 0;var h=F(1),C=F(10),O=new WeakMap;u.FontLoader=class N{constructor({ownerDocument:T=globalThis.document,styleElement:x=null}){_classPrivateFieldInitSpec(this,O,{writable:!0,value:new Set}),this._document=T,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(T){this.nativeFontFaces.add(T),this._document.fonts.add(T)}removeNativeFontFace(T){this.nativeFontFaces.delete(T),this._document.fonts.delete(T)}insertRule(T){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const x=this.styleElement.sheet;x.insertRule(T,x.cssRules.length)}clear(){for(const T of this.nativeFontFaces)this._document.fonts.delete(T);this.nativeFontFaces.clear(),_classPrivateFieldGet(this,O).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(T){var x=this;return _asyncToGenerator(function*(){if(T&&!_classPrivateFieldGet(x,O).has(T.loadedName)){if((0,h.assert)(!x.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),x.isFontLoadingAPISupported){const{loadedName:W,src:Y,style:P}=T,R=new FontFace(W,Y,P);x.addNativeFontFace(R);try{yield R.load(),_classPrivateFieldGet(x,O).add(W)}catch{(0,h.warn)(`Cannot load system font: ${T.baseFontName}, installing it could help to improve PDF rendering.`),x.removeNativeFontFace(R)}return}(0,h.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(T){var x=this;return _asyncToGenerator(function*(){if(T.attached||T.missingFile&&!T.systemFontInfo)return;if(T.attached=!0,T.systemFontInfo)return void(yield x.loadSystemFont(T.systemFontInfo));if(x.isFontLoadingAPISupported){const Y=T.createNativeFontFace();if(Y){x.addNativeFontFace(Y);try{yield Y.loaded}catch(P){throw(0,h.warn)(`Failed to load font '${Y.family}': '${P}'.`),T.disableFontFace=!0,P}}return}const W=T.createFontFaceRule();if(W){if(x.insertRule(W),x.isSyncFontLoadingSupported)return;yield new Promise(Y=>{const P=x._queueLoadingCallback(Y);x._prepareFontLoadEvent(T,P)})}})()}get isFontLoadingAPISupported(){return(0,h.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let T=!1;return(C.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(T=!0),(0,h.shadow)(this,"isSyncFontLoadingSupported",T)}_queueLoadingCallback(T){const{loadingRequests:W}=this,Y={done:!1,complete:function x(){for((0,h.assert)(!Y.done,"completeRequest() cannot be called twice."),Y.done=!0;W.length>0&&W[0].done;){const P=W.shift();setTimeout(P.callback,0)}},callback:T};return W.push(Y),Y}get _loadTestFont(){const T=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,h.shadow)(this,"_loadTestFont",T)}_prepareFontLoadEvent(T,x){function W(ue,we){return ue.charCodeAt(we)<<24|ue.charCodeAt(we+1)<<16|ue.charCodeAt(we+2)<<8|255&ue.charCodeAt(we+3)}function Y(ue,we,ve,Ae){return ue.substring(0,we)+Ae+ue.substring(we+ve)}let P,R;const k=this._document.createElement("canvas");k.width=1,k.height=1;const w=k.getContext("2d");let A=0;const $=`lt${Date.now()}${this.loadTestFontId++}`;let E=this._loadTestFont;E=Y(E,976,$.length,$);const G=1482184792;let q=W(E,16);for(P=0,R=$.length-3;P<R;P+=4)q=q-G+W($,P)|0;P<$.length&&(q=q-G+W($+"XXX",P)|0),E=Y(E,16,4,(0,h.string32)(q));const L=`url(data:font/opentype;base64,${btoa(E)});`;this.insertRule(`@font-face {font-family:"${$}";src:${L}}`);const B=this._document.createElement("div");B.style.visibility="hidden",B.style.width=B.style.height="10px",B.style.position="absolute",B.style.top=B.style.left="0px";for(const ue of[T.loadedName,$]){const we=this._document.createElement("span");we.textContent="Hi",we.style.fontFamily=ue,B.append(we)}this._document.body.append(B),function H(ue,we){if(++A>30)return(0,h.warn)("Load test font never loaded."),void we();w.font="30px "+ue,w.fillText(".",0,20),w.getImageData(0,0,1,1).data[3]>0?we():setTimeout(H.bind(null,ue,we))}($,()=>{B.remove(),x.complete()})}},u.FontFaceObject=class Q{constructor(T,{isEvalSupported:x=!0,disableFontFace:W=!1,ignoreErrors:Y=!1,inspectFont:P=null}){this.compiledGlyphs=Object.create(null);for(const R in T)this[R]=T[R];this.isEvalSupported=!1!==x,this.disableFontFace=!0===W,this.ignoreErrors=!0===Y,this._inspectFont=P}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let T;if(this.cssFontInfo){const x={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(x.style=`oblique ${this.cssFontInfo.italicAngle}deg`),T=new FontFace(this.cssFontInfo.fontFamily,this.data,x)}else T=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),T}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const T=(0,h.bytesToString)(this.data),x=`url(data:${this.mimetype};base64,${btoa(T)});`;let W;if(this.cssFontInfo){let Y=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Y+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),W=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Y}src:${x}}`}else W=`@font-face {font-family:"${this.loadedName}";src:${x}}`;return this._inspectFont?.(this,x),W}getPathGenerator(T,x){if(void 0!==this.compiledGlyphs[x])return this.compiledGlyphs[x];let W;try{W=T.get(this.loadedName+"_path_"+x)}catch(Y){if(!this.ignoreErrors)throw Y;return(0,h.warn)(`getPathGenerator - ignoring character: "${Y}".`),this.compiledGlyphs[x]=function(P,R){}}if(this.isEvalSupported&&h.FeatureTest.isEvalSupported){const Y=[];for(const P of W){const R=void 0!==P.args?P.args.join(","):"";Y.push("c.",P.cmd,"(",R,");\n")}return this.compiledGlyphs[x]=new Function("c","size",Y.join(""))}return this.compiledGlyphs[x]=function(Y,P){for(const R of W)"scale"===R.cmd&&(R.args=[P,-P]),Y[R.cmd].apply(Y,R.args)}}}},(I,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isNodeJS=void 0;const F=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);u.isNodeJS=F},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CanvasGraphics=void 0;var h=F(1),C=F(6),O=F(12),N=F(13),Q=F(10);const x=4096,R=16;class w{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,b,M){let X;return void 0!==this.cache[v]?(X=this.cache[v],this.canvasFactory.reset(X,b,M)):(X=this.canvasFactory.create(b,M),this.cache[v]=X),X}delete(v){delete this.cache[v]}clear(){for(const v in this.cache)this.canvasFactory.destroy(this.cache[v]),delete this.cache[v]}}function A(ee,v,b,M,X,z,U,d,p,m){const[S,D,V,Z,ne,de]=(0,C.getCurrentTransform)(ee);if(0===D&&0===V){const ge=Math.round(U*S+ne),Re=Math.round(d*Z+de),We=Math.abs(Math.round((U+p)*S+ne)-ge)||1,Ue=Math.abs(Math.round((d+m)*Z+de)-Re)||1;return ee.setTransform(Math.sign(S),0,0,Math.sign(Z),ge,Re),ee.drawImage(v,b,M,X,z,0,0,We,Ue),ee.setTransform(S,D,V,Z,ne,de),[We,Ue]}if(0===S&&0===Z){const ge=Math.round(d*V+ne),Re=Math.round(U*D+de),We=Math.abs(Math.round((d+m)*V+ne)-ge)||1,Ue=Math.abs(Math.round((U+p)*D+de)-Re)||1;return ee.setTransform(0,Math.sign(D),Math.sign(V),0,ge,Re),ee.drawImage(v,b,M,X,z,0,0,Ue,We),ee.setTransform(S,D,V,Z,ne,de),[Ue,We]}return ee.drawImage(v,b,M,X,z,U,d,p,m),[Math.hypot(S,D)*p,Math.hypot(V,Z)*m]}class ${constructor(v,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=h.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=h.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=h.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,v,b])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,b){this.x=v,this.y=b}updatePathMinMax(v,b,M){[b,M]=h.Util.applyTransform([b,M],v),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(v,b){const M=h.Util.applyTransform(b,v),X=h.Util.applyTransform(b.slice(2),v);this.minX=Math.min(this.minX,M[0],X[0]),this.minY=Math.min(this.minY,M[1],X[1]),this.maxX=Math.max(this.maxX,M[0],X[0]),this.maxY=Math.max(this.maxY,M[1],X[1])}updateScalingPathMinMax(v,b){h.Util.scaleMinMax(v,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(v,b,M,X,z,U,d,p,m,S){const D=h.Util.bezierBoundingBox(b,M,X,z,U,d,p,m);if(S)return S[0]=Math.min(S[0],D[0],D[2]),S[1]=Math.max(S[1],D[0],D[2]),S[2]=Math.min(S[2],D[1],D[3]),void(S[3]=Math.max(S[3],D[1],D[3]));this.updateRectMinMax(v,D)}getPathBoundingBox(v=O.PathType.FILL,b=null){const M=[this.minX,this.minY,this.maxX,this.maxY];if(v===O.PathType.STROKE){b||(0,h.unreachable)("Stroke bounding box must include transform.");const X=h.Util.singularValueDecompose2dScale(b),z=X[0]*this.lineWidth/2,U=X[1]*this.lineWidth/2;M[0]-=z,M[1]-=U,M[2]+=z,M[3]+=U}return M}updateClipFromPath(){const v=h.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=O.PathType.FILL,b=null){return h.Util.intersect(this.clipBox,this.getPathBoundingBox(v,b))}}function E(ee,v){if(typeof ImageData<"u"&&v instanceof ImageData)return void ee.putImageData(v,0,0);const b=v.height,M=v.width,X=b%R,z=(b-X)/R,U=0===X?z:z+1,d=ee.createImageData(M,R);let m,p=0;const S=v.data,D=d.data;let V,Z,ne,de;if(v.kind===h.ImageKind.GRAYSCALE_1BPP){const pe=S.byteLength,se=new Uint32Array(D.buffer,0,D.byteLength>>2),ce=se.length,ge=M+7>>3,ye=4294967295,Re=h.FeatureTest.isLittleEndian?4278190080:255;for(V=0;V<U;V++){for(ne=V<z?R:X,m=0,Z=0;Z<ne;Z++){const Fe=pe-p;let We=0;const st=Fe>ge?M:8*Fe-7,Ue=-8&st;let le=0,Te=0;for(;We<Ue;We+=8)Te=S[p++],se[m++]=128&Te?ye:Re,se[m++]=64&Te?ye:Re,se[m++]=32&Te?ye:Re,se[m++]=16&Te?ye:Re,se[m++]=8&Te?ye:Re,se[m++]=4&Te?ye:Re,se[m++]=2&Te?ye:Re,se[m++]=1&Te?ye:Re;for(;We<st;We++)0===le&&(Te=S[p++],le=128),se[m++]=Te&le?ye:Re,le>>=1}for(;m<ce;)se[m++]=0;ee.putImageData(d,0,V*R)}}else if(v.kind===h.ImageKind.RGBA_32BPP){for(Z=0,de=M*R*4,V=0;V<z;V++)D.set(S.subarray(p,p+de)),p+=de,ee.putImageData(d,0,Z),Z+=R;V<U&&(de=M*X*4,D.set(S.subarray(p,p+de)),ee.putImageData(d,0,Z))}else{if(v.kind!==h.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${v.kind}`);for(ne=R,de=M*ne,V=0;V<U;V++){for(V>=z&&(ne=X,de=M*ne),m=0,Z=de;Z--;)D[m++]=S[p++],D[m++]=S[p++],D[m++]=S[p++],D[m++]=255;ee.putImageData(d,0,V*R)}}}function g(ee,v){if(v.bitmap)return void ee.drawImage(v.bitmap,0,0);const b=v.height,M=v.width,X=b%R,z=(b-X)/R,U=0===X?z:z+1,d=ee.createImageData(M,R);let p=0;const m=v.data,S=d.data;for(let D=0;D<U;D++){const V=D<z?R:X;({srcPos:p}=(0,N.convertBlackAndWhiteToRGBA)({src:m,srcPos:p,dest:S,width:M,height:V,nonBlackColor:0})),ee.putImageData(d,0,D*R)}}function y(ee,v){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const M of b)void 0!==ee[M]&&(v[M]=ee[M]);void 0!==ee.setLineDash&&(v.setLineDash(ee.getLineDash()),v.lineDashOffset=ee.lineDashOffset)}function G(ee){ee.strokeStyle=ee.fillStyle="#000000",ee.fillRule="nonzero",ee.globalAlpha=1,ee.lineWidth=1,ee.lineCap="butt",ee.lineJoin="miter",ee.miterLimit=10,ee.globalCompositeOperation="source-over",ee.font="10px sans-serif",void 0!==ee.setLineDash&&(ee.setLineDash([]),ee.lineDashOffset=0),Q.isNodeJS||(ee.filter="none")}function q(ee,v,b,M){const X=ee.length;for(let z=3;z<X;z+=4){const U=ee[z];if(0===U)ee[z-3]=v,ee[z-2]=b,ee[z-1]=M;else if(U<255){const d=255-U;ee[z-3]=ee[z-3]*U+v*d>>8,ee[z-2]=ee[z-2]*U+b*d>>8,ee[z-1]=ee[z-1]*U+M*d>>8}}}function L(ee,v,b){const M=ee.length;for(let z=3;z<M;z+=4)v[z]=v[z]*(b?b[ee[z]]:ee[z])*.00392156862745098|0}function J(ee,v,b){const M=ee.length;for(let X=3;X<M;X+=4){const z=77*ee[X-3]+152*ee[X-2]+28*ee[X-1];v[X]=b?v[X]*b[z>>8]>>8:v[X]*z>>16}}function we(ee,v){const b=h.Util.singularValueDecompose2dScale(ee);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const M=Math.fround((globalThis.devicePixelRatio||1)*C.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==v?v:b[0]<=M||b[1]<=M}const ve=["butt","round","square"],Ae=["miter","round","bevel"],Pe={},Le={};var Se=new WeakSet,Ee=new WeakSet;class Ne{constructor(v,b,M,X,z,{optionalContentConfig:U,markedContentStack:d=null},p,m){_classPrivateMethodInitSpec(this,Ee),_classPrivateMethodInitSpec(this,Se),this.ctx=v,this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=M,this.canvasFactory=X,this.filterFactory=z,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=U,this.cachedCanvases=new w(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=p,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=m,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,b=null){return"string"==typeof v?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):b}beginDrawing({transform:v,viewport:b,transparency:M=!1,background:X=null}){const z=this.ctx.canvas.width,U=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=X||"#ffffff",this.ctx.fillRect(0,0,z,U),this.ctx.fillStyle=d,M){const p=this.cachedCanvases.getCanvas("transparent",z,U);this.compositeCtx=this.ctx,this.transparentCanvas=p.canvas,this.ctx=p.context,this.ctx.save(),this.ctx.transform(...(0,C.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),G(this.ctx),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(...b.transform),this.viewportScale=b.scale,this.baseTransform=(0,C.getCurrentTransform)(this.ctx)}executeOperatorList(v,b,M,X){const z=v.argsArray,U=v.fnArray;let d=b||0;const p=z.length;if(p===d)return d;const m=p-d>10&&"function"==typeof M,S=m?Date.now()+15:0;let D=0;const V=this.commonObjs,Z=this.objs;let ne;for(;;){if(void 0!==X&&d===X.nextBreakPoint)return X.breakIt(d,M),d;if(ne=U[d],ne!==h.OPS.dependency)this[ne].apply(this,z[d]);else for(const de of z[d]){const pe=de.startsWith("g_")?V:Z;if(!pe.has(de))return pe.get(de,M),d}if(d++,d===p)return d;if(m&&++D>10){if(Date.now()>S)return M(),d;D=0}}}endDrawing(){_classPrivateMethodGet(this,Se,qe).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const b of v.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);v.clear()}this._cachedBitmapsMap.clear(),_classPrivateMethodGet(this,Ee,Xe).call(this)}_scaleImage(v,b){const M=v.width,X=v.height;let S,D,z=Math.max(Math.hypot(b[0],b[1]),1),U=Math.max(Math.hypot(b[2],b[3]),1),d=M,p=X,m="prescale1";for(;z>2&&d>1||U>2&&p>1;){let V=d,Z=p;z>2&&d>1&&(V=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),z/=d/V),U>2&&p>1&&(Z=p>=16384?Math.floor(p/2)-1||1:Math.ceil(p)/2,U/=p/Z),S=this.cachedCanvases.getCanvas(m,V,Z),D=S.context,D.clearRect(0,0,V,Z),D.drawImage(v,0,0,d,p,0,0,V,Z),v=S.canvas,d=V,p=Z,m="prescale1"===m?"prescale2":"prescale1"}return{img:v,paintWidth:d,paintHeight:p}}_createMaskCanvas(v){const b=this.ctx,{width:M,height:X}=v,z=this.current.fillColor,U=this.current.patternFill,d=(0,C.getCurrentTransform)(b);let p,m,S,D;if((v.bitmap||v.data)&&v.count>1){const We=v.bitmap||v.data.buffer;m=JSON.stringify(U?d:[d.slice(0,4),z]),p=this._cachedBitmapsMap.get(We),p||(p=new Map,this._cachedBitmapsMap.set(We,p));const st=p.get(m);if(st&&!U)return{canvas:st,offsetX:Math.round(Math.min(d[0],d[2])+d[4]),offsetY:Math.round(Math.min(d[1],d[3])+d[5])};S=st}S||(D=this.cachedCanvases.getCanvas("maskCanvas",M,X),g(D.context,v));let V=h.Util.transform(d,[1/M,0,0,-1/X,0,0]);V=h.Util.transform(V,[1,0,0,1,0,-X]);const Z=h.Util.applyTransform([0,0],V),ne=h.Util.applyTransform([M,X],V),de=h.Util.normalizeRect([Z[0],Z[1],ne[0],ne[1]]),pe=Math.round(de[2]-de[0])||1,se=Math.round(de[3]-de[1])||1,ce=this.cachedCanvases.getCanvas("fillCanvas",pe,se),ge=ce.context,ye=Math.min(Z[0],ne[0]),Re=Math.min(Z[1],ne[1]);ge.translate(-ye,-Re),ge.transform(...V),S||(S=this._scaleImage(D.canvas,(0,C.getCurrentTransformInverse)(ge)),S=S.img,p&&U&&p.set(m,S)),ge.imageSmoothingEnabled=we((0,C.getCurrentTransform)(ge),v.interpolate),A(ge,S,0,0,S.width,S.height,0,0,M,X),ge.globalCompositeOperation="source-in";const Fe=h.Util.transform((0,C.getCurrentTransformInverse)(ge),[1,0,0,1,-ye,-Re]);return ge.fillStyle=U?z.getPattern(b,this,Fe,O.PathType.FILL):z,ge.fillRect(0,0,M,X),p&&!U&&(this.cachedCanvases.delete("fillCanvas"),p.set(m,ce.canvas)),{canvas:ce.canvas,offsetX:Math.round(ye),offsetY:Math.round(Re)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=ve[v]}setLineJoin(v){this.ctx.lineJoin=Ae[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,b){const M=this.ctx;void 0!==M.setLineDash&&(M.setLineDash(v),M.lineDashOffset=b)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[b,M]of v)switch(b){case"LW":this.setLineWidth(M);break;case"LC":this.setLineCap(M);break;case"LJ":this.setLineJoin(M);break;case"ML":this.setMiterLimit(M);break;case"D":this.setDash(M[0],M[1]);break;case"RI":this.setRenderingIntent(M);break;case"FL":this.setFlatness(M);break;case"Font":this.setFont(M[0],M[1]);break;case"CA":this.current.strokeAlpha=M;break;case"ca":this.current.fillAlpha=M,this.ctx.globalAlpha=M;break;case"BM":this.ctx.globalCompositeOperation=M;break;case"SMask":this.current.activeSMask=M?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(M)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const X=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=X.context;const z=this.ctx;z.setTransform(...(0,C.getCurrentTransform)(this.suspendedCtx)),y(this.suspendedCtx,z),function k(ee,v){if(ee._removeMirroring)throw new Error("Context is already forwarding operations.");ee.__originalSave=ee.save,ee.__originalRestore=ee.restore,ee.__originalRotate=ee.rotate,ee.__originalScale=ee.scale,ee.__originalTranslate=ee.translate,ee.__originalTransform=ee.transform,ee.__originalSetTransform=ee.setTransform,ee.__originalResetTransform=ee.resetTransform,ee.__originalClip=ee.clip,ee.__originalMoveTo=ee.moveTo,ee.__originalLineTo=ee.lineTo,ee.__originalBezierCurveTo=ee.bezierCurveTo,ee.__originalRect=ee.rect,ee.__originalClosePath=ee.closePath,ee.__originalBeginPath=ee.beginPath,ee._removeMirroring=()=>{ee.save=ee.__originalSave,ee.restore=ee.__originalRestore,ee.rotate=ee.__originalRotate,ee.scale=ee.__originalScale,ee.translate=ee.__originalTranslate,ee.transform=ee.__originalTransform,ee.setTransform=ee.__originalSetTransform,ee.resetTransform=ee.__originalResetTransform,ee.clip=ee.__originalClip,ee.moveTo=ee.__originalMoveTo,ee.lineTo=ee.__originalLineTo,ee.bezierCurveTo=ee.__originalBezierCurveTo,ee.rect=ee.__originalRect,ee.closePath=ee.__originalClosePath,ee.beginPath=ee.__originalBeginPath,delete ee._removeMirroring},ee.save=function(){v.save(),this.__originalSave()},ee.restore=function(){v.restore(),this.__originalRestore()},ee.translate=function(M,X){v.translate(M,X),this.__originalTranslate(M,X)},ee.scale=function(M,X){v.scale(M,X),this.__originalScale(M,X)},ee.transform=function(M,X,z,U,d,p){v.transform(M,X,z,U,d,p),this.__originalTransform(M,X,z,U,d,p)},ee.setTransform=function(M,X,z,U,d,p){v.setTransform(M,X,z,U,d,p),this.__originalSetTransform(M,X,z,U,d,p)},ee.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},ee.rotate=function(M){v.rotate(M),this.__originalRotate(M)},ee.clip=function(M){v.clip(M),this.__originalClip(M)},ee.moveTo=function(b,M){v.moveTo(b,M),this.__originalMoveTo(b,M)},ee.lineTo=function(b,M){v.lineTo(b,M),this.__originalLineTo(b,M)},ee.bezierCurveTo=function(b,M,X,z,U,d){v.bezierCurveTo(b,M,X,z,U,d),this.__originalBezierCurveTo(b,M,X,z,U,d)},ee.rect=function(b,M,X,z){v.rect(b,M,X,z),this.__originalRect(b,M,X,z)},ee.closePath=function(){v.closePath(),this.__originalClosePath()},ee.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}(z,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){this.current.activeSMask&&(v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function ue(ee,v,b,M){const X=M[0],z=M[1],U=M[2]-X,d=M[3]-z;0===U||0===d||(function B(ee,v,b,M,X,z,U,d,p,m,S){const D=!!z,V=D?z[0]:0,Z=D?z[1]:0,ne=D?z[2]:0;let de;de="Luminosity"===X?J:L;const se=Math.min(M,Math.ceil(1048576/b));for(let ce=0;ce<M;ce+=se){const ge=Math.min(se,M-ce),ye=ee.getImageData(d-m,ce+(p-S),b,ge),Re=v.getImageData(d,ce+p,b,ge);D&&q(ye.data,V,Z,ne),de(ye.data,Re.data,U),v.putImageData(Re,d,ce+p)}}(v.context,b,U,d,v.subtype,v.backdrop,v.transferMap,X,z,v.offsetX,v.offsetY),ee.save(),ee.globalAlpha=1,ee.globalCompositeOperation="source-over",ee.setTransform(1,0,0,1,0,0),ee.drawImage(b.canvas,0,0),ee.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(y(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(v,b,M,X,z,U){this.ctx.transform(v,b,M,X,z,U),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(v,b,M){const X=this.ctx,z=this.current;let p,m,U=z.x,d=z.y;const S=(0,C.getCurrentTransform)(X),D=0===S[0]&&0===S[3]||0===S[1]&&0===S[2],V=D?M.slice(0):null;for(let Z=0,ne=0,de=v.length;Z<de;Z++)switch(0|v[Z]){case h.OPS.rectangle:U=b[ne++],d=b[ne++];const pe=b[ne++],se=b[ne++],ce=U+pe,ge=d+se;X.moveTo(U,d),0===pe||0===se?X.lineTo(ce,ge):(X.lineTo(ce,d),X.lineTo(ce,ge),X.lineTo(U,ge)),D||z.updateRectMinMax(S,[U,d,ce,ge]),X.closePath();break;case h.OPS.moveTo:U=b[ne++],d=b[ne++],X.moveTo(U,d),D||z.updatePathMinMax(S,U,d);break;case h.OPS.lineTo:U=b[ne++],d=b[ne++],X.lineTo(U,d),D||z.updatePathMinMax(S,U,d);break;case h.OPS.curveTo:p=U,m=d,U=b[ne+4],d=b[ne+5],X.bezierCurveTo(b[ne],b[ne+1],b[ne+2],b[ne+3],U,d),z.updateCurvePathMinMax(S,p,m,b[ne],b[ne+1],b[ne+2],b[ne+3],U,d,V),ne+=6;break;case h.OPS.curveTo2:p=U,m=d,X.bezierCurveTo(U,d,b[ne],b[ne+1],b[ne+2],b[ne+3]),z.updateCurvePathMinMax(S,p,m,U,d,b[ne],b[ne+1],b[ne+2],b[ne+3],V),U=b[ne+2],d=b[ne+3],ne+=4;break;case h.OPS.curveTo3:p=U,m=d,U=b[ne+2],d=b[ne+3],X.bezierCurveTo(b[ne],b[ne+1],U,d,U,d),z.updateCurvePathMinMax(S,p,m,b[ne],b[ne+1],U,d,U,d,V),ne+=4;break;case h.OPS.closePath:X.closePath()}D&&z.updateScalingPathMinMax(S,V),z.setCurrentPoint(U,d)}closePath(){this.ctx.closePath()}stroke(v=!0){const b=this.ctx,M=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof M&&M?.getPattern?(b.save(),b.strokeStyle=M.getPattern(b,this,(0,C.getCurrentTransformInverse)(b),O.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v=!0){const b=this.ctx,M=this.current.fillColor;let z=!1;this.current.patternFill&&(b.save(),b.fillStyle=M.getPattern(b,this,(0,C.getCurrentTransformInverse)(b),O.PathType.FILL),z=!0);const U=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==U&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),z&&b.restore(),v&&this.consumePath(U)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Pe}eoClip(){this.pendingClip=Le}beginText(){this.current.textMatrix=h.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,b=this.ctx;if(void 0!==v){b.save(),b.beginPath();for(const M of v)b.setTransform(...M.transform),b.translate(M.x,M.y),M.addToPath(b,M.fontSize);b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}else b.beginPath()}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,b){const M=this.commonObjs.get(v),X=this.current;if(!M)throw new Error(`Can't find font for ${v}`);if(X.fontMatrix=M.fontMatrix||h.FONT_IDENTITY_MATRIX,(0===X.fontMatrix[0]||0===X.fontMatrix[3])&&(0,h.warn)("Invalid font matrix for font "+v),b<0?(b=-b,X.fontDirection=-1):X.fontDirection=1,this.current.font=M,this.current.fontSize=b,M.isType3Font)return;const z=M.loadedName||"sans-serif",U=M.systemFontInfo?.css||`"${z}", ${M.fallbackName}`;let d="normal";M.black?d="900":M.bold&&(d="bold");const p=M.italic?"italic":"normal";let m=b;b<16?m=16:b>100&&(m=100),this.current.fontSizeScale=b/m,this.ctx.font=`${p} ${d} ${m}px ${U}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,b){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=b}setLeadingMoveText(v,b){this.setLeading(-b),this.moveText(v,b)}setTextMatrix(v,b,M,X,z,U){this.current.textMatrix=[v,b,M,X,z,U],this.current.textMatrixScale=Math.hypot(v,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,b,M,X){const z=this.ctx,U=this.current,d=U.font,p=U.textRenderingMode,m=U.fontSize/U.fontSizeScale,S=p&h.TextRenderingMode.FILL_STROKE_MASK,D=!!(p&h.TextRenderingMode.ADD_TO_PATH_FLAG),V=U.patternFill&&!d.missingFile;let Z;(d.disableFontFace||D||V)&&(Z=d.getPathGenerator(this.commonObjs,v)),d.disableFontFace||V?(z.save(),z.translate(b,M),z.beginPath(),Z(z,m),X&&z.setTransform(...X),(S===h.TextRenderingMode.FILL||S===h.TextRenderingMode.FILL_STROKE)&&z.fill(),(S===h.TextRenderingMode.STROKE||S===h.TextRenderingMode.FILL_STROKE)&&z.stroke(),z.restore()):((S===h.TextRenderingMode.FILL||S===h.TextRenderingMode.FILL_STROKE)&&z.fillText(v,b,M),(S===h.TextRenderingMode.STROKE||S===h.TextRenderingMode.FILL_STROKE)&&z.strokeText(v,b,M)),D&&(this.pendingTextPaths||=[]).push({transform:(0,C.getCurrentTransform)(z),x:b,y:M,fontSize:m,addToPath:Z})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const b=v.getImageData(0,0,10,10).data;let M=!1;for(let X=3;X<b.length;X+=4)if(b[X]>0&&b[X]<255){M=!0;break}return(0,h.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(v){const b=this.current,M=b.font;if(M.isType3Font)return this.showType3Text(v);const X=b.fontSize;if(0===X)return;const z=this.ctx,U=b.fontSizeScale,d=b.charSpacing,p=b.wordSpacing,m=b.fontDirection,S=b.textHScale*m,D=v.length,V=M.vertical,Z=V?1:-1,ne=M.defaultVMetrics,de=X*b.fontMatrix[0],pe=b.textRenderingMode===h.TextRenderingMode.FILL&&!M.disableFontFace&&!b.patternFill;let se;if(z.save(),z.transform(...b.textMatrix),z.translate(b.x,b.y+b.textRise),z.scale(S,m>0?-1:1),b.patternFill){z.save();const Fe=b.fillColor.getPattern(z,this,(0,C.getCurrentTransformInverse)(z),O.PathType.FILL);se=(0,C.getCurrentTransform)(z),z.restore(),z.fillStyle=Fe}let ce=b.lineWidth;const ge=b.textMatrixScale;if(0===ge||0===ce){const Fe=b.textRenderingMode&h.TextRenderingMode.FILL_STROKE_MASK;(Fe===h.TextRenderingMode.STROKE||Fe===h.TextRenderingMode.FILL_STROKE)&&(ce=this.getSinglePixelWidth())}else ce/=ge;if(1!==U&&(z.scale(U,U),ce/=U),z.lineWidth=ce,M.isInvalidPDFjsFont){const Fe=[];let We=0;for(const st of v)Fe.push(st.unicode),We+=st.width;return z.fillText(Fe.join(""),0,0),b.x+=We*de*S,z.restore(),void this.compose()}let Re,ye=0;for(Re=0;Re<D;++Re){const Fe=v[Re];if("number"==typeof Fe){ye+=Z*Fe*X/1e3;continue}let We=!1;const st=(Fe.isSpace?p:0)+d,Ue=Fe.fontChar,le=Fe.accent;let Te,ct,Nt,ot=Fe.width;if(V){const xt=Fe.vmetric||ne,_e=-(Fe.vmetric?xt[1]:.5*ot)*de;ot=xt?-xt[0]:ot,Te=_e/U,ct=(ye+xt[2]*de)/U}else Te=ye/U,ct=0;if(M.remeasure&&ot>0){const xt=1e3*z.measureText(Ue).width/X*U;if(ot<xt&&this.isFontSubpixelAAEnabled){const _e=ot/xt;We=!0,z.save(),z.scale(_e,1),Te/=_e}else ot!==xt&&(Te+=(ot-xt)/2e3*X/U)}this.contentVisible&&(Fe.isInFont||M.missingFile)&&(pe&&!le?z.fillText(Ue,Te,ct):(this.paintChar(Ue,Te,ct,se),le&&this.paintChar(le.fontChar,Te+X*le.offset.x/U,ct-X*le.offset.y/U,se))),Nt=V?ot*de-st*m:ot*de+st*m,ye+=Nt,We&&z.restore()}V?b.y-=ye:b.x+=ye*S,z.restore(),this.compose()}showType3Text(v){const b=this.ctx,M=this.current,X=M.font,z=M.fontSize,U=M.fontDirection,d=X.vertical?1:-1,p=M.charSpacing,m=M.wordSpacing,S=M.textHScale*U,D=M.fontMatrix||h.FONT_IDENTITY_MATRIX,V=v.length;let ne,de,pe,se;if(M.textRenderingMode!==h.TextRenderingMode.INVISIBLE&&0!==z){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,b.save(),b.transform(...M.textMatrix),b.translate(M.x,M.y),b.scale(S,U),ne=0;ne<V;++ne){if(de=v[ne],"number"==typeof de){se=d*de*z/1e3,this.ctx.translate(se,0),M.x+=se*S;continue}const ce=(de.isSpace?m:0)+p,ge=X.charProcOperatorList[de.operatorListId];ge?(this.contentVisible&&(this.processingType3=de,this.save(),b.scale(z,z),b.transform(...D),this.executeOperatorList(ge),this.restore()),pe=h.Util.applyTransform([de.width,0],D)[0]*z+ce,b.translate(pe,0),M.x+=pe*S):(0,h.warn)(`Type3 character "${de.operatorListId}" is not available.`)}b.restore(),this.processingType3=null}}setCharWidth(v,b){}setCharWidthAndBounds(v,b,M,X,z,U){this.ctx.rect(M,X,z-M,U-X),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let b;if("TilingPattern"===v[0]){const M=v[1],X=this.baseTransform||(0,C.getCurrentTransform)(this.ctx);b=new O.TilingPattern(v,M,this.ctx,{createCanvasGraphics:U=>new Ne(U,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},X)}else b=this._getPattern(v[1],v[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,b,M){const X=h.Util.makeHexColor(v,b,M);this.ctx.strokeStyle=X,this.current.strokeColor=X}setFillRGBColor(v,b,M){const X=h.Util.makeHexColor(v,b,M);this.ctx.fillStyle=X,this.current.fillColor=X,this.current.patternFill=!1}_getPattern(v,b=null){let M;return this.cachedPatterns.has(v)?M=this.cachedPatterns.get(v):(M=(0,O.getShadingPattern)(this.getObject(v)),this.cachedPatterns.set(v,M)),b&&(M.matrix=b),M}shadingFill(v){if(!this.contentVisible)return;const b=this.ctx;this.save();const M=this._getPattern(v);b.fillStyle=M.getPattern(b,this,(0,C.getCurrentTransformInverse)(b),O.PathType.SHADING);const X=(0,C.getCurrentTransformInverse)(b);if(X){const z=b.canvas,U=z.width,d=z.height,p=h.Util.applyTransform([0,0],X),m=h.Util.applyTransform([0,d],X),S=h.Util.applyTransform([U,0],X),D=h.Util.applyTransform([U,d],X),V=Math.min(p[0],m[0],S[0],D[0]),Z=Math.min(p[1],m[1],S[1],D[1]),ne=Math.max(p[0],m[0],S[0],D[0]),de=Math.max(p[1],m[1],S[1],D[1]);this.ctx.fillRect(V,Z,ne-V,de-Z)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,h.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,h.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,b){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&6===v.length&&this.transform(...v),this.baseTransform=(0,C.getCurrentTransform)(this.ctx),b)&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.current.updateRectMinMax((0,C.getCurrentTransform)(this.ctx),b),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;v.isolated||(0,h.info)("TODO: Support non-isolated groups."),v.knockout&&(0,h.warn)("Knockout groups not supported.");const M=(0,C.getCurrentTransform)(b);if(v.matrix&&b.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let X=h.Util.getAxialAlignedBoundingBox(v.bbox,(0,C.getCurrentTransform)(b));X=h.Util.intersect(X,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];const U=Math.floor(X[0]),d=Math.floor(X[1]);let p=Math.max(Math.ceil(X[2])-U,1),m=Math.max(Math.ceil(X[3])-d,1),S=1,D=1;p>x&&(S=p/x,p=x),m>x&&(D=m/x,m=x),this.current.startNewPathAndClipBox([0,0,p,m]);let V="groupAt"+this.groupLevel;v.smask&&(V+="_smask_"+this.smaskCounter++%2);const Z=this.cachedCanvases.getCanvas(V,p,m),ne=Z.context;ne.scale(1/S,1/D),ne.translate(-U,-d),ne.transform(...M),v.smask?this.smaskStack.push({canvas:Z.canvas,context:ne,offsetX:U,offsetY:d,scaleX:S,scaleY:D,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(U,d),b.scale(S,D),b.save()),y(b,ne),this.ctx=ne,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const X=(0,C.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...X);const z=h.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],X);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(z)}}beginAnnotation(v,b,M,X,z){if(_classPrivateMethodGet(this,Se,qe).call(this),G(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(b)&&4===b.length){const U=b[2]-b[0],d=b[3]-b[1];if(z&&this.annotationCanvasMap){(M=M.slice())[4]-=b[0],M[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=U,b[3]=d;const[p,m]=h.Util.singularValueDecompose2dScale((0,C.getCurrentTransform)(this.ctx)),{viewportScale:S}=this,D=Math.ceil(U*this.outputScaleX*S),V=Math.ceil(d*this.outputScaleY*S);this.annotationCanvas=this.canvasFactory.create(D,V);const{canvas:Z,context:ne}=this.annotationCanvas;this.annotationCanvasMap.set(v,Z),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ne,this.ctx.save(),this.ctx.setTransform(p,0,0,-m,0,d*m),G(this.ctx)}else G(this.ctx),this.ctx.rect(b[0],b[1],U,d),this.ctx.clip(),this.endPath()}this.current=new $(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...M),this.transform(...X)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_classPrivateMethodGet(this,Ee,Xe).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const b=v.count;(v=this.getObject(v.data,v)).count=b;const M=this.ctx,X=this.processingType3;if(X&&(void 0===X.compiled&&(X.compiled=function H(ee){const{width:v,height:b}=ee;if(v>1e3||b>1e3)return null;const X=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),z=v+1;let d,p,m,U=new Uint8Array(z*(b+1));const S=v+7&-8;let D=new Uint8Array(S*b),V=0;for(const se of ee.data){let ce=128;for(;ce>0;)D[V++]=se&ce?0:255,ce>>=1}let Z=0;for(V=0,0!==D[V]&&(U[0]=1,++Z),p=1;p<v;p++)D[V]!==D[V+1]&&(U[p]=D[V]?2:1,++Z),V++;for(0!==D[V]&&(U[p]=2,++Z),d=1;d<b;d++){V=d*S,m=d*z,D[V-S]!==D[V]&&(U[m]=D[V]?1:8,++Z);let se=(D[V]?4:0)+(D[V-S]?8:0);for(p=1;p<v;p++)se=(se>>2)+(D[V+1]?4:0)+(D[V-S+1]?8:0),X[se]&&(U[m+p]=X[se],++Z),V++;if(D[V-S]!==D[V]&&(U[m+p]=D[V]?2:4,++Z),Z>1e3)return null}for(V=S*(b-1),m=d*z,0!==D[V]&&(U[m]=8,++Z),p=1;p<v;p++)D[V]!==D[V+1]&&(U[m+p]=D[V]?4:8,++Z),V++;if(0!==D[V]&&(U[m+p]=4,++Z),Z>1e3)return null;const ne=new Int32Array([0,z,-1,0,-z,0,0,0,1]),de=new Path2D;for(d=0;Z&&d<=b;d++){let se=d*z;const ce=se+v;for(;se<ce&&!U[se];)se++;if(se===ce)continue;de.moveTo(se%z,d);const ge=se;let ye=U[se];do{const Re=ne[ye];do{se+=Re}while(!U[se]);const Fe=U[se];5!==Fe&&10!==Fe?(ye=Fe,U[se]=0):(ye=Fe&51*ye>>4,U[se]&=ye>>2|ye<<2),de.lineTo(se%z,se/z|0),U[se]||--Z}while(ge!==se);--d}return D=null,U=null,function(se){se.save(),se.scale(1/v,-1/b),se.translate(0,-b),se.fill(de),se.beginPath(),se.restore()}}(v)),X.compiled))return void X.compiled(M);const z=this._createMaskCanvas(v),U=z.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(U,z.offsetX,z.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(v,b,M=0,X=0,z,U){if(!this.contentVisible)return;v=this.getObject(v.data,v);const d=this.ctx;d.save();const p=(0,C.getCurrentTransform)(d);d.transform(b,M,X,z,0,0);const m=this._createMaskCanvas(v);d.setTransform(1,0,0,1,m.offsetX-p[4],m.offsetY-p[5]);for(let S=0,D=U.length;S<D;S+=2){const V=h.Util.transform(p,[b,M,X,z,U[S],U[S+1]]),[Z,ne]=h.Util.applyTransform([0,0],V);d.drawImage(m.canvas,Z,ne)}d.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const b=this.ctx,M=this.current.fillColor,X=this.current.patternFill;for(const z of v){const{data:U,width:d,height:p,transform:m}=z,S=this.cachedCanvases.getCanvas("maskCanvas",d,p),D=S.context;D.save(),g(D,this.getObject(U,z)),D.globalCompositeOperation="source-in",D.fillStyle=X?M.getPattern(D,this,(0,C.getCurrentTransformInverse)(b),O.PathType.FILL):M,D.fillRect(0,0,d,p),D.restore(),b.save(),b.transform(...m),b.scale(1,-1),A(b,S.canvas,0,0,d,p,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const b=this.getObject(v);b?this.paintInlineImageXObject(b):(0,h.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(v,b,M,X){if(!this.contentVisible)return;const z=this.getObject(v);if(!z)return void(0,h.warn)("Dependent image isn't ready yet");const U=z.width,d=z.height,p=[];for(let m=0,S=X.length;m<S;m+=2)p.push({transform:[b,0,0,M,X[m],X[m+1]],x:0,y:0,w:U,h:d});this.paintInlineImageXObjectGroup(z,p)}applyTransferMapsToCanvas(v){return"none"!==this.current.transferMaps&&(v.filter=this.current.transferMaps,v.drawImage(v.canvas,0,0),v.filter="none"),v.canvas}applyTransferMapsToBitmap(v){if("none"===this.current.transferMaps)return v.bitmap;const{bitmap:b,width:M,height:X}=v,z=this.cachedCanvases.getCanvas("inlineImage",M,X),U=z.context;return U.filter=this.current.transferMaps,U.drawImage(b,0,0),U.filter="none",z.canvas}paintInlineImageXObject(v){if(!this.contentVisible)return;const b=v.width,M=v.height,X=this.ctx;let z;if(this.save(),Q.isNodeJS||(X.filter="none"),X.scale(1/b,-1/M),v.bitmap)z=this.applyTransferMapsToBitmap(v);else if("function"==typeof HTMLElement&&v instanceof HTMLElement||!v.data)z=v;else{const p=this.cachedCanvases.getCanvas("inlineImage",b,M).context;E(p,v),z=this.applyTransferMapsToCanvas(p)}const U=this._scaleImage(z,(0,C.getCurrentTransformInverse)(X));X.imageSmoothingEnabled=we((0,C.getCurrentTransform)(X),v.interpolate),A(X,U.img,0,0,U.paintWidth,U.paintHeight,0,-M,b,M),this.compose(),this.restore()}paintInlineImageXObjectGroup(v,b){if(!this.contentVisible)return;const M=this.ctx;let X;if(v.bitmap)X=v.bitmap;else{const p=this.cachedCanvases.getCanvas("inlineImage",v.width,v.height).context;E(p,v),X=this.applyTransferMapsToCanvas(p)}for(const z of b)M.save(),M.transform(...z.transform),M.scale(1,-1),A(M,X,z.x,z.y,z.w,z.h,0,-1,1,1),M.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,b){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,b){this.markedContentStack.push("OC"===v?{visible:this.optionalContentConfig.isVisible(b)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const M=this.ctx;this.pendingClip&&(b||(this.pendingClip===Le?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,C.getCurrentTransform)(this.ctx);if(0===v[1]&&0===v[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const b=Math.abs(v[0]*v[3]-v[2]*v[1]),M=Math.hypot(v[0],v[2]),X=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(M,X)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:v}=this.current,{a:b,b:M,c:X,d:z}=this.ctx.getTransform();let U,d;if(0===M&&0===X){const p=Math.abs(b),m=Math.abs(z);if(p===m)if(0===v)U=d=1/p;else{const S=p*v;U=d=S<1?1/S:1}else if(0===v)U=1/p,d=1/m;else{const S=p*v,D=m*v;U=S<1?1/S:1,d=D<1?1/D:1}}else{const p=Math.abs(b*z-M*X),m=Math.hypot(b,M),S=Math.hypot(X,z);if(0===v)U=S/p,d=m/p;else{const D=v*p;U=S>D?S/D:1,d=m>D?m/D:1}}this._cachedScaleForStroking[0]=U,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:b}=this,{lineWidth:M}=this.current,[X,z]=this.getScaleForStroking();if(b.lineWidth=M||1,1===X&&1===z)return void b.stroke();const U=b.getLineDash();if(v&&b.save(),b.scale(X,z),U.length>0){const d=Math.max(X,z);b.setLineDash(U.map(p=>p/d)),b.lineDashOffset/=d}b.stroke(),v&&b.restore()}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}function qe(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Xe(){if(this.pageColors){const ee=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==ee){const v=this.ctx.filter;this.ctx.filter=ee,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=v}}}u.CanvasGraphics=Ne;for(const ee in h.OPS)void 0!==Ne.prototype[ee]&&(Ne.prototype[h.OPS[ee]]=Ne.prototype[ee])},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TilingPattern=u.PathType=void 0,u.getShadingPattern=function P(w){switch(w[0]){case"RadialAxial":return new te(w);case"Mesh":return new W(w);case"Dummy":return new Y}throw new Error(`Unknown IR type: ${w[0]}`)};var h=F(1),C=F(6);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function N(w,A){if(!A)return;const H=A[2]-A[0],$=A[3]-A[1],E=new Path2D;E.rect(A[0],A[1],H,$),w.clip(E)}u.PathType=O;class Q{constructor(){this.constructor===Q&&(0,h.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,h.unreachable)("Abstract method `getPattern` called.")}}class te extends Q{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let H;"axial"===this._type?H=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(H=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const $ of this._colorStops)H.addColorStop($[0],$[1]);return H}getPattern(A,H,$,E){let g;if(E===O.STROKE||E===O.FILL){const y=H.current.getClippedPathBoundingBox(E,(0,C.getCurrentTransform)(A))||[0,0,0,0],G=Math.ceil(y[2]-y[0])||1,q=Math.ceil(y[3]-y[1])||1,L=H.cachedCanvases.getCanvas("pattern",G,q,!0),J=L.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-y[0],-y[1]),$=h.Util.transform($,[1,0,0,1,y[0],y[1]]),J.transform(...H.baseTransform),this.matrix&&J.transform(...this.matrix),N(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),g=A.createPattern(L.canvas,"no-repeat");const B=new DOMMatrix($);g.setTransform(B)}else N(A,this._bbox),g=this._createGradient(A);return g}}function T(w,A,H,$,E,g,y,G){const q=A.coords,L=A.colors,J=w.data,B=4*w.width;let ue;q[H+1]>q[$+1]&&(ue=H,H=$,$=ue,ue=g,g=y,y=ue),q[$+1]>q[E+1]&&(ue=$,$=E,E=ue,ue=y,y=G,G=ue),q[H+1]>q[$+1]&&(ue=H,H=$,$=ue,ue=g,g=y,y=ue);const we=(q[H]+A.offsetX)*A.scaleX,ve=(q[H+1]+A.offsetY)*A.scaleY,Ae=(q[$]+A.offsetX)*A.scaleX,Pe=(q[$+1]+A.offsetY)*A.scaleY,Le=(q[E]+A.offsetX)*A.scaleX,Se=(q[E+1]+A.offsetY)*A.scaleY;if(ve>=Se)return;const Ee=L[g],Ne=L[g+1],qe=L[g+2],Xe=L[y],ee=L[y+1],v=L[y+2],b=L[G],M=L[G+1],X=L[G+2],z=Math.round(ve),U=Math.round(Se);let d,p,m,S,D,V,Z,ne;for(let de=z;de<=U;de++){if(de<Pe){let ye;ye=de<ve?0:(ve-de)/(ve-Pe),d=we-(we-Ae)*ye,p=Ee-(Ee-Xe)*ye,m=Ne-(Ne-ee)*ye,S=qe-(qe-v)*ye}else{let ye;ye=de>Se?1:Pe===Se?0:(Pe-de)/(Pe-Se),d=Ae-(Ae-Le)*ye,p=Xe-(Xe-b)*ye,m=ee-(ee-M)*ye,S=v-(v-X)*ye}let pe;pe=de<ve?0:de>Se?1:(ve-de)/(ve-Se),D=we-(we-Le)*pe,V=Ee-(Ee-b)*pe,Z=Ne-(Ne-M)*pe,ne=qe-(qe-X)*pe;const se=Math.round(Math.min(d,D)),ce=Math.round(Math.max(d,D));let ge=B*de+4*se;for(let ye=se;ye<=ce;ye++)pe=(d-ye)/(d-D),pe<0?pe=0:pe>1&&(pe=1),J[ge++]=p-(p-V)*pe|0,J[ge++]=m-(m-Z)*pe|0,J[ge++]=S-(S-ne)*pe|0,J[ge++]=255}}function x(w,A,H){const $=A.coords,E=A.colors;let g,y;switch(A.type){case"lattice":const G=A.verticesPerRow,q=Math.floor($.length/G)-1,L=G-1;for(g=0;g<q;g++){let J=g*G;for(let B=0;B<L;B++,J++)T(w,H,$[J],$[J+1],$[J+G],E[J],E[J+1],E[J+G]),T(w,H,$[J+G+1],$[J+1],$[J+G],E[J+G+1],E[J+1],E[J+G])}break;case"triangles":for(g=0,y=$.length;g<y;g+=3)T(w,H,$[g],$[g+1],$[g+2],E[g],E[g+1],E[g+2]);break;default:throw new Error("illegal figure")}}class W extends Q{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,H,$){const G=Math.floor(this._bounds[0]),q=Math.floor(this._bounds[1]),L=Math.ceil(this._bounds[2])-G,J=Math.ceil(this._bounds[3])-q,B=Math.min(Math.ceil(Math.abs(L*A[0]*1.1)),3e3),ue=Math.min(Math.ceil(Math.abs(J*A[1]*1.1)),3e3),we=L/B,ve=J/ue,Ae={coords:this._coords,colors:this._colors,offsetX:-G,offsetY:-q,scaleX:1/we,scaleY:1/ve},Se=$.getCanvas("mesh",B+4,ue+4,!1),Ee=Se.context,Ne=Ee.createImageData(B,ue);if(H){const Xe=Ne.data;for(let ee=0,v=Xe.length;ee<v;ee+=4)Xe[ee]=H[0],Xe[ee+1]=H[1],Xe[ee+2]=H[2],Xe[ee+3]=255}for(const Xe of this._figures)x(Ne,Xe,Ae);return Ee.putImageData(Ne,2,2),{canvas:Se.canvas,offsetX:G-2*we,offsetY:q-2*ve,scaleX:we,scaleY:ve}}getPattern(A,H,$,E){let g;if(N(A,this._bbox),E===O.SHADING)g=h.Util.singularValueDecompose2dScale((0,C.getCurrentTransform)(A));else if(g=h.Util.singularValueDecompose2dScale(H.baseTransform),this.matrix){const G=h.Util.singularValueDecompose2dScale(this.matrix);g=[g[0]*G[0],g[1]*G[1]]}const y=this._createMeshCanvas(g,E===O.SHADING?null:this._background,H.cachedCanvases);return E!==O.SHADING&&(A.setTransform(...H.baseTransform),this.matrix&&A.transform(...this.matrix)),A.translate(y.offsetX,y.offsetY),A.scale(y.scaleX,y.scaleY),A.createPattern(y.canvas,"no-repeat")}}class Y extends Q{getPattern(){return"hotpink"}}u.TilingPattern=(()=>{class w{constructor(H,$,E,g,y){this.operatorList=H[2],this.matrix=H[3]||[1,0,0,1,0,0],this.bbox=H[4],this.xstep=H[5],this.ystep=H[6],this.paintType=H[7],this.tilingType=H[8],this.color=$,this.ctx=E,this.canvasGraphicsFactory=g,this.baseTransform=y}createPatternCanvas(H){const $=this.operatorList,E=this.bbox,g=this.xstep,y=this.ystep,G=this.paintType,L=this.color,J=this.canvasGraphicsFactory;(0,h.info)("TilingType: "+this.tilingType);const B=E[0],ue=E[1],we=E[2],ve=E[3],Ae=h.Util.singularValueDecompose2dScale(this.matrix),Pe=h.Util.singularValueDecompose2dScale(this.baseTransform),Le=[Ae[0]*Pe[0],Ae[1]*Pe[1]],Se=this.getSizeAndScale(g,this.ctx.canvas.width,Le[0]),Ee=this.getSizeAndScale(y,this.ctx.canvas.height,Le[1]),Ne=H.cachedCanvases.getCanvas("pattern",Se.size,Ee.size,!0),qe=Ne.context,Xe=J.createCanvasGraphics(qe);Xe.groupLevel=H.groupLevel,this.setFillAndStrokeStyleToContext(Xe,G,L);let ee=B,v=ue,b=we,M=ve;return B<0&&(ee=0,b+=Math.abs(B)),ue<0&&(v=0,M+=Math.abs(ue)),qe.translate(-Se.scale*ee,-Ee.scale*v),Xe.transform(Se.scale,0,0,Ee.scale,0,0),qe.save(),this.clipBbox(Xe,ee,v,b,M),Xe.baseTransform=(0,C.getCurrentTransform)(Xe.ctx),Xe.executeOperatorList($),Xe.endDrawing(),{canvas:Ne.canvas,scaleX:Se.scale,scaleY:Ee.scale,offsetX:ee,offsetY:v}}getSizeAndScale(H,$,E){H=Math.abs(H);const g=Math.max(w.MAX_PATTERN_SIZE,$);let y=Math.ceil(H*E);return y>=g?y=g:E=y/H,{scale:E,size:y}}clipBbox(H,$,E,g,y){H.ctx.rect($,E,g-$,y-E),H.current.updateRectMinMax((0,C.getCurrentTransform)(H.ctx),[$,E,g,y]),H.clip(),H.endPath()}setFillAndStrokeStyleToContext(H,$,E){const g=H.ctx,y=H.current;switch($){case 1:const G=this.ctx;g.fillStyle=G.fillStyle,g.strokeStyle=G.strokeStyle,y.fillColor=G.fillStyle,y.strokeColor=G.strokeStyle;break;case 2:const q=h.Util.makeHexColor(E[0],E[1],E[2]);g.fillStyle=q,g.strokeStyle=q,y.fillColor=q,y.strokeColor=q;break;default:throw new h.FormatError(`Unsupported paint type: ${$}`)}}getPattern(H,$,E,g){let y=E;g!==O.SHADING&&(y=h.Util.transform(y,$.baseTransform),this.matrix&&(y=h.Util.transform(y,this.matrix)));const G=this.createPatternCanvas($);let q=new DOMMatrix(y);q=q.translate(G.offsetX,G.offsetY),q=q.scale(1/G.scaleX,1/G.scaleY);const L=H.createPattern(G.canvas,"repeat");return L.setTransform(q),L}}return _defineProperty(w,"MAX_PATTERN_SIZE",3e3),w})()},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.convertBlackAndWhiteToRGBA=O,u.convertToRGBA=function C(te){switch(te.kind){case h.ImageKind.GRAYSCALE_1BPP:return O(te);case h.ImageKind.RGB_24BPP:return function N({src:te,srcPos:T=0,dest:x,destPos:W=0}){let R=0;const k=te.length>>2,w=new Uint32Array(te.buffer,T,k);if(h.FeatureTest.isLittleEndian){for(;R<k-2;R+=3,W+=4){const A=w[R],H=w[R+1],$=w[R+2];x[W]=4278190080|A,x[W+1]=A>>>24|H<<8|4278190080,x[W+2]=H>>>16|$<<16|4278190080,x[W+3]=$>>>8|4278190080}for(let A=4*R,H=te.length;A<H;A+=3)x[W++]=te[A]|te[A+1]<<8|te[A+2]<<16|4278190080}else{for(;R<k-2;R+=3,W+=4){const A=w[R],H=w[R+1],$=w[R+2];x[W]=255|A,x[W+1]=A<<24|H>>>8|255,x[W+2]=H<<16|$>>>16|255,x[W+3]=$<<8|255}for(let A=4*R,H=te.length;A<H;A+=3)x[W++]=te[A]<<24|te[A+1]<<16|te[A+2]<<8|255}return{srcPos:T,destPos:W}}(te)}return null},u.grayToRGBA=function Q(te,T){if(h.FeatureTest.isLittleEndian)for(let x=0,W=te.length;x<W;x++)T[x]=65793*te[x]|4278190080;else for(let x=0,W=te.length;x<W;x++)T[x]=16843008*te[x]|255};var h=F(1);function O({src:te,srcPos:T=0,dest:x,width:W,height:Y,nonBlackColor:P=4294967295,inverseDecode:R=!1}){const k=h.FeatureTest.isLittleEndian?4278190080:255,[w,A]=R?[P,k]:[k,P],H=W>>3,$=7&W,E=te.length;x=new Uint32Array(x.buffer);let g=0;for(let y=0;y<Y;y++){for(const q=T+H;T<q;T++){const L=T<E?te[T]:255;x[g++]=128&L?A:w,x[g++]=64&L?A:w,x[g++]=32&L?A:w,x[g++]=16&L?A:w,x[g++]=8&L?A:w,x[g++]=4&L?A:w,x[g++]=2&L?A:w,x[g++]=1&L?A:w}if(0===$)continue;const G=T<E?te[T++]:255;for(let q=0;q<$;q++)x[g++]=G&1<<7-q?A:w}return{srcPos:T,destPos:g}}},(I,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GlobalWorkerOptions=void 0;const F=Object.create(null);u.GlobalWorkerOptions=F,F.workerPort=null,F.workerSrc=""},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MessageHandler=void 0;var h=F(1);function N(k){switch(k instanceof Error||"object"==typeof k&&null!==k||(0,h.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),k.name){case"AbortException":return new h.AbortException(k.message);case"MissingPDFException":return new h.MissingPDFException(k.message);case"PasswordException":return new h.PasswordException(k.message,k.code);case"UnexpectedResponseException":return new h.UnexpectedResponseException(k.message,k.status);case"UnknownErrorException":return new h.UnknownErrorException(k.message,k.details);default:return new h.UnknownErrorException(k.message,k.toString())}}var Q=new WeakSet,te=new WeakSet,T=new WeakSet;function W(k){const w=k.streamId,A=this.sourceName,H=k.sourceName,$=this.comObj,E=this,g=this.actionHandler[k.action],y={enqueue(G,q=1,L){if(this.isCancelled)return;const J=this.desiredSize;this.desiredSize-=q,J>0&&this.desiredSize<=0&&(this.sinkCapability=new h.PromiseCapability,this.ready=this.sinkCapability.promise),$.postMessage({sourceName:A,targetName:H,stream:4,streamId:w,chunk:G},L)},close(){this.isCancelled||(this.isCancelled=!0,$.postMessage({sourceName:A,targetName:H,stream:3,streamId:w}),delete E.streamSinks[w])},error(G){(0,h.assert)(G instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,$.postMessage({sourceName:A,targetName:H,stream:5,streamId:w,reason:N(G)}))},sinkCapability:new h.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:k.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[w]=y,new Promise(function(G){G(g(k.data,y))}).then(function(){$.postMessage({sourceName:A,targetName:H,stream:8,streamId:w,success:!0})},function(G){$.postMessage({sourceName:A,targetName:H,stream:8,streamId:w,reason:N(G)})})}function Y(k){const w=k.streamId,A=this.sourceName,H=k.sourceName,$=this.comObj,E=this.streamControllers[w],g=this.streamSinks[w];switch(k.stream){case 8:k.success?E.startCall.resolve():E.startCall.reject(N(k.reason));break;case 7:k.success?E.pullCall.resolve():E.pullCall.reject(N(k.reason));break;case 6:if(!g){$.postMessage({sourceName:A,targetName:H,stream:7,streamId:w,success:!0});break}g.desiredSize<=0&&k.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=k.desiredSize,new Promise(function(y){y(g.onPull?.())}).then(function(){$.postMessage({sourceName:A,targetName:H,stream:7,streamId:w,success:!0})},function(y){$.postMessage({sourceName:A,targetName:H,stream:7,streamId:w,reason:N(y)})});break;case 4:if((0,h.assert)(E,"enqueue should have stream controller"),E.isClosed)break;E.controller.enqueue(k.chunk);break;case 3:if((0,h.assert)(E,"close should have stream controller"),E.isClosed)break;E.isClosed=!0,E.controller.close(),_classPrivateMethodGet(this,T,P).call(this,E,w);break;case 5:(0,h.assert)(E,"error should have stream controller"),E.controller.error(N(k.reason)),_classPrivateMethodGet(this,T,P).call(this,E,w);break;case 2:k.success?E.cancelCall.resolve():E.cancelCall.reject(N(k.reason)),_classPrivateMethodGet(this,T,P).call(this,E,w);break;case 1:if(!g)break;new Promise(function(y){y(g.onCancel?.(N(k.reason)))}).then(function(){$.postMessage({sourceName:A,targetName:H,stream:2,streamId:w,success:!0})},function(y){$.postMessage({sourceName:A,targetName:H,stream:2,streamId:w,reason:N(y)})}),g.sinkCapability.reject(N(k.reason)),g.isCancelled=!0,delete this.streamSinks[w];break;default:throw new Error("Unexpected stream case")}}function P(k,w){return R.apply(this,arguments)}function R(){return(R=_asyncToGenerator(function*(k,w){yield Promise.allSettled([k.startCall?.promise,k.pullCall?.promise,k.cancelCall?.promise]),delete this.streamControllers[w]})).apply(this,arguments)}u.MessageHandler=class x{constructor(w,A,H){_classPrivateMethodInitSpec(this,T),_classPrivateMethodInitSpec(this,te),_classPrivateMethodInitSpec(this,Q),this.sourceName=w,this.targetName=A,this.comObj=H,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$=>{const E=$.data;if(E.targetName!==this.sourceName)return;if(E.stream)return void _classPrivateMethodGet(this,te,Y).call(this,E);if(E.callback){const y=E.callbackId,G=this.callbackCapabilities[y];if(!G)throw new Error(`Cannot resolve callback ${y}`);if(delete this.callbackCapabilities[y],1===E.callback)G.resolve(E.data);else{if(2!==E.callback)throw new Error("Unexpected callback case");G.reject(N(E.reason))}return}const g=this.actionHandler[E.action];if(!g)throw new Error(`Unknown action from worker: ${E.action}`);if(E.callbackId){const y=this.sourceName,G=E.sourceName;new Promise(function(q){q(g(E.data))}).then(function(q){H.postMessage({sourceName:y,targetName:G,callback:1,callbackId:E.callbackId,data:q})},function(q){H.postMessage({sourceName:y,targetName:G,callback:2,callbackId:E.callbackId,reason:N(q)})})}else E.streamId?_classPrivateMethodGet(this,Q,W).call(this,E):g(E.data)},H.addEventListener("message",this._onComObjOnMessage)}on(w,A){const H=this.actionHandler;if(H[w])throw new Error(`There is already an actionName called "${w}"`);H[w]=A}send(w,A,H){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:w,data:A},H)}sendWithPromise(w,A,H){const $=this.callbackId++,E=new h.PromiseCapability;this.callbackCapabilities[$]=E;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:w,callbackId:$,data:A},H)}catch(g){E.reject(g)}return E.promise}sendWithStream(w,A,H,$){const E=this.streamId++,g=this.sourceName,y=this.targetName,G=this.comObj;return new ReadableStream({start:q=>{const L=new h.PromiseCapability;return this.streamControllers[E]={controller:q,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},G.postMessage({sourceName:g,targetName:y,action:w,streamId:E,data:A,desiredSize:q.desiredSize},$),L.promise},pull:q=>{const L=new h.PromiseCapability;return this.streamControllers[E].pullCall=L,G.postMessage({sourceName:g,targetName:y,stream:6,streamId:E,desiredSize:q.desiredSize}),L.promise},cancel:q=>{(0,h.assert)(q instanceof Error,"cancel must have a valid reason");const L=new h.PromiseCapability;return this.streamControllers[E].cancelCall=L,this.streamControllers[E].isClosed=!0,G.postMessage({sourceName:g,targetName:y,stream:1,streamId:E,reason:N(q)}),L.promise}},H)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Metadata=void 0;var h=F(1),C=new WeakMap,O=new WeakMap;u.Metadata=class N{constructor({parsedData:te,rawData:T}){_classPrivateFieldInitSpec(this,C,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,C,te),_classPrivateFieldSet(this,O,T)}getRaw(){return _classPrivateFieldGet(this,O)}get(te){return _classPrivateFieldGet(this,C).get(te)??null}getAll(){return(0,h.objectFromMap)(_classPrivateFieldGet(this,C))}has(te){return _classPrivateFieldGet(this,C).has(te)}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OptionalContentConfig=void 0;var h=F(1),C=F(8);const O=Symbol("INTERNAL");var N=new WeakMap;class Q{constructor(w,A){_classPrivateFieldInitSpec(this,N,{writable:!0,value:!0}),this.name=w,this.intent=A}get visible(){return _classPrivateFieldGet(this,N)}_setVisible(w,A){w!==O&&(0,h.unreachable)("Internal method `_setVisible` called."),_classPrivateFieldSet(this,N,A)}}var te=new WeakMap,T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakSet;function R(k){const w=k.length;if(w<2)return!0;const A=k[0];for(let H=1;H<w;H++){const $=k[H];let E;if(Array.isArray($))E=_classPrivateMethodGet(this,Y,R).call(this,$);else{if(!_classPrivateFieldGet(this,T).has($))return(0,h.warn)(`Optional content group not found: ${$}`),!0;E=_classPrivateFieldGet(this,T).get($).visible}switch(A){case"And":if(!E)return!1;break;case"Or":if(E)return!0;break;case"Not":return!E;default:return!0}}return"And"===A}u.OptionalContentConfig=class P{constructor(w){if(_classPrivateMethodInitSpec(this,Y),_classPrivateFieldInitSpec(this,te,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:null}),this.name=null,this.creator=null,null!==w){this.name=w.name,this.creator=w.creator,_classPrivateFieldSet(this,W,w.order);for(const A of w.groups)_classPrivateFieldGet(this,T).set(A.id,new Q(A.name,A.intent));if("OFF"===w.baseState)for(const A of _classPrivateFieldGet(this,T).values())A._setVisible(O,!1);for(const A of w.on)_classPrivateFieldGet(this,T).get(A)._setVisible(O,!0);for(const A of w.off)_classPrivateFieldGet(this,T).get(A)._setVisible(O,!1);_classPrivateFieldSet(this,x,this.getHash())}}isVisible(w){if(0===_classPrivateFieldGet(this,T).size)return!0;if(!w)return(0,h.warn)("Optional content group not defined."),!0;if("OCG"===w.type)return _classPrivateFieldGet(this,T).has(w.id)?_classPrivateFieldGet(this,T).get(w.id).visible:((0,h.warn)(`Optional content group not found: ${w.id}`),!0);if("OCMD"===w.type){if(w.expression)return _classPrivateMethodGet(this,Y,R).call(this,w.expression);if(!w.policy||"AnyOn"===w.policy){for(const A of w.ids){if(!_classPrivateFieldGet(this,T).has(A))return(0,h.warn)(`Optional content group not found: ${A}`),!0;if(_classPrivateFieldGet(this,T).get(A).visible)return!0}return!1}if("AllOn"===w.policy){for(const A of w.ids){if(!_classPrivateFieldGet(this,T).has(A))return(0,h.warn)(`Optional content group not found: ${A}`),!0;if(!_classPrivateFieldGet(this,T).get(A).visible)return!1}return!0}if("AnyOff"===w.policy){for(const A of w.ids){if(!_classPrivateFieldGet(this,T).has(A))return(0,h.warn)(`Optional content group not found: ${A}`),!0;if(!_classPrivateFieldGet(this,T).get(A).visible)return!0}return!1}if("AllOff"===w.policy){for(const A of w.ids){if(!_classPrivateFieldGet(this,T).has(A))return(0,h.warn)(`Optional content group not found: ${A}`),!0;if(_classPrivateFieldGet(this,T).get(A).visible)return!1}return!0}return(0,h.warn)(`Unknown optional content policy ${w.policy}.`),!0}return(0,h.warn)(`Unknown group type ${w.type}.`),!0}setVisibility(w,A=!0){_classPrivateFieldGet(this,T).has(w)?(_classPrivateFieldGet(this,T).get(w)._setVisible(O,!!A),_classPrivateFieldSet(this,te,null)):(0,h.warn)(`Optional content group not found: ${w}`)}get hasInitialVisibility(){return this.getHash()===_classPrivateFieldGet(this,x)}getOrder(){return _classPrivateFieldGet(this,T).size?_classPrivateFieldGet(this,W)?_classPrivateFieldGet(this,W).slice():[..._classPrivateFieldGet(this,T).keys()]:null}getGroups(){return _classPrivateFieldGet(this,T).size>0?(0,h.objectFromMap)(_classPrivateFieldGet(this,T)):null}getGroup(w){return _classPrivateFieldGet(this,T).get(w)||null}getHash(){if(null!==_classPrivateFieldGet(this,te))return _classPrivateFieldGet(this,te);const w=new C.MurmurHash3_64;for(const[A,H]of _classPrivateFieldGet(this,T))w.update(`${A}:${H.visible}`);return _classPrivateFieldSet(this,te,w.hexdigest())}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFDataTransportStream=void 0;var h=F(1),C=F(6);u.PDFDataTransportStream=class O{constructor({length:T,initialData:x,progressiveDone:W=!1,contentDispositionFilename:Y=null,disableRange:P=!1,disableStream:R=!1},k){if((0,h.assert)(k,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=W,this._contentDispositionFilename=Y,x?.length>0){const w=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=k,this._isStreamingSupported=!R,this._isRangeSupported=!P,this._contentLength=T,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,A)=>{this._onReceiveData({begin:w,chunk:A})}),this._pdfDataRangeTransport.addProgressListener((w,A)=>{this._onProgress({loaded:w,total:A})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:T,chunk:x}){const W=x instanceof Uint8Array&&x.byteLength===x.buffer.byteLength?x.buffer:new Uint8Array(x).buffer;if(void 0===T)this._fullRequestReader?this._fullRequestReader._enqueue(W):this._queuedChunks.push(W);else{const Y=this._rangeReaders.some(function(P){return P._begin===T&&(P._enqueue(W),!0)});(0,h.assert)(Y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(T){void 0===T.total?this._rangeReaders[0]?.onProgress?.({loaded:T.loaded}):this._fullRequestReader?.onProgress?.({loaded:T.loaded,total:T.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(T){const x=this._rangeReaders.indexOf(T);x>=0&&this._rangeReaders.splice(x,1)}getFullReader(){(0,h.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const T=this._queuedChunks;return this._queuedChunks=null,new N(this,T,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(T,x){if(x<=this._progressiveDataLength)return null;const W=new Q(this,T,x);return this._pdfDataRangeTransport.requestDataRange(T,x),this._rangeReaders.push(W),W}cancelAllRequests(T){this._fullRequestReader?.cancel(T);for(const x of this._rangeReaders.slice(0))x.cancel(T);this._pdfDataRangeTransport.abort()}};class N{constructor(T,x,W=!1,Y=null){this._stream=T,this._done=W||!1,this._filename=(0,C.isPdfFile)(Y)?Y:null,this._queuedChunks=x||[],this._loaded=0;for(const P of this._queuedChunks)this._loaded+=P.byteLength;this._requests=[],this._headersReady=Promise.resolve(),T._fullRequestReader=this,this.onProgress=null}_enqueue(T){this._done||(this._requests.length>0?this._requests.shift().resolve({value:T,done:!1}):this._queuedChunks.push(T),this._loaded+=T.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var T=this;return _asyncToGenerator(function*(){if(T._queuedChunks.length>0)return{value:T._queuedChunks.shift(),done:!1};if(T._done)return{value:void 0,done:!0};const x=new h.PromiseCapability;return T._requests.push(x),x.promise})()}cancel(T){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Q{constructor(T,x,W){this._stream=T,this._begin=x,this._end=W,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(T){if(!this._done){if(0===this._requests.length)this._queuedChunk=T;else{this._requests.shift().resolve({value:T,done:!1});for(const W of this._requests)W.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var T=this;return _asyncToGenerator(function*(){if(T._queuedChunk){const W=T._queuedChunk;return T._queuedChunk=null,{value:W,done:!1}}if(T._done)return{value:void 0,done:!0};const x=new h.PromiseCapability;return T._requests.push(x),x.promise})()}cancel(T){this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(I,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaText=void 0;class F{static textContent(C){const O=[],N={items:O,styles:Object.create(null)};return function Q(te){if(!te)return;let T=null;const x=te.name;if("#text"===x)T=te.value;else{if(!F.shouldBuildText(x))return;te?.attributes?.textContent?T=te.attributes.textContent:te.value&&(T=te.value)}if(null!==T&&O.push({str:T}),te.children)for(const W of te.children)Q(W)}(C),N}static shouldBuildText(C){return!("textarea"===C||"input"===C||"option"===C||"select"===C)}}u.XfaText=F},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NodeStandardFontDataFactory=u.NodeFilterFactory=u.NodeCanvasFactory=u.NodeCMapReaderFactory=void 0;var h=F(7);const C=function(T){return new Promise((x,W)=>{__webpack_require__(172).readFile(T,(P,R)=>{!P&&R?x(new Uint8Array(R)):W(new Error(P))})})};u.NodeFilterFactory=class O extends h.BaseFilterFactory{},u.NodeCanvasFactory=class N extends h.BaseCanvasFactory{_createCanvas(x,W){return __webpack_require__(414).createCanvas(x,W)}},u.NodeCMapReaderFactory=class Q extends h.BaseCMapReaderFactory{_fetchData(x,W){return C(x).then(Y=>({cMapData:Y,compressionType:W}))}},u.NodeStandardFontDataFactory=class te extends h.BaseStandardFontDataFactory{_fetchData(x){return C(x)}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFNodeStream=void 0;var h=F(1),C=F(22);const O=__webpack_require__(172),N=__webpack_require__(1),Q=__webpack_require__(779),te=__webpack_require__(558),T=/^file:\/\/\/[a-zA-Z]:\//;u.PDFNodeStream=class W{constructor(E){this.source=E,this.url=function x($){const E=te.parse($);return"file:"===E.protocol||E.host?E:/^[a-z]:[/\\]/i.test($)?te.parse(`file:///${$}`):(E.host||(E.protocol="file:"),E)}(E.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&E.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new A(this):new k(this),this._fullRequestReader}getRangeReader(E,g){if(g<=this._progressiveDataLength)return null;const y=this.isFsUrl?new H(this,E,g):new w(this,E,g);return this._rangeRequestReaders.push(y),y}cancelAllRequests(E){this._fullRequestReader?.cancel(E);for(const g of this._rangeRequestReaders.slice(0))g.cancel(E)}};class Y{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null;const g=E.source;this._contentLength=g.length,this._loaded=0,this._filename=null,this._disableRange=g.disableRange||!1,this._rangeChunkSize=g.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!g.disableStream,this._isRangeSupported=!g.disableRange,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._headersCapability=new h.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var E=this;return _asyncToGenerator(function*(){if(yield E._readCapability.promise,E._done)return{value:void 0,done:!0};if(E._storedError)throw E._storedError;const g=E._readableStream.read();return null===g?(E._readCapability=new h.PromiseCapability,E.read()):(E._loaded+=g.length,E.onProgress?.({loaded:E._loaded,total:E._contentLength}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(E){this._readableStream?this._readableStream.destroy(E):this._error(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",g=>{this._error(g)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new h.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class P{constructor(E){this._url=E.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!E.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var E=this;return _asyncToGenerator(function*(){if(yield E._readCapability.promise,E._done)return{value:void 0,done:!0};if(E._storedError)throw E._storedError;const g=E._readableStream.read();return null===g?(E._readCapability=new h.PromiseCapability,E.read()):(E._loaded+=g.length,E.onProgress?.({loaded:E._loaded}),{value:new Uint8Array(g).buffer,done:!1})})()}cancel(E){this._readableStream?this._readableStream.destroy(E):this._error(E)}_error(E){this._storedError=E,this._readCapability.resolve()}_setReadableStream(E){this._readableStream=E,E.on("readable",()=>{this._readCapability.resolve()}),E.on("end",()=>{E.destroy(),this._done=!0,this._readCapability.resolve()}),E.on("error",g=>{this._error(g)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function R($,E){return{protocol:$.protocol,auth:$.auth,host:$.hostname,port:$.port,path:$.path,method:"GET",headers:E}}class k extends Y{constructor(E){super(E);const g=y=>{if(404===y.statusCode){const J=new h.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(y);const G=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:q,suggestedLength:L}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:E.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=q,this._contentLength=L||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(G)};this._request=null,this._request="http:"===this._url.protocol?N.request(R(this._url,E.httpHeaders),g):Q.request(R(this._url,E.httpHeaders),g),this._request.on("error",y=>{this._storedError=y,this._headersCapability.reject(y)}),this._request.end()}}class w extends P{constructor(E,g,y){super(E),this._httpHeaders={};for(const q in E.httpHeaders){const L=E.httpHeaders[q];void 0!==L&&(this._httpHeaders[q]=L)}this._httpHeaders.Range=`bytes=${g}-${y-1}`;const G=q=>{if(404!==q.statusCode)this._setReadableStream(q);else{const L=new h.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=L}};this._request=null,this._request="http:"===this._url.protocol?N.request(R(this._url,this._httpHeaders),G):Q.request(R(this._url,this._httpHeaders),G),this._request.on("error",q=>{this._storedError=q}),this._request.end()}}class A extends Y{constructor(E){super(E);let g=decodeURIComponent(this._url.path);T.test(this._url.href)&&(g=g.replace(/^\//,"")),O.lstat(g,(y,G)=>{if(y)return"ENOENT"===y.code&&(y=new h.MissingPDFException(`Missing PDF "${g}".`)),this._storedError=y,void this._headersCapability.reject(y);this._contentLength=G.size,this._setReadableStream(O.createReadStream(g)),this._headersCapability.resolve()})}}class H extends P{constructor(E,g,y){super(E);let G=decodeURIComponent(this._url.path);T.test(this._url.href)&&(G=G.replace(/^\//,"")),this._setReadableStream(O.createReadStream(G,{start:g,end:y-1}))}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createResponseStatusError=function te(x,W){return 404===x||0===x&&W.startsWith("file:")?new h.MissingPDFException('Missing PDF "'+W+'".'):new h.UnexpectedResponseException(`Unexpected server response (${x}) while retrieving PDF "${W}".`,x)},u.extractFilenameFromHeader=function Q(x){const W=x("Content-Disposition");if(W){let Y=(0,C.getFilenameFromContentDispositionHeader)(W);if(Y.includes("%"))try{Y=decodeURIComponent(Y)}catch{}if((0,O.isPdfFile)(Y))return Y}return null},u.validateRangeRequestCapabilities=function N({getResponseHeader:x,isHttp:W,rangeChunkSize:Y,disableRange:P}){const R={allowRangeRequests:!1,suggestedLength:void 0},k=parseInt(x("Content-Length"),10);return!Number.isInteger(k)||(R.suggestedLength=k,k<=2*Y)||P||!W||"bytes"!==x("Accept-Ranges")||"identity"!==(x("Content-Encoding")||"identity")||(R.allowRangeRequests=!0),R},u.validateResponseStatus=function T(x){return 200===x||206===x};var h=F(1),C=F(23),O=F(6)},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getFilenameFromContentDispositionHeader=function C(O){let N=!0,Q=te("filename\\*","i").exec(O);if(Q){Q=Q[1];let k=Y(Q);return k=unescape(k),k=P(k),k=R(k),x(k)}if(Q=function W(k){const w=[];let A;const H=te("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(A=H.exec(k));){let[,E,g,y]=A;if(E=parseInt(E,10),E in w){if(0===E)break}else w[E]=[g,y]}const $=[];for(let E=0;E<w.length&&E in w;++E){let[g,y]=w[E];y=Y(y),g&&(y=unescape(y),0===E&&(y=P(y))),$.push(y)}return $.join("")}(O),Q)return x(R(Q));if(Q=te("filename","i").exec(O),Q){Q=Q[1];let k=Y(Q);return k=R(k),x(k)}function te(k,w){return new RegExp("(?:^|;)\\s*"+k+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',w)}function T(k,w){if(k){if(!/^[\x00-\xFF]+$/.test(w))return w;try{const A=new TextDecoder(k,{fatal:!0}),H=(0,h.stringToBytes)(w);w=A.decode(H),N=!1}catch{}}return w}function x(k){return N&&/[\x80-\xff]/.test(k)&&(k=T("utf-8",k),N&&(k=T("iso-8859-1",k))),k}function Y(k){if(k.startsWith('"')){const w=k.slice(1).split('\\"');for(let A=0;A<w.length;++A){const H=w[A].indexOf('"');-1!==H&&(w[A]=w[A].slice(0,H),w.length=A+1),w[A]=w[A].replaceAll(/\\(.)/g,"$1")}k=w.join('"')}return k}function P(k){const w=k.indexOf("'");return-1===w?k:T(k.slice(0,w),k.slice(w+1).replace(/^[^']*'/,""))}function R(k){return!k.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(k)?k:k.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(w,A,H,$){if("q"===H||"Q"===H)return T(A,$=($=$.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(E,g){return String.fromCharCode(parseInt(g,16))}));try{$=atob($)}catch{}return T(A,$)})}return""};var h=F(1)},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFNetworkStream=void 0;var h=F(1),C=F(22);class te{constructor(P,R={}){this.url=P,this.isHttp=/^https?:/i.test(P),this.httpHeaders=this.isHttp&&R.httpHeaders||Object.create(null),this.withCredentials=R.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(P,R,k){const w={begin:P,end:R};for(const A in k)w[A]=k[A];return this.request(w)}requestFull(P){return this.request(P)}request(P){const R=new XMLHttpRequest,k=this.currXhrId++,w=this.pendingRequests[k]={xhr:R};R.open("GET",this.url),R.withCredentials=this.withCredentials;for(const A in this.httpHeaders){const H=this.httpHeaders[A];void 0!==H&&R.setRequestHeader(A,H)}return this.isHttp&&"begin"in P&&"end"in P?(R.setRequestHeader("Range",`bytes=${P.begin}-${P.end-1}`),w.expectedStatus=206):w.expectedStatus=200,R.responseType="arraybuffer",P.onError&&(R.onerror=function(A){P.onError(R.status)}),R.onreadystatechange=this.onStateChange.bind(this,k),R.onprogress=this.onProgress.bind(this,k),w.onHeadersReceived=P.onHeadersReceived,w.onDone=P.onDone,w.onError=P.onError,w.onProgress=P.onProgress,R.send(null),k}onProgress(P,R){const k=this.pendingRequests[P];k&&k.onProgress?.(R)}onStateChange(P,R){const k=this.pendingRequests[P];if(!k)return;const w=k.xhr;if(w.readyState>=2&&k.onHeadersReceived&&(k.onHeadersReceived(),delete k.onHeadersReceived),4!==w.readyState||!(P in this.pendingRequests))return;if(delete this.pendingRequests[P],0===w.status&&this.isHttp)return void k.onError?.(w.status);const A=w.status||200;if((200!==A||206!==k.expectedStatus)&&A!==k.expectedStatus)return void k.onError?.(w.status);const $=function Q(Y){const P=Y.response;return"string"!=typeof P?P:(0,h.stringToBytes)(P).buffer}(w);if(206===A){const E=w.getResponseHeader("Content-Range"),g=/bytes (\d+)-(\d+)\/(\d+)/.exec(E);k.onDone({begin:parseInt(g[1],10),chunk:$})}else $?k.onDone({begin:0,chunk:$}):k.onError?.(w.status)}getRequestXhr(P){return this.pendingRequests[P].xhr}isPendingRequest(P){return P in this.pendingRequests}abortRequest(P){const R=this.pendingRequests[P].xhr;delete this.pendingRequests[P],R.abort()}}u.PDFNetworkStream=class T{constructor(P){this._source=P,this._manager=new te(P.url,{httpHeaders:P.httpHeaders,withCredentials:P.withCredentials}),this._rangeChunkSize=P.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(P){const R=this._rangeRequestReaders.indexOf(P);R>=0&&this._rangeRequestReaders.splice(R,1)}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new x(this._manager,this._source),this._fullRequestReader}getRangeReader(P,R){const k=new W(this._manager,P,R);return k.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(k),k}cancelAllRequests(P){this._fullRequestReader?.cancel(P);for(const R of this._rangeRequestReaders.slice(0))R.cancel(P)}};class x{constructor(P,R){this._manager=P;const k={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=R.url,this._fullRequestId=P.requestFull(k),this._headersReceivedCapability=new h.PromiseCapability,this._disableRange=R.disableRange||!1,this._contentLength=R.length,this._rangeChunkSize=R.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const P=this._fullRequestId,R=this._manager.getRequestXhr(P),k=H=>R.getResponseHeader(H),{allowRangeRequests:w,suggestedLength:A}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:k,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});w&&(this._isRangeSupported=!0),this._contentLength=A||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(k),this._isRangeSupported&&this._manager.abortRequest(P),this._headersReceivedCapability.resolve()}_onDone(P){if(P&&(this._requests.length>0?this._requests.shift().resolve({value:P.chunk,done:!1}):this._cachedChunks.push(P.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(P){this._storedError=(0,C.createResponseStatusError)(P,this._url),this._headersReceivedCapability.reject(this._storedError);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(P){this.onProgress?.({loaded:P.loaded,total:P.lengthComputable?P.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(P._cachedChunks.length>0)return{value:P._cachedChunks.shift(),done:!1};if(P._done)return{value:void 0,done:!0};const R=new h.PromiseCapability;return P._requests.push(R),R.promise})()}cancel(P){this._done=!0,this._headersReceivedCapability.reject(P);for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class W{constructor(P,R,k){this._manager=P;const w={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._requestId=P.requestRange(R,k,w),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(P){const R=P.chunk;this._requests.length>0?this._requests.shift().resolve({value:R,done:!1}):this._queuedChunk=R,this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(P){this._storedError=(0,C.createResponseStatusError)(P,this._url);for(const R of this._requests)R.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(P){this.isStreamingSupported||this.onProgress?.({loaded:P.loaded})}get isStreamingSupported(){return!1}read(){var P=this;return _asyncToGenerator(function*(){if(P._storedError)throw P._storedError;if(null!==P._queuedChunk){const k=P._queuedChunk;return P._queuedChunk=null,{value:k,done:!1}}if(P._done)return{value:void 0,done:!0};const R=new h.PromiseCapability;return P._requests.push(R),R.promise})()}cancel(P){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFetchStream=void 0;var h=F(1),C=F(22);function O(W,Y,P){return{method:"GET",headers:W,signal:P.signal,mode:"cors",credentials:Y?"include":"same-origin",redirect:"follow"}}function N(W){const Y=new Headers;for(const P in W){const R=W[P];void 0!==R&&Y.append(P,R)}return Y}function Q(W){return W instanceof Uint8Array?W.buffer:W instanceof ArrayBuffer?W:((0,h.warn)(`getArrayBuffer - unexpected data format: ${W}`),new Uint8Array(W).buffer)}u.PDFFetchStream=class te{constructor(Y){this.source=Y,this.isHttp=/^https?:/i.test(Y.url),this.httpHeaders=this.isHttp&&Y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,h.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new T(this),this._fullRequestReader}getRangeReader(Y,P){if(P<=this._progressiveDataLength)return null;const R=new x(this,Y,P);return this._rangeRequestReaders.push(R),R}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const P of this._rangeRequestReaders.slice(0))P.cancel(Y)}};class T{constructor(Y){this._stream=Y,this._reader=null,this._loaded=0,this._filename=null;const P=Y.source;this._withCredentials=P.withCredentials||!1,this._contentLength=P.length,this._headersCapability=new h.PromiseCapability,this._disableRange=P.disableRange||!1,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!P.disableStream,this._isRangeSupported=!P.disableRange,this._headers=N(this._stream.httpHeaders);const R=P.url;fetch(R,O(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,C.validateResponseStatus)(k.status))throw(0,C.createResponseStatusError)(k.status,R);this._reader=k.body.getReader(),this._headersCapability.resolve();const w=$=>k.headers.get($),{allowRangeRequests:A,suggestedLength:H}=(0,C.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=A,this._contentLength=H||this._contentLength,this._filename=(0,C.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new h.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){yield Y._headersCapability.promise;const{value:P,done:R}=yield Y._reader.read();return R?{value:P,done:R}:(Y._loaded+=P.byteLength,Y.onProgress?.({loaded:Y._loaded,total:Y._contentLength}),{value:Q(P),done:!1})})()}cancel(Y){this._reader?.cancel(Y),this._abortController.abort()}}class x{constructor(Y,P,R){this._stream=Y,this._reader=null,this._loaded=0;const k=Y.source;this._withCredentials=k.withCredentials||!1,this._readCapability=new h.PromiseCapability,this._isStreamingSupported=!k.disableStream,this._abortController=new AbortController,this._headers=N(this._stream.httpHeaders),this._headers.append("Range",`bytes=${P}-${R-1}`);const w=k.url;fetch(w,O(this._headers,this._withCredentials,this._abortController)).then(A=>{if(!(0,C.validateResponseStatus)(A.status))throw(0,C.createResponseStatusError)(A.status,w);this._readCapability.resolve(),this._reader=A.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){yield Y._readCapability.promise;const{value:P,done:R}=yield Y._reader.read();return R?{value:P,done:R}:(Y._loaded+=P.byteLength,Y.onProgress?.({loaded:Y._loaded}),{value:Q(P),done:!1})})()}cancel(Y){this._reader?.cancel(Y),this._abortController.abort()}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerRenderTask=void 0,u.renderTextLayer=function k(A){!A.textContentSource&&(A.textContent||A.textContentStream)&&((0,C.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),A.textContentSource=A.textContent||A.textContentStream);const{container:H,viewport:$}=A,E=getComputedStyle(H),g=E.getPropertyValue("visibility"),y=parseFloat(E.getPropertyValue("--scale-factor"));"visible"===g&&(!y||Math.abs(y-$.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const G=new R(A);return G._render(),G},u.updateTextLayer=function w({container:A,viewport:H,textDivs:$,textDivProperties:E,isOffscreenCanvasSupported:g,mustRotate:y=!0,mustRescale:G=!0}){if(y&&(0,C.setLayerDimensions)(A,{rotation:H.rotation}),G){const q=T(0,g),J={prevFontSize:null,prevFontFamily:null,div:null,scale:H.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:q};for(const B of $)J.properties=E.get(B),J.div=B,Y(J)}};var h=F(1),C=F(6);const N=30,te=new Map;function T(A,H){let $;if(H&&h.FeatureTest.isOffscreenCanvasSupported)$=new OffscreenCanvas(A,A).getContext("2d",{alpha:!1});else{const E=document.createElement("canvas");E.width=E.height=A,$=E.getContext("2d",{alpha:!1})}return $}function W(A,H,$){const E=document.createElement("span"),g={angle:0,canvasWidth:0,hasText:""!==H.str,hasEOL:H.hasEOL,fontSize:0};A._textDivs.push(E);const y=h.Util.transform(A._transform,H.transform);let G=Math.atan2(y[1],y[0]);const q=$[H.fontName];q.vertical&&(G+=Math.PI/2);const L=Math.hypot(y[2],y[3]),J=L*function x(A,H){const $=te.get(A);if($)return $;const E=T(N,H);E.font=`30px ${A}`;const g=E.measureText("");let y=g.fontBoundingBoxAscent,G=Math.abs(g.fontBoundingBoxDescent);if(y){const L=y/(y+G);return te.set(A,L),E.canvas.width=E.canvas.height=0,L}E.strokeStyle="red",E.clearRect(0,0,N,N),E.strokeText("g",0,0);let q=E.getImageData(0,0,N,N).data;G=0;for(let L=q.length-1-3;L>=0;L-=4)if(q[L]>0){G=Math.ceil(L/4/N);break}E.clearRect(0,0,N,N),E.strokeText("A",0,N),q=E.getImageData(0,0,N,N).data,y=0;for(let L=0,J=q.length;L<J;L+=4)if(q[L]>0){y=N-Math.floor(L/4/N);break}if(E.canvas.width=E.canvas.height=0,y){const L=y/(y+G);return te.set(A,L),L}return te.set(A,.8),.8}(q.fontFamily,A._isOffscreenCanvasSupported);let B,ue;0===G?(B=y[4],ue=y[5]-J):(B=y[4]+J*Math.sin(G),ue=y[5]-J*Math.cos(G));const we="calc(var(--scale-factor)*",ve=E.style;A._container===A._rootContainer?(ve.left=`${(100*B/A._pageWidth).toFixed(2)}%`,ve.top=`${(100*ue/A._pageHeight).toFixed(2)}%`):(ve.left=`${we}${B.toFixed(2)}px)`,ve.top=`${we}${ue.toFixed(2)}px)`),ve.fontSize=`${we}${L.toFixed(2)}px)`,ve.fontFamily=q.fontFamily,g.fontSize=L,E.setAttribute("role","presentation"),E.textContent=H.str,E.dir=H.dir,A._fontInspectorEnabled&&(E.dataset.fontName=H.fontName),0!==G&&(g.angle=G*(180/Math.PI));let Ae=!1;if(H.str.length>1)Ae=!0;else if(" "!==H.str&&H.transform[0]!==H.transform[3]){const Pe=Math.abs(H.transform[0]),Le=Math.abs(H.transform[3]);Pe!==Le&&Math.max(Pe,Le)/Math.min(Pe,Le)>1.5&&(Ae=!0)}Ae&&(g.canvasWidth=q.vertical?H.height:H.width),A._textDivProperties.set(E,g),A._isReadableStream&&A._layoutText(E)}function Y(A){const{div:H,scale:$,properties:E,ctx:g,prevFontSize:y,prevFontFamily:G}=A,{style:q}=H;let L="";if(0!==E.canvasWidth&&E.hasText){const{fontFamily:J}=q,{canvasWidth:B,fontSize:ue}=E;(y!==ue||G!==J)&&(g.font=`${ue*$}px ${J}`,A.prevFontSize=ue,A.prevFontFamily=J);const{width:we}=g.measureText(H.textContent);we>0&&(L=`scaleX(${B*$/we})`)}0!==E.angle&&(L=`rotate(${E.angle}deg) ${L}`),L.length>0&&(q.transform=L)}class R{constructor({textContentSource:H,container:$,viewport:E,textDivs:g,textDivProperties:y,textContentItemsStr:G,isOffscreenCanvasSupported:q}){this._textContentSource=H,this._isReadableStream=H instanceof ReadableStream,this._container=this._rootContainer=$,this._textDivs=g||[],this._textContentItemsStr=G||[],this._isOffscreenCanvasSupported=q,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=y||new WeakMap,this._canceled=!1,this._capability=new h.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:E.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:T(0,q)};const{pageWidth:L,pageHeight:J,pageX:B,pageY:ue}=E.rawDims;this._transform=[1,0,0,-1,-B,ue+J],this._pageWidth=L,this._pageHeight=J,(0,C.setLayerDimensions)($,E),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new h.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new h.AbortException("TextLayer task cancelled."))}_processItems(H,$){for(const E of H)if(void 0!==E.str)this._textContentItemsStr.push(E.str),W(this,E,$);else if("beginMarkedContentProps"===E.type||"beginMarkedContent"===E.type){const g=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==E.id&&this._container.setAttribute("id",`${E.id}`),g.append(this._container)}else"endMarkedContent"===E.type&&(this._container=this._container.parentNode)}_layoutText(H){const $=this._layoutTextParams.properties=this._textDivProperties.get(H);if(this._layoutTextParams.div=H,Y(this._layoutTextParams),$.hasText&&this._container.append(H),$.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),this._container.append(E)}}_render(){const H=new h.PromiseCapability;let $=Object.create(null);if(this._isReadableStream){const E=()=>{this._reader.read().then(({value:g,done:y})=>{y?H.resolve():(Object.assign($,g.styles),this._processItems(g.items,$),E())},H.reject)};this._reader=this._textContentSource.getReader(),E()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:E,styles:g}=this._textContentSource;this._processItems(E,g),H.resolve()}}H.promise.then(()=>{$=null,function P(A){if(A._canceled)return;const H=A._textDivs,$=A._capability;if(H.length>1e5)$.resolve();else{if(!A._isReadableStream)for(const g of H)A._layoutText(g);$.resolve()}}(this)},this._capability.reject)}}u.TextLayerRenderTask=R},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditorLayer=void 0;var h=F(1),C=F(5),O=F(28),N=F(29),Q=F(6);u.AnnotationEditorLayer=(()=>{var T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,k=new WeakMap,w=new WeakMap,A=new WeakSet,H=new WeakSet,$=new WeakSet,E=new WeakSet;class g{constructor(B){_classPrivateMethodInitSpec(this,E),_classPrivateMethodInitSpec(this,$),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,A),_classPrivateFieldInitSpec(this,T,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.pointerup.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.pointerdown.bind(this)}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:void 0}),g._initialized||(g._initialized=!0,O.FreeTextEditor.initialize(B.l10n),N.InkEditor.initialize(B.l10n)),B.uiManager.registerEditorTypes([O.FreeTextEditor,N.InkEditor]),_classPrivateFieldSet(this,w,B.uiManager),this.pageIndex=B.pageIndex,this.div=B.div,_classPrivateFieldSet(this,T,B.accessibilityManager),_classPrivateFieldGet(this,w).addLayer(this)}get isEmpty(){return 0===_classPrivateFieldGet(this,P).size}updateToolbar(B){_classPrivateFieldGet(this,w).updateToolbar(B)}updateMode(B=_classPrivateFieldGet(this,w).getMode()){_classPrivateMethodGet(this,E,L).call(this),B===h.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),_classPrivateFieldGet(this,w).unselectAll(),B!==h.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",B===h.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",B===h.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(B){if(B||_classPrivateFieldGet(this,w).getMode()===h.AnnotationEditorType.INK){if(!B)for(const we of _classPrivateFieldGet(this,P).values())if(we.isEmpty())return void we.setInBackground();_classPrivateMethodGet(this,$,q).call(this,{offsetX:0,offsetY:0}).setInBackground()}}setEditingState(B){_classPrivateFieldGet(this,w).setEditingState(B)}addCommands(B){_classPrivateFieldGet(this,w).addCommands(B)}enable(){this.div.style.pointerEvents="auto";for(const B of _classPrivateFieldGet(this,P).values())B.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const B of _classPrivateFieldGet(this,P).values())B.disableEditing();_classPrivateMethodGet(this,E,L).call(this),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(B){_classPrivateFieldGet(this,w).getActive()!==B&&_classPrivateFieldGet(this,w).setActiveEditor(B)}enableClick(){this.div.addEventListener("pointerdown",_classPrivateFieldGet(this,Y)),this.div.addEventListener("pointerup",_classPrivateFieldGet(this,W))}disableClick(){this.div.removeEventListener("pointerdown",_classPrivateFieldGet(this,Y)),this.div.removeEventListener("pointerup",_classPrivateFieldGet(this,W))}attach(B){_classPrivateFieldGet(this,P).set(B.id,B)}detach(B){_classPrivateFieldGet(this,P).delete(B.id),_classPrivateFieldGet(this,T)?.removePointerInTextLayer(B.contentDiv)}remove(B){_classPrivateFieldGet(this,w).removeEditor(B),this.detach(B),B.div.style.display="none",setTimeout(()=>{B.div.style.display="",B.div.remove(),B.isAttachedToDOM=!1,document.activeElement===document.body&&_classPrivateFieldGet(this,w).focusMainContainer()},0),_classPrivateFieldGet(this,k)||this.addInkEditorIfNeeded(!1)}add(B){if(_classPrivateMethodGet(this,A,y).call(this,B),_classPrivateFieldGet(this,w).addEditor(B),this.attach(B),!B.isAttachedToDOM){const ue=B.render();this.div.append(ue),B.isAttachedToDOM=!0}this.moveEditorInDOM(B),B.onceAdded(),_classPrivateFieldGet(this,w).addToAnnotationStorage(B)}moveEditorInDOM(B){_classPrivateFieldGet(this,T)?.moveElementInDOM(this.div,B.div,B.contentDiv,!0)}addOrRebuild(B){B.needsToBeRebuilt()?B.rebuild():this.add(B)}addANewEditor(B){this.addCommands({cmd:()=>{this.addOrRebuild(B)},undo:()=>{B.remove()},mustExec:!0})}addUndoableEditor(B){this.addCommands({cmd:()=>{this.addOrRebuild(B)},undo:()=>{B.remove()},mustExec:!1})}getNextId(){return _classPrivateFieldGet(this,w).getId()}deserialize(B){switch(B.annotationType){case h.AnnotationEditorType.FREETEXT:return O.FreeTextEditor.deserialize(B,this,_classPrivateFieldGet(this,w));case h.AnnotationEditorType.INK:return N.InkEditor.deserialize(B,this,_classPrivateFieldGet(this,w))}return null}setSelected(B){_classPrivateFieldGet(this,w).setSelected(B)}toggleSelected(B){_classPrivateFieldGet(this,w).toggleSelected(B)}isSelected(B){return _classPrivateFieldGet(this,w).isSelected(B)}unselect(B){_classPrivateFieldGet(this,w).unselect(B)}pointerup(B){const{isMac:ue}=h.FeatureTest.platform;if(!(0!==B.button||B.ctrlKey&&ue)&&B.target===this.div&&_classPrivateFieldGet(this,R)){if(_classPrivateFieldSet(this,R,!1),!_classPrivateFieldGet(this,x))return void _classPrivateFieldSet(this,x,!0);_classPrivateMethodGet(this,$,q).call(this,B)}}pointerdown(B){const{isMac:ue}=h.FeatureTest.platform;if(0!==B.button||B.ctrlKey&&ue||B.target!==this.div)return;_classPrivateFieldSet(this,R,!0);const we=_classPrivateFieldGet(this,w).getActive();_classPrivateFieldSet(this,x,!we||we.isEmpty())}drop(B){const ue=B.dataTransfer.getData("text/plain"),we=_classPrivateFieldGet(this,w).getEditor(ue);if(!we)return;B.preventDefault(),B.dataTransfer.dropEffect="move",_classPrivateMethodGet(this,A,y).call(this,we);const ve=this.div.getBoundingClientRect();we.translate(B.clientX-ve.x-we.startX,B.clientY-ve.y-we.startY),this.moveEditorInDOM(we),we.div.focus()}dragover(B){B.preventDefault()}destroy(){_classPrivateFieldGet(this,w).getActive()?.parent===this&&_classPrivateFieldGet(this,w).setActiveEditor(null);for(const B of _classPrivateFieldGet(this,P).values())_classPrivateFieldGet(this,T)?.removePointerInTextLayer(B.contentDiv),B.setParent(null),B.isAttachedToDOM=!1,B.div.remove();this.div=null,_classPrivateFieldGet(this,P).clear(),_classPrivateFieldGet(this,w).removeLayer(this)}render({viewport:B}){this.viewport=B,(0,Q.setLayerDimensions)(this.div,B),(0,C.bindEvents)(this,this.div,["dragover","drop"]);for(const ue of _classPrivateFieldGet(this,w).getEditors(this.pageIndex))this.add(ue);this.updateMode()}update({viewport:B}){_classPrivateFieldGet(this,w).commitOrRemove(),this.viewport=B,(0,Q.setLayerDimensions)(this.div,{rotation:B.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:B,pageHeight:ue}=this.viewport.rawDims;return[B,ue]}}function y(J){J.parent!==this&&(this.attach(J),J.parent?.detach(J),J.setParent(this),J.div&&J.isAttachedToDOM&&(J.div.remove(),this.div.append(J.div)))}function G(J){switch(_classPrivateFieldGet(this,w).getMode()){case h.AnnotationEditorType.FREETEXT:return new O.FreeTextEditor(J);case h.AnnotationEditorType.INK:return new N.InkEditor(J)}return null}function q(J){const B=this.getNextId(),ue=_classPrivateMethodGet(this,H,G).call(this,{parent:this,id:B,x:J.offsetX,y:J.offsetY,uiManager:_classPrivateFieldGet(this,w)});return ue&&this.add(ue),ue}function L(){_classPrivateFieldSet(this,k,!0);for(const J of _classPrivateFieldGet(this,P).values())J.isEmpty()&&J.remove();_classPrivateFieldSet(this,k,!1)}return _defineProperty(g,"_initialized",!1),g})()},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FreeTextEditor=void 0;var h=F(1),C=F(5),O=F(4),N=new WeakMap,Q=new WeakMap,te=new WeakMap,T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,k=new WeakSet,w=new WeakSet,A=new WeakSet,H=new WeakSet;class $ extends O.AnnotationEditor{constructor(L){super({...L,name:"freeTextEditor"}),_classPrivateMethodInitSpec(this,H),_classPrivateMethodInitSpec(this,A),_classPrivateMethodInitSpec(this,w),_classPrivateMethodInitSpec(this,k),_classPrivateFieldInitSpec(this,N,{writable:!0,value:this.editorDivBlur.bind(this)}),_classPrivateFieldInitSpec(this,Q,{writable:!0,value:this.editorDivFocus.bind(this)}),_classPrivateFieldInitSpec(this,te,{writable:!0,value:this.editorDivInput.bind(this)}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:this.editorDivKeydown.bind(this)}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:""}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:`${this.id}-editor`}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:void 0}),_classPrivateFieldSet(this,x,L.color||$._defaultColor||O.AnnotationEditor._defaultLineColor),_classPrivateFieldSet(this,R,L.fontSize||$._defaultFontSize)}static initialize(L){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(B=>[B,L.get(B)]));const J=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(J.getPropertyValue("--freetext-padding"))}static updateDefaultParams(L,J){switch(L){case h.AnnotationEditorParamsType.FREETEXT_SIZE:$._defaultFontSize=J;break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:$._defaultColor=J}}updateParams(L,J){switch(L){case h.AnnotationEditorParamsType.FREETEXT_SIZE:_classPrivateMethodGet(this,k,E).call(this,J);break;case h.AnnotationEditorParamsType.FREETEXT_COLOR:_classPrivateMethodGet(this,w,g).call(this,J)}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,$._defaultFontSize],[h.AnnotationEditorParamsType.FREETEXT_COLOR,$._defaultColor||O.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.FREETEXT_SIZE,_classPrivateFieldGet(this,R)],[h.AnnotationEditorParamsType.FREETEXT_COLOR,_classPrivateFieldGet(this,x)]]}getInitialTranslation(){const L=this.parentScale;return[-$._internalPadding*L,-($._internalPadding+_classPrivateFieldGet(this,R))*L]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(h.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_classPrivateFieldGet(this,T)),this.editorDiv.addEventListener("focus",_classPrivateFieldGet(this,Q)),this.editorDiv.addEventListener("blur",_classPrivateFieldGet(this,N)),this.editorDiv.addEventListener("input",_classPrivateFieldGet(this,te)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_classPrivateFieldGet(this,Y)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",_classPrivateFieldGet(this,T)),this.editorDiv.removeEventListener("focus",_classPrivateFieldGet(this,Q)),this.editorDiv.removeEventListener("blur",_classPrivateFieldGet(this,N)),this.editorDiv.removeEventListener("input",_classPrivateFieldGet(this,te)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(L){super.focusin(L),L.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),_classPrivateFieldGet(this,P)||(_classPrivateFieldSet(this,P,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),_classPrivateFieldSet(this,W,_classPrivateMethodGet(this,A,y).call(this).trimEnd()),_classPrivateMethodGet(this,H,G).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(L){this.enableEditMode(),this.editorDiv.focus()}keydown(L){L.target===this.div&&"Enter"===L.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(L){$._keyboardManager.exec(this,L)}editorDivFocus(L){this.isEditing=!0}editorDivBlur(L){this.isEditing=!1}editorDivInput(L){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let L,J;this.width&&(L=this.x,J=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_classPrivateFieldGet(this,Y)),this.enableEditing(),$._l10nPromise.get("editor_free_text2_aria_label").then(ue=>this.editorDiv?.setAttribute("aria-label",ue)),$._l10nPromise.get("free_text2_default_content").then(ue=>this.editorDiv?.setAttribute("default-content",ue)),this.editorDiv.contentEditable=!0;const{style:B}=this.editorDiv;if(B.fontSize=`calc(${_classPrivateFieldGet(this,R)}px * var(--scale-factor))`,B.color=_classPrivateFieldGet(this,x),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,C.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[ue,we]=this.parentDimensions;this.setAt(L*ue,J*we,this.width*ue,this.height*we);for(const ve of _classPrivateFieldGet(this,W).split("\n")){const Ae=document.createElement("div");Ae.append(ve?document.createTextNode(ve):document.createElement("br")),this.editorDiv.append(Ae)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(L,J,B){const ue=super.deserialize(L,J,B);return _classPrivateFieldSet(ue,R,L.fontSize),_classPrivateFieldSet(ue,x,h.Util.makeHexColor(...L.color)),_classPrivateFieldSet(ue,W,L.value),ue}serialize(){if(this.isEmpty())return null;const L=$._internalPadding*this.parentScale,J=this.getRect(L,L),B=O.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_classPrivateFieldGet(this,x));return{annotationType:h.AnnotationEditorType.FREETEXT,color:B,fontSize:_classPrivateFieldGet(this,R),value:_classPrivateFieldGet(this,W),pageIndex:this.pageIndex,rect:J,rotation:this.rotation}}}function E(q){const L=B=>{this.editorDiv.style.fontSize=`calc(${B}px * var(--scale-factor))`,this.translate(0,-(B-_classPrivateFieldGet(this,R))*this.parentScale),_classPrivateFieldSet(this,R,B),_classPrivateMethodGet(this,H,G).call(this)},J=_classPrivateFieldGet(this,R);this.addCommands({cmd:()=>{L(q)},undo:()=>{L(J)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function g(q){const L=_classPrivateFieldGet(this,x);this.addCommands({cmd:()=>{_classPrivateFieldSet(this,x,this.editorDiv.style.color=q)},undo:()=>{_classPrivateFieldSet(this,x,this.editorDiv.style.color=L)},mustExec:!0,type:h.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function y(){const q=this.editorDiv.getElementsByTagName("div");if(0===q.length)return this.editorDiv.innerText;const L=[];for(const J of q)L.push(J.innerText.replace(/\r\n?|\n/,""));return L.join("\n")}function G(){const[q,L]=this.parentDimensions;let J;if(this.isAttachedToDOM)J=this.div.getBoundingClientRect();else{const{currentLayer:B,div:ue}=this,we=ue.style.display;ue.style.display="hidden",B.div.append(this.div),J=ue.getBoundingClientRect(),ue.remove(),ue.style.display=we}this.width=J.width/q,this.height=J.height/L}_defineProperty($,"_freeTextDefaultContent",""),_defineProperty($,"_l10nPromise",void 0),_defineProperty($,"_internalPadding",0),_defineProperty($,"_defaultColor",null),_defineProperty($,"_defaultFontSize",10),_defineProperty($,"_keyboardManager",new C.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$.prototype.commitOrRemove]])),_defineProperty($,"_type","freetext"),u.FreeTextEditor=$},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.InkEditor=void 0;var h=F(1),C=F(4),O=F(5);const N=16;u.InkEditor=(()=>{var te=new WeakMap,T=new WeakMap,x=new WeakMap,W=new WeakMap,Y=new WeakMap,P=new WeakMap,R=new WeakMap,k=new WeakMap,w=new WeakMap,A=new WeakMap,H=new WeakMap,$=new WeakMap,E=new WeakMap,g=new WeakMap,y=new WeakMap,G=new WeakMap,q=new WeakSet,L=new WeakSet,J=new WeakSet,B=new WeakSet,ue=new WeakSet,we=new WeakSet,ve=new WeakSet,Ae=new WeakSet,Pe=new WeakSet,Le=new WeakSet,Se=new WeakSet,Ee=new WeakSet,Ne=new WeakSet,qe=new WeakSet,Xe=new WeakSet,ee=new WeakSet,v=new WeakSet,b=new WeakSet,M=new WeakSet,X=new WeakSet,z=new WeakSet,U=new WeakSet,d=new WeakSet,p=new WeakSet,m=new WeakSet,S=new WeakSet;class D extends C.AnnotationEditor{constructor(he){super({...he,name:"inkEditor"}),_classPrivateMethodInitSpec(this,S),_classPrivateMethodInitSpec(this,m),_classPrivateMethodInitSpec(this,p),_classPrivateMethodInitSpec(this,d),_classPrivateMethodInitSpec(this,U),_classPrivateMethodInitSpec(this,z),_classPrivateMethodInitSpec(this,X),_classPrivateMethodInitSpec(this,M),_classPrivateMethodInitSpec(this,b),_classPrivateMethodInitSpec(this,v),_classPrivateMethodInitSpec(this,ee),_classPrivateMethodInitSpec(this,Xe),_classPrivateMethodInitSpec(this,qe),_classPrivateMethodInitSpec(this,Ne),_classPrivateMethodInitSpec(this,Ee),_classPrivateMethodInitSpec(this,Se),_classPrivateMethodInitSpec(this,Le),_classPrivateMethodInitSpec(this,Pe),_classPrivateMethodInitSpec(this,Ae),_classPrivateMethodInitSpec(this,ve),_classPrivateMethodInitSpec(this,we),_classPrivateMethodInitSpec(this,ue),_classPrivateMethodInitSpec(this,B),_classPrivateMethodInitSpec(this,J),_classPrivateMethodInitSpec(this,L),_classPrivateMethodInitSpec(this,q),_classPrivateFieldInitSpec(this,te,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,T,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,x,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,W,{writable:!0,value:this.canvasContextMenu.bind(this)}),_classPrivateFieldInitSpec(this,Y,{writable:!0,value:this.canvasPointermove.bind(this)}),_classPrivateFieldInitSpec(this,P,{writable:!0,value:this.canvasPointerleave.bind(this)}),_classPrivateFieldInitSpec(this,R,{writable:!0,value:this.canvasPointerup.bind(this)}),_classPrivateFieldInitSpec(this,k,{writable:!0,value:this.canvasPointerdown.bind(this)}),_classPrivateFieldInitSpec(this,w,{writable:!0,value:new Path2D}),_classPrivateFieldInitSpec(this,A,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,H,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,$,{writable:!0,value:!1}),_classPrivateFieldInitSpec(this,E,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,g,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,y,{writable:!0,value:0}),_classPrivateFieldInitSpec(this,G,{writable:!0,value:null}),this.color=he.color||null,this.thickness=he.thickness||null,this.opacity=he.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(he){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(Me=>[Me,he.get(Me)]))}static updateDefaultParams(he,Me){switch(he){case h.AnnotationEditorParamsType.INK_THICKNESS:D._defaultThickness=Me;break;case h.AnnotationEditorParamsType.INK_COLOR:D._defaultColor=Me;break;case h.AnnotationEditorParamsType.INK_OPACITY:D._defaultOpacity=Me/100}}updateParams(he,Me){switch(he){case h.AnnotationEditorParamsType.INK_THICKNESS:_classPrivateMethodGet(this,q,V).call(this,Me);break;case h.AnnotationEditorParamsType.INK_COLOR:_classPrivateMethodGet(this,L,Z).call(this,Me);break;case h.AnnotationEditorParamsType.INK_OPACITY:_classPrivateMethodGet(this,J,ne).call(this,Me)}}static get defaultPropertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,D._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,D._defaultColor||C.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*D._defaultOpacity)]]}get propertiesToUpdate(){return[[h.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||D._defaultThickness],[h.AnnotationEditorParamsType.INK_COLOR,this.color||D._defaultColor||C.AnnotationEditor._defaultLineColor],[h.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??D._defaultOpacity))]]}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(_classPrivateMethodGet(this,Xe,le).call(this),_classPrivateMethodGet(this,ee,Te).call(this)),this.isAttachedToDOM||(this.parent.add(this),_classPrivateMethodGet(this,v,ct).call(this)),_classPrivateMethodGet(this,m,Ot).call(this))}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_classPrivateFieldGet(this,E).disconnect(),_classPrivateFieldSet(this,E,null),super.remove())}setParent(he){!this.parent&&he?this._uiManager.removeShouldRescale(this):this.parent&&null===he&&this._uiManager.addShouldRescale(this),super.setParent(he)}onScaleChanging(){const[he,Me]=this.parentDimensions;this.setDimensions(this.width*he,this.height*Me)}enableEditMode(){_classPrivateFieldGet(this,A)||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,k)))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,k)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){_classPrivateFieldGet(this,A)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_classPrivateFieldSet(this,A,!0),this.div.classList.add("disabled"),_classPrivateMethodGet(this,m,Ot).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(he){super.focusin(he),this.enableEditMode()}canvasPointerdown(he){0!==he.button||!this.isInEditMode()||_classPrivateFieldGet(this,A)||(this.setInForeground(),he.preventDefault(),"mouse"!==he.type&&this.div.focus(),_classPrivateMethodGet(this,we,se).call(this,he.offsetX,he.offsetY))}canvasContextMenu(he){he.preventDefault()}canvasPointermove(he){he.preventDefault(),_classPrivateMethodGet(this,ve,ce).call(this,he.offsetX,he.offsetY)}canvasPointerup(he){he.preventDefault(),_classPrivateMethodGet(this,qe,Ue).call(this,he)}canvasPointerleave(he){_classPrivateMethodGet(this,qe,Ue).call(this,he)}render(){if(this.div)return this.div;let he,Me;this.width&&(he=this.x,Me=this.y),super.render(),D._l10nPromise.get("editor_ink2_aria_label").then(Ve=>this.div?.setAttribute("aria-label",Ve));const[ke,xe,et,ut]=_classPrivateMethodGet(this,B,de).call(this);if(this.setAt(ke,xe,0,0),this.setDims(et,ut),_classPrivateMethodGet(this,Xe,le).call(this),this.width){const[Ve,dt]=this.parentDimensions;this.setAt(he*Ve,Me*dt,this.width*Ve,this.height*dt),_classPrivateFieldSet(this,$,!0),_classPrivateMethodGet(this,v,ct).call(this),this.setDims(this.width*Ve,this.height*dt),_classPrivateMethodGet(this,Ne,st).call(this),_classPrivateMethodGet(this,S,Vt).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _classPrivateMethodGet(this,ee,Te).call(this),this.div}setDimensions(he,Me){const ke=Math.round(he),xe=Math.round(Me);if(_classPrivateFieldGet(this,g)===ke&&_classPrivateFieldGet(this,y)===xe)return;_classPrivateFieldSet(this,g,ke),_classPrivateFieldSet(this,y,xe),this.canvas.style.visibility="hidden",_classPrivateFieldGet(this,te)&&Math.abs(_classPrivateFieldGet(this,te)-he/Me)>.01&&(Me=Math.ceil(he/_classPrivateFieldGet(this,te)),this.setDims(he,Me));const[et,ut]=this.parentDimensions;this.width=he/et,this.height=Me/ut,_classPrivateFieldGet(this,A)&&_classPrivateMethodGet(this,b,ot).call(this,he,Me),_classPrivateMethodGet(this,v,ct).call(this),_classPrivateMethodGet(this,Ne,st).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(he,Me,ke){const xe=super.deserialize(he,Me,ke);xe.thickness=he.thickness,xe.color=h.Util.makeHexColor(...he.color),xe.opacity=he.opacity;const[et,ut]=xe.pageDimensions,Ve=xe.width*et,dt=xe.height*ut,ht=xe.parentScale,Dt=he.thickness/2;_classPrivateFieldSet(xe,te,Ve/dt),_classPrivateFieldSet(xe,A,!0),_classPrivateFieldSet(xe,g,Math.round(Ve)),_classPrivateFieldSet(xe,y,Math.round(dt));for(const{bezier:tt}of he.paths){const Pt=[];xe.paths.push(Pt);let zt=ht*(tt[0]-Dt),qt=ht*(dt-tt[1]-Dt);for(let nn=2,dr=tt.length;nn<dr;nn+=6){const Wn=ht*(tt[nn+4]-Dt),Nn=ht*(dt-tt[nn+5]-Dt);Pt.push([[zt,qt],[ht*(tt[nn]-Dt),ht*(dt-tt[nn+1]-Dt)],[ht*(tt[nn+2]-Dt),ht*(dt-tt[nn+3]-Dt)],[Wn,Nn]]),zt=Wn,qt=Nn}const hn=_classStaticPrivateMethodGet(this,D,xt).call(this,Pt);xe.bezierPath2D.push(hn)}const Ct=_classPrivateMethodGet(xe,d,Oe).call(xe);return _classPrivateFieldSet(xe,x,Math.max(N,Ct[2]-Ct[0])),_classPrivateFieldSet(xe,T,Math.max(N,Ct[3]-Ct[1])),_classPrivateMethodGet(xe,b,ot).call(xe,Ve,dt),xe}serialize(){if(this.isEmpty())return null;const he=this.getRect(0,0),Me=this.rotation%180==0?he[3]-he[1]:he[2]-he[0],ke=C.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:h.AnnotationEditorType.INK,color:ke,thickness:this.thickness,opacity:this.opacity,paths:_classPrivateMethodGet(this,X,_e).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,Me),pageIndex:this.pageIndex,rect:he,rotation:this.rotation}}}function V(Ce){const he=this.thickness;this.addCommands({cmd:()=>{this.thickness=Ce,_classPrivateMethodGet(this,m,Ot).call(this)},undo:()=>{this.thickness=he,_classPrivateMethodGet(this,m,Ot).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Z(Ce){const he=this.color;this.addCommands({cmd:()=>{this.color=Ce,_classPrivateMethodGet(this,Ne,st).call(this)},undo:()=>{this.color=he,_classPrivateMethodGet(this,Ne,st).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function ne(Ce){Ce/=100;const he=this.opacity;this.addCommands({cmd:()=>{this.opacity=Ce,_classPrivateMethodGet(this,Ne,st).call(this)},undo:()=>{this.opacity=he,_classPrivateMethodGet(this,Ne,st).call(this)},mustExec:!0,type:h.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function de(){const{parentRotation:Ce,parentDimensions:[he,Me]}=this;switch(Ce){case 90:return[0,Me,Me,he];case 180:return[he,Me,he,Me];case 270:return[he,0,Me,he];default:return[0,0,he,Me]}}function pe(){const{ctx:Ce,color:he,opacity:Me,thickness:ke,parentScale:xe,scaleFactor:et}=this;Ce.lineWidth=ke*xe/et,Ce.lineCap="round",Ce.lineJoin="round",Ce.miterLimit=10,Ce.strokeStyle=`${he}${(0,O.opacityToHex)(Me)}`}function se(Ce,he){this.canvas.addEventListener("contextmenu",_classPrivateFieldGet(this,W)),this.canvas.addEventListener("pointerleave",_classPrivateFieldGet(this,P)),this.canvas.addEventListener("pointermove",_classPrivateFieldGet(this,Y)),this.canvas.addEventListener("pointerup",_classPrivateFieldGet(this,R)),this.canvas.removeEventListener("pointerdown",_classPrivateFieldGet(this,k)),this.isEditing=!0,_classPrivateFieldGet(this,$)||(_classPrivateFieldSet(this,$,!0),_classPrivateMethodGet(this,v,ct).call(this),this.thickness||=D._defaultThickness,this.color||=D._defaultColor||C.AnnotationEditor._defaultLineColor,this.opacity??=D._defaultOpacity),this.currentPath.push([Ce,he]),_classPrivateFieldSet(this,H,!1),_classPrivateMethodGet(this,ue,pe).call(this),_classPrivateFieldSet(this,G,()=>{_classPrivateMethodGet(this,Le,Re).call(this),_classPrivateFieldGet(this,G)&&window.requestAnimationFrame(_classPrivateFieldGet(this,G))}),window.requestAnimationFrame(_classPrivateFieldGet(this,G))}function ce(Ce,he){const[Me,ke]=this.currentPath.at(-1);if(this.currentPath.length>1&&Ce===Me&&he===ke)return;const xe=this.currentPath;let et=_classPrivateFieldGet(this,w);if(xe.push([Ce,he]),_classPrivateFieldSet(this,H,!0),xe.length<=2)return et.moveTo(...xe[0]),void et.lineTo(Ce,he);3===xe.length&&(_classPrivateFieldSet(this,w,et=new Path2D),et.moveTo(...xe[0])),_classPrivateMethodGet(this,Se,Fe).call(this,et,...xe.at(-3),...xe.at(-2),Ce,he)}function ge(){if(0===this.currentPath.length)return;const Ce=this.currentPath.at(-1);_classPrivateFieldGet(this,w).lineTo(...Ce)}function ye(Ce,he){let Me;if(_classPrivateFieldSet(this,G,null),Ce=Math.min(Math.max(Ce,0),this.canvas.width),he=Math.min(Math.max(he,0),this.canvas.height),_classPrivateMethodGet(this,ve,ce).call(this,Ce,he),_classPrivateMethodGet(this,Ae,ge).call(this),1!==this.currentPath.length)Me=_classPrivateMethodGet(this,Ee,We).call(this);else{const Ve=[Ce,he];Me=[[Ve,Ve.slice(),Ve.slice(),Ve]]}const ke=_classPrivateFieldGet(this,w),xe=this.currentPath;this.currentPath=[],_classPrivateFieldSet(this,w,new Path2D),this.addCommands({cmd:()=>{this.allRawPaths.push(xe),this.paths.push(Me),this.bezierPath2D.push(ke),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(_classPrivateMethodGet(this,Xe,le).call(this),_classPrivateMethodGet(this,ee,Te).call(this)),_classPrivateMethodGet(this,m,Ot).call(this))},mustExec:!0})}function Re(){if(!_classPrivateFieldGet(this,H))return;_classPrivateFieldSet(this,H,!1),Math.ceil(this.thickness*this.parentScale);const he=this.currentPath.slice(-3),Me=he.map(ht=>ht[0]),ke=he.map(ht=>ht[1]),{ctx:dt}=(Math.min(...Me),Math.max(...Me),Math.min(...ke),Math.max(...ke),this);dt.save(),dt.clearRect(0,0,this.canvas.width,this.canvas.height);for(const ht of this.bezierPath2D)dt.stroke(ht);dt.stroke(_classPrivateFieldGet(this,w)),dt.restore()}function Fe(Ce,he,Me,ke,xe,et,ut){const Ve=(he+ke)/2,dt=(Me+xe)/2,ht=(ke+et)/2,Dt=(xe+ut)/2;Ce.bezierCurveTo(Ve+2*(ke-Ve)/3,dt+2*(xe-dt)/3,ht+2*(ke-ht)/3,Dt+2*(xe-Dt)/3,ht,Dt)}function We(){const Ce=this.currentPath;if(Ce.length<=2)return[[Ce[0],Ce[0],Ce.at(-1),Ce.at(-1)]];const he=[];let Me,[ke,xe]=Ce[0];for(Me=1;Me<Ce.length-2;Me++){const[Ct,tt]=Ce[Me],[Pt,zt]=Ce[Me+1],qt=(Ct+Pt)/2,hn=(tt+zt)/2;he.push([[ke,xe],[ke+2*(Ct-ke)/3,xe+2*(tt-xe)/3],[qt+2*(Ct-qt)/3,hn+2*(tt-hn)/3],[qt,hn]]),[ke,xe]=[qt,hn]}const[et,ut]=Ce[Me],[Ve,dt]=Ce[Me+1];return he.push([[ke,xe],[ke+2*(et-ke)/3,xe+2*(ut-xe)/3],[Ve+2*(et-Ve)/3,dt+2*(ut-dt)/3],[Ve,dt]]),he}function st(){if(this.isEmpty())return void _classPrivateMethodGet(this,M,Nt).call(this);_classPrivateMethodGet(this,ue,pe).call(this);const{canvas:Ce,ctx:he}=this;he.setTransform(1,0,0,1,0,0),he.clearRect(0,0,Ce.width,Ce.height),_classPrivateMethodGet(this,M,Nt).call(this);for(const Me of this.bezierPath2D)he.stroke(Me)}function Ue(Ce){this.canvas.removeEventListener("pointerleave",_classPrivateFieldGet(this,P)),this.canvas.removeEventListener("pointermove",_classPrivateFieldGet(this,Y)),this.canvas.removeEventListener("pointerup",_classPrivateFieldGet(this,R)),this.canvas.addEventListener("pointerdown",_classPrivateFieldGet(this,k)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",_classPrivateFieldGet(this,W))},10),_classPrivateMethodGet(this,Pe,ye).call(this,Ce.offsetX,Ce.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function le(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",D._l10nPromise.get("editor_ink_canvas_aria_label").then(Ce=>this.canvas?.setAttribute("aria-label",Ce)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Te(){_classPrivateFieldSet(this,E,new ResizeObserver(Ce=>{const he=Ce[0].contentRect;he.width&&he.height&&this.setDimensions(he.width,he.height)})),_classPrivateFieldGet(this,E).observe(this.div)}function ct(){if(!_classPrivateFieldGet(this,$))return;const[Ce,he]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Ce),this.canvas.height=Math.ceil(this.height*he),_classPrivateMethodGet(this,M,Nt).call(this)}function ot(Ce,he){const Me=_classPrivateMethodGet(this,p,bt).call(this),ke=(Ce-Me)/_classPrivateFieldGet(this,x),xe=(he-Me)/_classPrivateFieldGet(this,T);this.scaleFactor=Math.min(ke,xe)}function Nt(){const Ce=_classPrivateMethodGet(this,p,bt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Ce,this.translationY*this.scaleFactor+Ce)}function xt(Ce){const he=new Path2D;for(let Me=0,ke=Ce.length;Me<ke;Me++){const[xe,et,ut,Ve]=Ce[Me];0===Me&&he.moveTo(...xe),he.bezierCurveTo(et[0],et[1],ut[0],ut[1],Ve[0],Ve[1])}return he}function _e(Ce,he,Me,ke){const et=[],ut=this.thickness/2;let Ve,dt;for(const ht of this.paths){Ve=[],dt=[];for(let Dt=0,Ct=ht.length;Dt<Ct;Dt++){const[tt,Pt,zt,qt]=ht[Dt],hn=Ce*(tt[0]+he)+ut,nn=ke-Ce*(tt[1]+Me)-ut,dr=Ce*(Pt[0]+he)+ut,Ti=ke-Ce*(Pt[1]+Me)-ut,An=Ce*(zt[0]+he)+ut,Ii=ke-Ce*(zt[1]+Me)-ut,$t=Ce*(qt[0]+he)+ut,Wn=ke-Ce*(qt[1]+Me)-ut;0===Dt&&(Ve.push(hn,nn),dt.push(hn,nn)),Ve.push(dr,Ti,An,Ii,$t,Wn),_classPrivateMethodGet(this,z,ie).call(this,hn,nn,dr,Ti,An,Ii,$t,Wn,4,dt)}et.push({bezier:Ve,points:dt})}return et}function ie(Ce,he,Me,ke,xe,et,ut,Ve,dt,ht){if(_classPrivateMethodGet(this,U,oe).call(this,Ce,he,Me,ke,xe,et,ut,Ve))ht.push(ut,Ve);else{for(let Dt=1;Dt<dt-1;Dt++){const Ct=Dt/dt,tt=1-Ct;let Pt=Ct*Ce+tt*Me,zt=Ct*he+tt*ke,qt=Ct*Me+tt*xe,hn=Ct*ke+tt*et;Pt=Ct*Pt+tt*qt,zt=Ct*zt+tt*hn,qt=Ct*qt+tt*(Ct*xe+tt*ut),hn=Ct*hn+tt*(Ct*et+tt*Ve),Pt=Ct*Pt+tt*qt,zt=Ct*zt+tt*hn,ht.push(Pt,zt)}ht.push(ut,Ve)}}function oe(Ce,he,Me,ke,xe,et,ut,Ve){const Dt=(3*ke-2*he-Ve)**2,tt=(3*et-he-2*Ve)**2;return Math.max((3*Me-2*Ce-ut)**2,(3*xe-Ce-2*ut)**2)+Math.max(Dt,tt)<=10}function Oe(){let Ce=1/0,he=-1/0,Me=1/0,ke=-1/0;for(const xe of this.paths)for(const[et,ut,Ve,dt]of xe){const ht=h.Util.bezierBoundingBox(...et,...ut,...Ve,...dt);Ce=Math.min(Ce,ht[0]),Me=Math.min(Me,ht[1]),he=Math.max(he,ht[2]),ke=Math.max(ke,ht[3])}return[Ce,Me,he,ke]}function bt(){return _classPrivateFieldGet(this,A)?Math.ceil(this.thickness*this.parentScale):0}function Ot(Ce=!1){if(this.isEmpty())return;if(!_classPrivateFieldGet(this,A))return void _classPrivateMethodGet(this,Ne,st).call(this);const he=_classPrivateMethodGet(this,d,Oe).call(this),Me=_classPrivateMethodGet(this,p,bt).call(this);_classPrivateFieldSet(this,x,Math.max(N,he[2]-he[0])),_classPrivateFieldSet(this,T,Math.max(N,he[3]-he[1]));const ke=Math.ceil(Me+_classPrivateFieldGet(this,x)*this.scaleFactor),xe=Math.ceil(Me+_classPrivateFieldGet(this,T)*this.scaleFactor),[et,ut]=this.parentDimensions;this.width=ke/et,this.height=xe/ut,_classPrivateFieldSet(this,te,ke/xe),_classPrivateMethodGet(this,S,Vt).call(this);const Ve=this.translationX,dt=this.translationY;this.translationX=-he[0],this.translationY=-he[1],_classPrivateMethodGet(this,v,ct).call(this),_classPrivateMethodGet(this,Ne,st).call(this),_classPrivateFieldSet(this,g,ke),_classPrivateFieldSet(this,y,xe),this.setDims(ke,xe);const ht=Ce?Me/this.scaleFactor/2:0;this.translate(Ve-this.translationX-ht,dt-this.translationY-ht)}function Vt(){const{style:Ce}=this.div;_classPrivateFieldGet(this,te)>=1?(Ce.minHeight="16px",Ce.minWidth=`${Math.round(_classPrivateFieldGet(this,te)*N)}px`):(Ce.minWidth="16px",Ce.minHeight=`${Math.round(N/_classPrivateFieldGet(this,te))}px`)}return _defineProperty(D,"_defaultColor",null),_defineProperty(D,"_defaultOpacity",1),_defineProperty(D,"_defaultThickness",1),_defineProperty(D,"_l10nPromise",void 0),_defineProperty(D,"_type","ink"),D})()},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayer=void 0;var h=F(1),C=F(6),O=F(3),N=F(31),Q=F(32);const x=new WeakSet;function W(U){return{width:U[2]-U[0],height:U[3]-U[1]}}class Y{static create(d){switch(d.data.annotationType){case h.AnnotationType.LINK:return new w(d);case h.AnnotationType.TEXT:return new $(d);case h.AnnotationType.WIDGET:switch(d.data.fieldType){case"Tx":return new g(d);case"Btn":return d.data.radioButton?new G(d):d.data.checkBox?new y(d):new q(d);case"Ch":return new L(d)}return new E(d);case h.AnnotationType.POPUP:return new J(d);case h.AnnotationType.FREETEXT:return new ue(d);case h.AnnotationType.LINE:return new we(d);case h.AnnotationType.SQUARE:return new ve(d);case h.AnnotationType.CIRCLE:return new Ae(d);case h.AnnotationType.POLYLINE:return new Pe(d);case h.AnnotationType.CARET:return new Se(d);case h.AnnotationType.INK:return new Ee(d);case h.AnnotationType.POLYGON:return new Le(d);case h.AnnotationType.HIGHLIGHT:return new Ne(d);case h.AnnotationType.UNDERLINE:return new qe(d);case h.AnnotationType.SQUIGGLY:return new Xe(d);case h.AnnotationType.STRIKEOUT:return new ee(d);case h.AnnotationType.STAMP:return new v(d);case h.AnnotationType.FILEATTACHMENT:return new b(d);default:return new P(d)}}}class P{constructor(d,{isRenderable:p=!1,ignoreBorder:m=!1,createQuadrilaterals:S=!1}={}){this.isRenderable=p,this.data=d.data,this.layer=d.layer,this.page=d.page,this.viewport=d.viewport,this.linkService=d.linkService,this.downloadManager=d.downloadManager,this.imageResourcesPath=d.imageResourcesPath,this.renderForms=d.renderForms,this.svgFactory=d.svgFactory,this.annotationStorage=d.annotationStorage,this.enableScripting=d.enableScripting,this.hasJSActions=d.hasJSActions,this._fieldObjects=d.fieldObjects,p&&(this.container=this._createContainer(m)),S&&(this.quadrilaterals=this._createQuadrilaterals(m))}_createContainer(d=!1){const{data:p,page:m,viewport:S}=this,D=document.createElement("section");D.setAttribute("data-annotation-id",p.id),p.noRotate&&D.classList.add("norotate");const{pageWidth:V,pageHeight:Z,pageX:ne,pageY:de}=S.rawDims,{width:pe,height:se}=W(p.rect),ce=h.Util.normalizeRect([p.rect[0],m.view[3]-p.rect[1]+m.view[1],p.rect[2],m.view[3]-p.rect[3]+m.view[1]]);if(!d&&p.borderStyle.width>0){D.style.borderWidth=`${p.borderStyle.width}px`;const ye=p.borderStyle.horizontalCornerRadius,Re=p.borderStyle.verticalCornerRadius;switch(ye>0||Re>0?D.style.borderRadius=`calc(${ye}px * var(--scale-factor)) / calc(${Re}px * var(--scale-factor))`:this instanceof G&&(D.style.borderRadius=`calc(${pe}px * var(--scale-factor)) / calc(${se}px * var(--scale-factor))`),p.borderStyle.style){case h.AnnotationBorderStyleType.SOLID:D.style.borderStyle="solid";break;case h.AnnotationBorderStyleType.DASHED:D.style.borderStyle="dashed";break;case h.AnnotationBorderStyleType.BEVELED:(0,h.warn)("Unimplemented border style: beveled");break;case h.AnnotationBorderStyleType.INSET:(0,h.warn)("Unimplemented border style: inset");break;case h.AnnotationBorderStyleType.UNDERLINE:D.style.borderBottomStyle="solid"}const Fe=p.borderColor||null;Fe?D.style.borderColor=h.Util.makeHexColor(0|Fe[0],0|Fe[1],0|Fe[2]):D.style.borderWidth=0}D.style.left=100*(ce[0]-ne)/V+"%",D.style.top=100*(ce[1]-de)/Z+"%";const{rotation:ge}=p;return p.hasOwnCanvas||0===ge?(D.style.width=100*pe/V+"%",D.style.height=100*se/Z+"%"):this.setRotation(ge,D),D}setRotation(d,p=this.container){const{pageWidth:m,pageHeight:S}=this.viewport.rawDims,{width:D,height:V}=W(this.data.rect);let Z,ne;d%180==0?(Z=100*D/m,ne=100*V/S):(Z=100*V/m,ne=100*D/S),p.style.width=`${Z}%`,p.style.height=`${ne}%`,p.setAttribute("data-main-rotation",(360-d)%360)}get _commonActions(){const d=(p,m,S)=>{const D=S.detail[p];S.target.style[m]=N.ColorConverters[`${D[0]}_HTML`](D.slice(1))};return(0,h.shadow)(this,"_commonActions",{display:p=>{const m=p.detail.display%2==1;this.container.style.visibility=m?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:m,print:0===p.detail.display||3===p.detail.display})},print:p=>{this.annotationStorage.setValue(this.data.id,{print:p.detail.print})},hidden:p=>{this.container.style.visibility=p.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:p.detail.hidden})},focus:p=>{setTimeout(()=>p.target.focus({preventScroll:!1}),0)},userName:p=>{p.target.title=p.detail.userName},readonly:p=>{p.detail.readonly?p.target.setAttribute("readonly",""):p.target.removeAttribute("readonly")},required:p=>{this._setRequired(p.target,p.detail.required)},bgColor:p=>{d("bgColor","backgroundColor",p)},fillColor:p=>{d("fillColor","backgroundColor",p)},fgColor:p=>{d("fgColor","color",p)},textColor:p=>{d("textColor","color",p)},borderColor:p=>{d("borderColor","borderColor",p)},strokeColor:p=>{d("strokeColor","borderColor",p)},rotation:p=>{const m=p.detail.rotation;this.setRotation(m),this.annotationStorage.setValue(this.data.id,{rotation:m})}})}_dispatchEventFromSandbox(d,p){const m=this._commonActions;for(const S of Object.keys(p.detail))(d[S]||m[S])?.(p)}_setDefaultPropertiesFromJS(d){if(!this.enableScripting)return;const p=this.annotationStorage.getRawValue(this.data.id);if(!p)return;const m=this._commonActions;for(const[S,D]of Object.entries(p)){const V=m[S];V&&(V({detail:{[S]:D},target:d}),delete p[S])}}_createQuadrilaterals(d=!1){if(!this.data.quadPoints)return null;const p=[],m=this.data.rect;for(const S of this.data.quadPoints)this.data.rect=[S[2].x,S[2].y,S[1].x,S[1].y],p.push(this._createContainer(d));return this.data.rect=m,p}_createPopup(d,p){let m=this.container;this.quadrilaterals&&(d||=this.quadrilaterals,m=this.quadrilaterals[0]),d||((d=document.createElement("div")).classList.add("popupTriggerArea"),m.append(d));const D=new B({container:m,trigger:d,color:p.color,titleObj:p.titleObj,modificationDate:p.modificationDate,contentsObj:p.contentsObj,richText:p.richText,hideWrapper:!0}).render();D.style.left="100%",m.append(D)}_renderQuadrilaterals(d){for(const p of this.quadrilaterals)p.classList.add(d);return this.quadrilaterals}render(){(0,h.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(d,p=null){const m=[];if(this._fieldObjects){const S=this._fieldObjects[d];if(S)for(const{page:D,id:V,exportValues:Z}of S){if(-1===D||V===p)continue;const ne="string"==typeof Z?Z:null,de=document.querySelector(`[data-element-id="${V}"]`);!de||x.has(de)?m.push({id:V,exportValue:ne,domElement:de}):(0,h.warn)(`_getElementsByName - element not allowed: ${V}`)}return m}for(const S of document.getElementsByName(d)){const{exportValue:D}=S,V=S.getAttribute("data-element-id");V!==p&&x.has(S)&&m.push({id:V,exportValue:D,domElement:S})}return m}}var R=new WeakSet,k=new WeakSet;class w extends P{constructor(d,p=null){super(d,{isRenderable:!0,ignoreBorder:!!p?.ignoreBorder,createQuadrilaterals:!0}),_classPrivateMethodInitSpec(this,k),_classPrivateMethodInitSpec(this,R),this.isTooltipOnly=d.data.isTooltipOnly}render(){const{data:d,linkService:p}=this,m=document.createElement("a");m.setAttribute("data-element-id",d.id);let S=!1;return d.url?(p.addLinkAttributes(m,d.url,d.newWindow),S=!0):d.action?(this._bindNamedAction(m,d.action),S=!0):d.attachment?(this._bindAttachment(m,d.attachment),S=!0):d.setOCGState?(_classPrivateMethodGet(this,k,H).call(this,m,d.setOCGState),S=!0):d.dest?(this._bindLink(m,d.dest),S=!0):(d.actions&&(d.actions.Action||d.actions["Mouse Up"]||d.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(m,d),S=!0),d.resetForm?(this._bindResetFormAction(m,d.resetForm),S=!0):this.isTooltipOnly&&!S&&(this._bindLink(m,""),S=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((D,V)=>{const Z=0===V?m:m.cloneNode();return D.append(Z),D}):(this.container.classList.add("linkAnnotation"),S&&this.container.append(m),this.container)}_bindLink(d,p){d.href=this.linkService.getDestinationHash(p),d.onclick=()=>(p&&this.linkService.goToDestination(p),!1),(p||""===p)&&_classPrivateMethodGet(this,R,A).call(this)}_bindNamedAction(d,p){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.linkService.executeNamedAction(p),!1),_classPrivateMethodGet(this,R,A).call(this)}_bindAttachment(d,p){d.href=this.linkService.getAnchorUrl(""),d.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,p.content,p.filename),!1),_classPrivateMethodGet(this,R,A).call(this)}_bindJSAction(d,p){d.href=this.linkService.getAnchorUrl("");const m=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const S of Object.keys(p.actions)){const D=m.get(S);D&&(d[D]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p.id,name:S}}),!1))}d.onclick||(d.onclick=()=>!1),_classPrivateMethodGet(this,R,A).call(this)}_bindResetFormAction(d,p){const m=d.onclick;if(m||(d.href=this.linkService.getAnchorUrl("")),_classPrivateMethodGet(this,R,A).call(this),!this._fieldObjects)return(0,h.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(m||(d.onclick=()=>!1));d.onclick=()=>{m?.();const{fields:S,refs:D,include:V}=p,Z=[];if(0!==S.length||0!==D.length){const pe=new Set(D);for(const se of S){const ce=this._fieldObjects[se]||[];for(const{id:ge}of ce)pe.add(ge)}for(const se of Object.values(this._fieldObjects))for(const ce of se)pe.has(ce.id)===V&&Z.push(ce)}else for(const pe of Object.values(this._fieldObjects))Z.push(...pe);const ne=this.annotationStorage,de=[];for(const pe of Z){const{id:se}=pe;switch(de.push(se),pe.type){case"text":case"combobox":case"listbox":ne.setValue(se,{value:pe.defaultValue||""});break;case"checkbox":case"radiobutton":ne.setValue(se,{value:pe.defaultValue===pe.exportValues});break;default:continue}const ce=document.querySelector(`[data-element-id="${se}"]`);ce&&(x.has(ce)?ce.dispatchEvent(new Event("resetform")):(0,h.warn)(`_bindResetFormAction - element not allowed: ${se}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:de,name:"ResetForm"}}),!1}}}function A(){this.container.setAttribute("data-internal-link","")}function H(U,d){U.href=this.linkService.getAnchorUrl(""),U.onclick=()=>(this.linkService.executeSetOCGState(d),!1),_classPrivateMethodGet(this,R,A).call(this)}class $ extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str)})}render(){this.container.classList.add("textAnnotation");const d=document.createElement("img");return d.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",d.alt="[{{type}} Annotation]",d.dataset.l10nId="text_annotation_type",d.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(d,this.data),this.container.append(d),this.container}}class E extends P{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(d){this.data.hasOwnCanvas&&("CANVAS"===d.previousSibling?.nodeName&&(d.previousSibling.hidden=!0),d.hidden=!1)}_getKeyModifier(d){const{isWin:p,isMac:m}=h.FeatureTest.platform;return p&&d.ctrlKey||m&&d.metaKey}_setEventListener(d,p,m,S){p.includes("mouse")?d.addEventListener(p,D=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:m,value:S(D),shift:D.shiftKey,modifier:this._getKeyModifier(D)}})}):d.addEventListener(p,D=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:m,value:S(D)}})})}_setEventListeners(d,p,m){for(const[S,D]of p)("Action"===D||this.data.actions?.[D])&&this._setEventListener(d,S,D,m)}_setBackgroundColor(d){const p=this.data.backgroundColor||null;d.style.backgroundColor=null===p?"transparent":h.Util.makeHexColor(p[0],p[1],p[2])}_setTextStyle(d){const{fontColor:m}=this.data.defaultAppearanceData,S=this.data.defaultAppearanceData.fontSize||9,D=d.style;let V;const ne=de=>Math.round(10*de)/10;if(this.data.multiLine){const de=Math.abs(this.data.rect[3]-this.data.rect[1]-2),pe=Math.round(de/(h.LINE_FACTOR*S))||1;V=Math.min(S,ne(de/pe/h.LINE_FACTOR))}else{const de=Math.abs(this.data.rect[3]-this.data.rect[1]-2);V=Math.min(S,ne(de/h.LINE_FACTOR))}D.fontSize=`calc(${V}px * var(--scale-factor))`,D.color=h.Util.makeHexColor(m[0],m[1],m[2]),null!==this.data.textAlignment&&(D.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(d,p){p?d.setAttribute("required",!0):d.removeAttribute("required"),d.setAttribute("aria-required",p)}}class g extends E{constructor(d){super(d,{isRenderable:d.renderForms||!d.data.hasAppearance&&!!d.data.fieldValue})}setPropertyOnSiblings(d,p,m,S){const D=this.annotationStorage;for(const V of this._getElementsByName(d.name,d.id))V.domElement&&(V.domElement[p]=m),D.setValue(V.id,{[S]:m})}render(){const d=this.annotationStorage,p=this.data.id;this.container.classList.add("textWidgetAnnotation");let m=null;if(this.renderForms){const S=d.getValue(p,{value:this.data.fieldValue});let D=S.value||"";const V=d.getValue(p,{charLimit:this.data.maxLen}).charLimit;V&&D.length>V&&(D=D.slice(0,V));let Z=S.formattedValue||this.data.textContent?.join("\n")||null;Z&&this.data.comb&&(Z=Z.replaceAll(/\s+/g,""));const ne={userValue:D,formattedValue:Z,lastCommittedValue:null,commitKey:1};this.data.multiLine?(m=document.createElement("textarea"),m.textContent=Z??D,this.data.doNotScroll&&(m.style.overflowY="hidden")):(m=document.createElement("input"),m.type="text",m.setAttribute("value",Z??D),this.data.doNotScroll&&(m.style.overflowX="hidden")),this.data.hasOwnCanvas&&(m.hidden=!0),x.add(m),m.setAttribute("data-element-id",p),m.disabled=this.data.readOnly,m.name=this.data.fieldName,m.tabIndex=1e3,this._setRequired(m,this.data.required),V&&(m.maxLength=V),m.addEventListener("input",pe=>{d.setValue(p,{value:pe.target.value}),this.setPropertyOnSiblings(m,"value",pe.target.value,"value"),ne.formattedValue=null}),m.addEventListener("resetform",pe=>{m.value=ne.userValue=this.data.defaultFieldValue??"",ne.formattedValue=null});let de=pe=>{const{formattedValue:se}=ne;null!=se&&(pe.target.value=se),pe.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){m.addEventListener("focus",se=>{const{target:ce}=se;ne.userValue&&(ce.value=ne.userValue),ne.lastCommittedValue=ce.value,ne.commitKey=1}),m.addEventListener("updatefromsandbox",se=>{this.showElementAndHideCanvas(se.target),this._dispatchEventFromSandbox({value(ge){ne.userValue=ge.detail.value??"",d.setValue(p,{value:ne.userValue.toString()}),ge.target.value=ne.userValue},formattedValue(ge){const{formattedValue:ye}=ge.detail;ne.formattedValue=ye,null!=ye&&ge.target!==document.activeElement&&(ge.target.value=ye),d.setValue(p,{formattedValue:ye})},selRange(ge){ge.target.setSelectionRange(...ge.detail.selRange)},charLimit:ge=>{const{charLimit:ye}=ge.detail,{target:Re}=ge;if(0===ye)return void Re.removeAttribute("maxLength");Re.setAttribute("maxLength",ye);let Fe=ne.userValue;!Fe||Fe.length<=ye||(Fe=Fe.slice(0,ye),Re.value=ne.userValue=Fe,d.setValue(p,{value:Fe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:Fe,willCommit:!0,commitKey:1,selStart:Re.selectionStart,selEnd:Re.selectionEnd}}))}},se)}),m.addEventListener("keydown",se=>{ne.commitKey=1;let ce=-1;if("Escape"===se.key?ce=0:"Enter"!==se.key||this.data.multiLine?"Tab"===se.key&&(ne.commitKey=3):ce=2,-1===ce)return;const{value:ge}=se.target;ne.lastCommittedValue!==ge&&(ne.lastCommittedValue=ge,ne.userValue=ge,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:ge,willCommit:!0,commitKey:ce,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}))});const pe=de;de=null,m.addEventListener("blur",se=>{if(!se.relatedTarget)return;const{value:ce}=se.target;ne.userValue=ce,ne.lastCommittedValue!==ce&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:ce,willCommit:!0,commitKey:ne.commitKey,selStart:se.target.selectionStart,selEnd:se.target.selectionEnd}}),pe(se)}),this.data.actions?.Keystroke&&m.addEventListener("beforeinput",se=>{ne.lastCommittedValue=null;const{data:ce,target:ge}=se,{value:ye,selectionStart:Re,selectionEnd:Fe}=ge;let We=Re,st=Fe;switch(se.inputType){case"deleteWordBackward":{const Ue=ye.substring(0,Re).match(/\w*[^\w]*$/);Ue&&(We-=Ue[0].length);break}case"deleteWordForward":{const Ue=ye.substring(Re).match(/^[^\w]*\w*/);Ue&&(st+=Ue[0].length);break}case"deleteContentBackward":Re===Fe&&(We-=1);break;case"deleteContentForward":Re===Fe&&(st+=1)}se.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:ye,change:ce||"",willCommit:!1,selStart:We,selEnd:st}})}),this._setEventListeners(m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],se=>se.target.value)}if(de&&m.addEventListener("blur",de),this.data.comb){const se=(this.data.rect[2]-this.data.rect[0])/V;m.classList.add("comb"),m.style.letterSpacing=`calc(${se}px * var(--scale-factor) - 1ch)`}}else m=document.createElement("div"),m.textContent=this.data.fieldValue,m.style.verticalAlign="middle",m.style.display="table-cell";return this._setTextStyle(m),this._setBackgroundColor(m),this._setDefaultPropertiesFromJS(m),this.container.append(m),this.container}}class y extends E{constructor(d){super(d,{isRenderable:d.renderForms})}render(){const d=this.annotationStorage,p=this.data,m=p.id;let S=d.getValue(m,{value:p.exportValue===p.fieldValue}).value;"string"==typeof S&&(S="Off"!==S,d.setValue(m,{value:S})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const D=document.createElement("input");return x.add(D),D.setAttribute("data-element-id",m),D.disabled=p.readOnly,this._setRequired(D,this.data.required),D.type="checkbox",D.name=p.fieldName,S&&D.setAttribute("checked",!0),D.setAttribute("exportValue",p.exportValue),D.tabIndex=1e3,D.addEventListener("change",V=>{const{name:Z,checked:ne}=V.target;for(const de of this._getElementsByName(Z,m)){const pe=ne&&de.exportValue===p.exportValue;de.domElement&&(de.domElement.checked=pe),d.setValue(de.id,{value:pe})}d.setValue(m,{value:ne})}),D.addEventListener("resetform",V=>{V.target.checked=(p.defaultFieldValue||"Off")===p.exportValue}),this.enableScripting&&this.hasJSActions&&(D.addEventListener("updatefromsandbox",V=>{this._dispatchEventFromSandbox({value(ne){ne.target.checked="Off"!==ne.detail.value,d.setValue(m,{value:ne.target.checked})}},V)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class G extends E{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const d=this.annotationStorage,p=this.data,m=p.id;let S=d.getValue(m,{value:p.fieldValue===p.buttonValue}).value;"string"==typeof S&&(S=S!==p.buttonValue,d.setValue(m,{value:S}));const D=document.createElement("input");if(x.add(D),D.setAttribute("data-element-id",m),D.disabled=p.readOnly,this._setRequired(D,this.data.required),D.type="radio",D.name=p.fieldName,S&&D.setAttribute("checked",!0),D.tabIndex=1e3,D.addEventListener("change",V=>{const{name:Z,checked:ne}=V.target;for(const de of this._getElementsByName(Z,m))d.setValue(de.id,{value:!1});d.setValue(m,{value:ne})}),D.addEventListener("resetform",V=>{const Z=p.defaultFieldValue;V.target.checked=null!=Z&&Z===p.buttonValue}),this.enableScripting&&this.hasJSActions){const V=p.buttonValue;D.addEventListener("updatefromsandbox",Z=>{this._dispatchEventFromSandbox({value:de=>{const pe=V===de.detail.value;for(const se of this._getElementsByName(de.target.name)){const ce=pe&&se.id===m;se.domElement&&(se.domElement.checked=ce),d.setValue(se.id,{value:ce})}}},Z)}),this._setEventListeners(D,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Z=>Z.target.checked)}return this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class q extends w{constructor(d){super(d,{ignoreBorder:d.data.hasAppearance})}render(){const d=super.render();d.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(d.title=this.data.alternativeText);const p=d.lastChild;return this.enableScripting&&this.hasJSActions&&p&&(this._setDefaultPropertiesFromJS(p),p.addEventListener("updatefromsandbox",m=>{this._dispatchEventFromSandbox({},m)})),d}}class L extends E{constructor(d){super(d,{isRenderable:d.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const d=this.annotationStorage,p=this.data.id,m=d.getValue(p,{value:this.data.fieldValue}),S=document.createElement("select");x.add(S),S.setAttribute("data-element-id",p),S.disabled=this.data.readOnly,this._setRequired(S,this.data.required),S.name=this.data.fieldName,S.tabIndex=1e3;let D=this.data.combo&&this.data.options.length>0;this.data.combo||(S.size=this.data.options.length,this.data.multiSelect&&(S.multiple=!0)),S.addEventListener("resetform",pe=>{const se=this.data.defaultFieldValue;for(const ce of S.options)ce.selected=ce.value===se});for(const pe of this.data.options){const se=document.createElement("option");se.textContent=pe.displayValue,se.value=pe.exportValue,m.value.includes(pe.exportValue)&&(se.setAttribute("selected",!0),D=!1),S.append(se)}let V=null;if(D){const pe=document.createElement("option");pe.value=" ",pe.setAttribute("hidden",!0),pe.setAttribute("selected",!0),S.prepend(pe),V=()=>{pe.remove(),S.removeEventListener("input",V),V=null},S.addEventListener("input",V)}const Z=pe=>{const se=pe?"value":"textContent",{options:ce,multiple:ge}=S;return ge?Array.prototype.filter.call(ce,ye=>ye.selected).map(ye=>ye[se]):-1===ce.selectedIndex?null:ce[ce.selectedIndex][se]};let ne=Z(!1);const de=pe=>Array.prototype.map.call(pe.target.options,ce=>({displayValue:ce.textContent,exportValue:ce.value}));return this.enableScripting&&this.hasJSActions?(S.addEventListener("updatefromsandbox",pe=>{this._dispatchEventFromSandbox({value(ce){V?.();const ge=ce.detail.value,ye=new Set(Array.isArray(ge)?ge:[ge]);for(const Re of S.options)Re.selected=ye.has(Re.value);d.setValue(p,{value:Z(!0)}),ne=Z(!1)},multipleSelection(ce){S.multiple=!0},remove(ce){const ge=S.options,ye=ce.detail.remove;ge[ye].selected=!1,S.remove(ye),ge.length>0&&-1===Array.prototype.findIndex.call(ge,Fe=>Fe.selected)&&(ge[0].selected=!0),d.setValue(p,{value:Z(!0),items:de(ce)}),ne=Z(!1)},clear(ce){for(;0!==S.length;)S.remove(0);d.setValue(p,{value:null,items:[]}),ne=Z(!1)},insert(ce){const{index:ge,displayValue:ye,exportValue:Re}=ce.detail.insert,Fe=S.children[ge],We=document.createElement("option");We.textContent=ye,We.value=Re,Fe?Fe.before(We):S.append(We),d.setValue(p,{value:Z(!0),items:de(ce)}),ne=Z(!1)},items(ce){const{items:ge}=ce.detail;for(;0!==S.length;)S.remove(0);for(const ye of ge){const{displayValue:Re,exportValue:Fe}=ye,We=document.createElement("option");We.textContent=Re,We.value=Fe,S.append(We)}S.options.length>0&&(S.options[0].selected=!0),d.setValue(p,{value:Z(!0),items:de(ce)}),ne=Z(!1)},indices(ce){const ge=new Set(ce.detail.indices);for(const ye of ce.target.options)ye.selected=ge.has(ye.index);d.setValue(p,{value:Z(!0)}),ne=Z(!1)},editable(ce){ce.target.disabled=!ce.detail.editable}},pe)}),S.addEventListener("input",pe=>{const se=Z(!0);d.setValue(p,{value:se}),pe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:p,name:"Keystroke",value:ne,changeEx:se,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(S,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],pe=>pe.target.value)):S.addEventListener("input",function(pe){d.setValue(p,{value:Z(!0)})}),this.data.combo&&this._setTextStyle(S),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.append(S),this.container}}class J extends P{constructor(d){const{data:p}=d;super(d,{isRenderable:!J.IGNORE_TYPES.has(p.parentType)&&!!(p.titleObj?.str||p.contentsObj?.str||p.richText?.str)})}render(){this.container.classList.add("popupAnnotation");const d=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===d.length)return this.container;const p=new B({container:this.container,trigger:Array.from(d),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),m=this.page,S=h.Util.normalizeRect([this.data.parentRect[0],m.view[3]-this.data.parentRect[1]+m.view[1],this.data.parentRect[2],m.view[3]-this.data.parentRect[3]+m.view[1]]),D=S[0]+this.data.parentRect[2]-this.data.parentRect[0],V=S[1],{pageWidth:Z,pageHeight:ne,pageX:de,pageY:pe}=this.viewport.rawDims;return this.container.style.left=100*(D-de)/Z+"%",this.container.style.top=100*(V-pe)/ne+"%",this.container.append(p.render()),this.container}}_defineProperty(J,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class B{constructor(d){this.container=d.container,this.trigger=d.trigger,this.color=d.color,this.titleObj=d.titleObj,this.modificationDate=d.modificationDate,this.contentsObj=d.contentsObj,this.richText=d.richText,this.hideWrapper=d.hideWrapper||!1,this.pinned=!1}render(){const p=document.createElement("div");p.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?p:this.container,this.hideElement.hidden=!0;const m=document.createElement("div");m.classList.add("popup");const S=this.color;S&&(m.style.backgroundColor=h.Util.makeHexColor(0|.7*(255-S[0])+S[0],0|.7*(255-S[1])+S[1],0|.7*(255-S[2])+S[2]));const D=document.createElement("h1");D.dir=this.titleObj.dir,D.textContent=this.titleObj.str,m.append(D);const V=C.PDFDateString.toDateObject(this.modificationDate);if(V){const Z=document.createElement("span");Z.classList.add("popupDate"),Z.textContent="{{date}}, {{time}}",Z.dataset.l10nId="annotation_date_string",Z.dataset.l10nArgs=JSON.stringify({date:V.toLocaleDateString(),time:V.toLocaleTimeString()}),m.append(Z)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const Z=this._formatContents(this.contentsObj);m.append(Z)}else Q.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:m}),m.lastChild.classList.add("richText","popupContent");Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const Z of this.trigger)Z.addEventListener("click",this._toggle.bind(this)),Z.addEventListener("mouseover",this._show.bind(this,!1)),Z.addEventListener("mouseout",this._hide.bind(this,!1));return m.addEventListener("click",this._hide.bind(this,!0)),p.append(m),p}_formatContents({str:d,dir:p}){const m=document.createElement("p");m.classList.add("popupContent"),m.dir=p;const S=d.split(/(?:\r\n?|\n)/);for(let D=0,V=S.length;D<V;++D)m.append(document.createTextNode(S[D])),D<V-1&&m.append(document.createElement("br"));return m}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(d=!1){d&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(d=!0){d&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class ue extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.textContent=d.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const d=document.createElement("div");d.classList.add("annotationTextContent"),d.setAttribute("role","comment");for(const p of this.textContent){const m=document.createElement("span");m.textContent=p,d.append(m)}this.container.append(d)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class we extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const d=this.data,{width:p,height:m}=W(d.rect),S=this.svgFactory.create(p,m,!0),D=this.svgFactory.createElement("svg:line");return D.setAttribute("x1",d.rect[2]-d.lineCoordinates[0]),D.setAttribute("y1",d.rect[3]-d.lineCoordinates[1]),D.setAttribute("x2",d.rect[2]-d.lineCoordinates[2]),D.setAttribute("y2",d.rect[3]-d.lineCoordinates[3]),D.setAttribute("stroke-width",d.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),S.append(D),this.container.append(S),this._createPopup(D,d),this.container}}class ve extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const d=this.data,{width:p,height:m}=W(d.rect),S=this.svgFactory.create(p,m,!0),D=d.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",D/2),V.setAttribute("y",D/2),V.setAttribute("width",p-D),V.setAttribute("height",m-D),V.setAttribute("stroke-width",D||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),S.append(V),this.container.append(S),this._createPopup(V,d),this.container}}class Ae extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const d=this.data,{width:p,height:m}=W(d.rect),S=this.svgFactory.create(p,m,!0),D=d.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",p/2),V.setAttribute("cy",m/2),V.setAttribute("rx",p/2-D/2),V.setAttribute("ry",m/2-D/2),V.setAttribute("stroke-width",D||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),S.append(V),this.container.append(S),this._createPopup(V,d),this.container}}class Pe extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:p,height:m}=W(d.rect),S=this.svgFactory.create(p,m,!0);let D=[];for(const Z of d.vertices)D.push(Z.x-d.rect[0]+","+(d.rect[3]-Z.y));D=D.join(" ");const V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",D),V.setAttribute("stroke-width",d.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),S.append(V),this.container.append(S),this._createPopup(V,d),this.container}}class Le extends Pe{constructor(d){super(d),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Se extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ee extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const d=this.data,{width:p,height:m}=W(d.rect),S=this.svgFactory.create(p,m,!0);for(const D of d.inkLists){let V=[];for(const ne of D)V.push(`${ne.x-d.rect[0]},${d.rect[3]-ne.y}`);V=V.join(" ");const Z=this.svgFactory.createElement(this.svgElementName);Z.setAttribute("points",V),Z.setAttribute("stroke-width",d.borderStyle.width||1),Z.setAttribute("stroke","transparent"),Z.setAttribute("fill","transparent"),this._createPopup(Z,d),S.append(Z)}return this.container.append(S),this.container}}class Ne extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class qe extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class Xe extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class ee extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class v extends P{constructor(d){super(d,{isRenderable:!!(d.data.hasPopup||d.data.titleObj?.str||d.data.contentsObj?.str||d.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class b extends P{constructor(d){super(d,{isRenderable:!0});const{filename:p,content:m}=this.data.file;this.filename=(0,C.getFilenameFromUrl)(p,!0),this.content=m,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:p,content:m})}render(){let d;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?d=document.createElement("div"):(d=document.createElement("img"),d.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),d.classList.add("popupTriggerArea"),d.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(d,this.data),this.container.append(d),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class M{static render(d){const{annotations:p,div:m,viewport:S,accessibilityManager:D}=d;(0,C.setLayerDimensions)(m,S);const V={data:null,layer:m,page:d.page,viewport:S,linkService:d.linkService,downloadManager:d.downloadManager,imageResourcesPath:d.imageResourcesPath||"",renderForms:!1!==d.renderForms,svgFactory:new C.DOMSVGFactory,annotationStorage:d.annotationStorage||new O.AnnotationStorage,enableScripting:!0===d.enableScripting,hasJSActions:d.hasJSActions,fieldObjects:d.fieldObjects};let Z=0;for(const ne of p){if(ne.noHTML)continue;if(ne.annotationType!==h.AnnotationType.POPUP){const{width:se,height:ce}=W(ne.rect);if(se<=0||ce<=0)continue}V.data=ne;const de=Y.create(V);if(!de.isRenderable)continue;const pe=de.render();if(ne.hidden&&(pe.style.visibility="hidden"),Array.isArray(pe))for(const se of pe)se.style.zIndex=Z++,_classStaticPrivateMethodGet(M,M,X).call(M,se,ne.id,m,D);else pe.style.zIndex=Z++,de instanceof J?m.prepend(pe):_classStaticPrivateMethodGet(M,M,X).call(M,pe,ne.id,m,D)}_classStaticPrivateMethodGet(this,M,z).call(this,m,d.annotationCanvasMap)}static update(d){const{annotationCanvasMap:p,div:m,viewport:S}=d;(0,C.setLayerDimensions)(m,{rotation:S.rotation}),_classStaticPrivateMethodGet(this,M,z).call(this,m,p),m.hidden=!1}}function X(U,d,p,m){const S=U.firstChild||U;S.id=`${C.AnnotationPrefix}${d}`,p.append(U),m?.moveElementInDOM(p,U,S,!1)}function z(U,d){if(d){for(const[p,m]of d){const S=U.querySelector(`[data-annotation-id="${p}"]`);if(!S)continue;const{firstChild:D}=S;D?"CANVAS"===D.nodeName?D.replaceWith(m):D.before(m):S.append(m)}d.clear()}}u.AnnotationLayer=M},(I,u)=>{function F(C){return Math.floor(255*Math.max(0,Math.min(1,C))).toString(16).padStart(2,"0")}Object.defineProperty(u,"__esModule",{value:!0}),u.ColorConverters=void 0,u.ColorConverters=class h{static CMYK_G([O,N,Q,te]){return["G",1-Math.min(1,.3*O+.59*Q+.11*N+te)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const N=F(O);return`#${N}${N}${N}`}static RGB_G([O,N,Q]){return["G",.3*O+.59*N+.11*Q]}static RGB_HTML([O,N,Q]){return`#${F(O)}${F(N)}${F(Q)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,N,Q,te]){return["RGB",1-Math.min(1,O+te),1-Math.min(1,Q+te),1-Math.min(1,N+te)]}static CMYK_HTML(O){const N=this.CMYK_RGB(O).slice(1);return this.RGB_HTML(N)}static RGB_CMYK([O,N,Q]){const te=1-O,T=1-N,x=1-Q;return["CMYK",te,T,x,Math.min(te,T,x)]}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayer=void 0;var h=F(19);u.XfaLayer=class C{static setupStorage(N,Q,te,T,x){const W=T.getValue(Q,{value:null});switch(te.name){case"textarea":if(null!==W.value&&(N.textContent=W.value),"print"===x)break;N.addEventListener("input",Y=>{T.setValue(Q,{value:Y.target.value})});break;case"input":if("radio"===te.attributes.type||"checkbox"===te.attributes.type){if(W.value===te.attributes.xfaOn?N.setAttribute("checked",!0):W.value===te.attributes.xfaOff&&N.removeAttribute("checked"),"print"===x)break;N.addEventListener("change",Y=>{T.setValue(Q,{value:Y.target.getAttribute(Y.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==W.value&&N.setAttribute("value",W.value),"print"===x)break;N.addEventListener("input",Y=>{T.setValue(Q,{value:Y.target.value})})}break;case"select":if(null!==W.value)for(const Y of te.children)Y.attributes.value===W.value&&(Y.attributes.selected=!0);N.addEventListener("input",Y=>{const P=Y.target.options;T.setValue(Q,{value:-1===P.selectedIndex?"":P[P.selectedIndex].value})})}}static setAttributes({html:N,element:Q,storage:te=null,intent:T,linkService:x}){const{attributes:W}=Q,Y=N instanceof HTMLAnchorElement;"radio"===W.type&&(W.name=`${W.name}-${T}`);for(const[P,R]of Object.entries(W))if(null!=R)switch(P){case"class":R.length&&N.setAttribute(P,R.join(" "));break;case"dataId":break;case"id":N.setAttribute("data-element-id",R);break;case"style":Object.assign(N.style,R);break;case"textContent":N.textContent=R;break;default:(!Y||"href"!==P&&"newWindow"!==P)&&N.setAttribute(P,R)}Y&&x.addLinkAttributes(N,W.href,W.newWindow),te&&W.dataId&&this.setupStorage(N,W.dataId,Q,te)}static render(N){const Q=N.annotationStorage,te=N.linkService,T=N.xfaHtml,x=N.intent||"display",W=document.createElement(T.name);T.attributes&&this.setAttributes({html:W,element:T,intent:x,linkService:te});const Y=[[T,-1,W]],P=N.div;if(P.append(W),N.viewport){const k=`matrix(${N.viewport.transform.join(",")})`;P.style.transform=k}"richText"!==x&&P.setAttribute("class","xfaLayer xfaFont");const R=[];for(;Y.length>0;){const[k,w,A]=Y.at(-1);if(w+1===k.children.length){Y.pop();continue}const H=k.children[++Y.at(-1)[1]];if(null===H)continue;const{name:$}=H;if("#text"===$){const g=document.createTextNode(H.value);R.push(g),A.append(g);continue}let E;if(E=H?.attributes?.xmlns?document.createElementNS(H.attributes.xmlns,$):document.createElement($),A.append(E),H.attributes&&this.setAttributes({html:E,element:H,storage:Q,intent:x,linkService:te}),H.children&&H.children.length>0)Y.push([H,-1,E]);else if(H.value){const g=document.createTextNode(H.value);h.XfaText.shouldBuildText($)&&R.push(g),E.append(g)}}for(const k of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))k.setAttribute("readOnly",!0);return{textDivs:R}}static update(N){const Q=`matrix(${N.viewport.transform.join(",")})`;N.div.style.transform=Q,N.div.hidden=!1}}},(I,u,F)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SVGGraphics=void 0;var h=F(6),C=F(1),O=F(10);let N=class{constructor(){(0,C.unreachable)("Not implemented: SVGGraphics")}};u.SVGGraphics=N;{let k=function(g){let y=[];const G=[];for(const q of g)"save"!==q.fn?"restore"===q.fn?y=G.pop():y.push(q):(y.push({fnId:92,fn:"group",items:[]}),G.push(y),y=y.at(-1).items);return y},w=function(g){if(Number.isInteger(g))return g.toString();const y=g.toFixed(10);let G=y.length-1;if("0"!==y[G])return y;do{G--}while("0"===y[G]);return y.substring(0,"."===y[G]?G:G+1)},A=function(g){if(0===g[4]&&0===g[5]){if(0===g[1]&&0===g[2])return 1===g[0]&&1===g[3]?"":`scale(${w(g[0])} ${w(g[3])})`;if(g[0]===g[3]&&g[1]===-g[2]){const y=180*Math.acos(g[0])/Math.PI;return`rotate(${w(y)})`}}else if(1===g[0]&&0===g[1]&&0===g[2]&&1===g[3])return`translate(${w(g[4])} ${w(g[5])})`;return`matrix(${w(g[0])} ${w(g[1])} ${w(g[2])} ${w(g[3])} ${w(g[4])} ${w(g[5])})`};const Q={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},te="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/1999/xlink",x=["butt","round","square"],W=["miter","round","bevel"],Y=function(g,y="",G=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!G)return URL.createObjectURL(new Blob([g],{type:y}));const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let L=`data:${y};base64,`;for(let J=0,B=g.length;J<B;J+=3){const ue=255&g[J],we=255&g[J+1],ve=255&g[J+2];L+=q[ue>>2]+q[(3&ue)<<4|we>>4]+q[J+1<B?(15&we)<<2|ve>>6:64]+q[J+2<B?63&ve:64]}return L},P=function(){const g=new Uint8Array([137,80,78,71,13,10,26,10]),G=new Int32Array(256);for(let ve=0;ve<256;ve++){let Ae=ve;for(let Pe=0;Pe<8;Pe++)Ae=1&Ae?3988292384^Ae>>1&2147483647:Ae>>1&2147483647;G[ve]=Ae}function L(ve,Ae,Pe,Le){let Se=Le;const Ee=Ae.length;Pe[Se]=Ee>>24&255,Pe[Se+1]=Ee>>16&255,Pe[Se+2]=Ee>>8&255,Pe[Se+3]=255&Ee,Se+=4,Pe[Se]=255&ve.charCodeAt(0),Pe[Se+1]=255&ve.charCodeAt(1),Pe[Se+2]=255&ve.charCodeAt(2),Pe[Se+3]=255&ve.charCodeAt(3),Se+=4,Pe.set(Ae,Se),Se+=Ae.length;const Ne=function q(ve,Ae,Pe){let Le=-1;for(let Se=Ae;Se<Pe;Se++)Le=Le>>>8^G[255&(Le^ve[Se])];return-1^Le}(Pe,Le+4,Se);Pe[Se]=Ne>>24&255,Pe[Se+1]=Ne>>16&255,Pe[Se+2]=Ne>>8&255,Pe[Se+3]=255&Ne}function ue(ve){let Ae=ve.length;const Pe=65535,Le=Math.ceil(Ae/Pe),Se=new Uint8Array(2+Ae+5*Le+4);let Ee=0;Se[Ee++]=120,Se[Ee++]=156;let Ne=0;for(;Ae>Pe;)Se[Ee++]=0,Se[Ee++]=255,Se[Ee++]=255,Se[Ee++]=0,Se[Ee++]=0,Se.set(ve.subarray(Ne,Ne+Pe),Ee),Ee+=Pe,Ne+=Pe,Ae-=Pe;Se[Ee++]=1,Se[Ee++]=255&Ae,Se[Ee++]=Ae>>8&255,Se[Ee++]=255&~Ae,Se[Ee++]=(65535&~Ae)>>8&255,Se.set(ve.subarray(Ne),Ee),Ee+=ve.length-Ne;const qe=function J(ve,Ae,Pe){let Le=1,Se=0;for(let Ee=Ae;Ee<Pe;++Ee)Le=(Le+(255&ve[Ee]))%65521,Se=(Se+Le)%65521;return Se<<16|Le}(ve,0,ve.length);return Se[Ee++]=qe>>24&255,Se[Ee++]=qe>>16&255,Se[Ee++]=qe>>8&255,Se[Ee++]=255&qe,Se}return function(Ae,Pe,Le){return function we(ve,Ae,Pe,Le){const Se=ve.width,Ee=ve.height;let Ne,qe,Xe;const ee=ve.data;switch(Ae){case C.ImageKind.GRAYSCALE_1BPP:qe=0,Ne=1,Xe=Se+7>>3;break;case C.ImageKind.RGB_24BPP:qe=2,Ne=8,Xe=3*Se;break;case C.ImageKind.RGBA_32BPP:qe=6,Ne=8,Xe=4*Se;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+Xe)*Ee);let b=0,M=0;for(let m=0;m<Ee;++m)v[b++]=0,v.set(ee.subarray(M,M+Xe),b),M+=Xe,b+=Xe;if(Ae===C.ImageKind.GRAYSCALE_1BPP&&Le){b=0;for(let m=0;m<Ee;m++){b++;for(let S=0;S<Xe;S++)v[b++]^=255}}const X=new Uint8Array([Se>>24&255,Se>>16&255,Se>>8&255,255&Se,Ee>>24&255,Ee>>16&255,Ee>>8&255,255&Ee,Ne,qe,0,0,0]),z=function B(ve){if(!O.isNodeJS)return ue(ve);try{let Ae;Ae=parseInt(process.versions.node)>=8?ve:Buffer.from(ve);const Pe=__webpack_require__(258).deflateSync(Ae,{level:9});return Pe instanceof Uint8Array?Pe:new Uint8Array(Pe)}catch(Ae){(0,C.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ae)}return ue(ve)}(v),d=new Uint8Array(g.length+36+X.length+z.length);let p=0;return d.set(g,p),p+=g.length,L("IHDR",X,d,p),p+=12+X.length,L("IDATA",z,d,p),p+=12+z.length,L("IEND",new Uint8Array(0),d,p),Y(d,"image/png",Pe)}(Ae,void 0===Ae.kind?C.ImageKind.GRAYSCALE_1BPP:Ae.kind,Pe,Le)}}();class R{constructor(){this.fontSizeScale=1,this.fontWeight=Q.fontWeight,this.fontSize=0,this.textMatrix=C.IDENTITY_MATRIX,this.fontMatrix=C.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=C.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Q.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(y,G){this.x=y,this.y=G}}let H=0,$=0,E=0;u.SVGGraphics=N=class{constructor(g,y,G=!1){(0,h.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new h.DOMSVGFactory,this.current=new R,this.transformMatrix=C.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=g,this.objs=y,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!G,this._operatorIdMapping=[];for(const q in C.OPS)this._operatorIdMapping[C.OPS[q]]=q}getObject(g,y=null){return"string"==typeof g?g.startsWith("g_")?this.commonObjs.get(g):this.objs.get(g):y}save(){this.transformStack.push(this.transformMatrix);const g=this.current;this.extraStack.push(g),this.current=g.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(g){this.save(),this.executeOpTree(g),this.restore()}loadDependencies(g){const y=g.fnArray,G=g.argsArray;for(let q=0,L=y.length;q<L;q++)if(y[q]===C.OPS.dependency)for(const J of G[q]){const B=J.startsWith("g_")?this.commonObjs:this.objs,ue=new Promise(we=>{B.get(J,we)});this.current.dependencies.push(ue)}return Promise.all(this.current.dependencies)}transform(g,y,G,q,L,J){this.transformMatrix=C.Util.transform(this.transformMatrix,[g,y,G,q,L,J]),this.tgrp=null}getSVG(g,y){this.viewport=y;const G=this._initialize(y);return this.loadDependencies(g).then(()=>(this.transformMatrix=C.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(g)),G))}convertOpList(g){const y=this._operatorIdMapping,G=g.argsArray,q=g.fnArray,L=[];for(let J=0,B=q.length;J<B;J++){const ue=q[J];L.push({fnId:ue,fn:y[ue],args:G[J]})}return k(L)}executeOpTree(g){for(const y of g){const G=y.fn,L=y.args;switch(0|y.fnId){case C.OPS.beginText:this.beginText();break;case C.OPS.dependency:break;case C.OPS.setLeading:this.setLeading(L);break;case C.OPS.setLeadingMoveText:this.setLeadingMoveText(L[0],L[1]);break;case C.OPS.setFont:this.setFont(L);break;case C.OPS.showText:case C.OPS.showSpacedText:this.showText(L[0]);break;case C.OPS.endText:this.endText();break;case C.OPS.moveText:this.moveText(L[0],L[1]);break;case C.OPS.setCharSpacing:this.setCharSpacing(L[0]);break;case C.OPS.setWordSpacing:this.setWordSpacing(L[0]);break;case C.OPS.setHScale:this.setHScale(L[0]);break;case C.OPS.setTextMatrix:this.setTextMatrix(L[0],L[1],L[2],L[3],L[4],L[5]);break;case C.OPS.setTextRise:this.setTextRise(L[0]);break;case C.OPS.setTextRenderingMode:this.setTextRenderingMode(L[0]);break;case C.OPS.setLineWidth:this.setLineWidth(L[0]);break;case C.OPS.setLineJoin:this.setLineJoin(L[0]);break;case C.OPS.setLineCap:this.setLineCap(L[0]);break;case C.OPS.setMiterLimit:this.setMiterLimit(L[0]);break;case C.OPS.setFillRGBColor:this.setFillRGBColor(L[0],L[1],L[2]);break;case C.OPS.setStrokeRGBColor:this.setStrokeRGBColor(L[0],L[1],L[2]);break;case C.OPS.setStrokeColorN:this.setStrokeColorN(L);break;case C.OPS.setFillColorN:this.setFillColorN(L);break;case C.OPS.shadingFill:this.shadingFill(L[0]);break;case C.OPS.setDash:this.setDash(L[0],L[1]);break;case C.OPS.setRenderingIntent:this.setRenderingIntent(L[0]);break;case C.OPS.setFlatness:this.setFlatness(L[0]);break;case C.OPS.setGState:this.setGState(L[0]);break;case C.OPS.fill:this.fill();break;case C.OPS.eoFill:this.eoFill();break;case C.OPS.stroke:this.stroke();break;case C.OPS.fillStroke:this.fillStroke();break;case C.OPS.eoFillStroke:this.eoFillStroke();break;case C.OPS.clip:this.clip("nonzero");break;case C.OPS.eoClip:this.clip("evenodd");break;case C.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case C.OPS.paintImageXObject:this.paintImageXObject(L[0]);break;case C.OPS.paintInlineImageXObject:this.paintInlineImageXObject(L[0]);break;case C.OPS.paintImageMaskXObject:this.paintImageMaskXObject(L[0]);break;case C.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(L[0],L[1]);break;case C.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case C.OPS.closePath:this.closePath();break;case C.OPS.closeStroke:this.closeStroke();break;case C.OPS.closeFillStroke:this.closeFillStroke();break;case C.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case C.OPS.nextLine:this.nextLine();break;case C.OPS.transform:this.transform(L[0],L[1],L[2],L[3],L[4],L[5]);break;case C.OPS.constructPath:this.constructPath(L[0],L[1]);break;case C.OPS.endPath:this.endPath();break;case 92:this.group(y.items);break;default:(0,C.warn)(`Unimplemented operator ${G}`)}}}setWordSpacing(g){this.current.wordSpacing=g}setCharSpacing(g){this.current.charSpacing=g}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(g,y,G,q,L,J){const B=this.current;B.textMatrix=B.lineMatrix=[g,y,G,q,L,J],B.textMatrixScale=Math.hypot(g,y),B.x=B.lineX=0,B.y=B.lineY=0,B.xcoords=[],B.ycoords=[],B.tspan=this.svgFactory.createElement("svg:tspan"),B.tspan.setAttributeNS(null,"font-family",B.fontFamily),B.tspan.setAttributeNS(null,"font-size",`${w(B.fontSize)}px`),B.tspan.setAttributeNS(null,"y",w(-B.y)),B.txtElement=this.svgFactory.createElement("svg:text"),B.txtElement.append(B.tspan)}beginText(){const g=this.current;g.x=g.lineX=0,g.y=g.lineY=0,g.textMatrix=C.IDENTITY_MATRIX,g.lineMatrix=C.IDENTITY_MATRIX,g.textMatrixScale=1,g.tspan=this.svgFactory.createElement("svg:tspan"),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtgrp=this.svgFactory.createElement("svg:g"),g.xcoords=[],g.ycoords=[]}moveText(g,y){const G=this.current;G.x=G.lineX+=g,G.y=G.lineY+=y,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${w(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",w(-G.y))}showText(g){const y=this.current,G=y.font,q=y.fontSize;if(0===q)return;const L=y.fontSizeScale,J=y.charSpacing,B=y.wordSpacing,ue=y.fontDirection,we=y.textHScale*ue,ve=G.vertical,Ae=ve?1:-1,Pe=G.defaultVMetrics,Le=q*y.fontMatrix[0];let Se=0;for(const qe of g){if(null===qe){Se+=ue*B;continue}if("number"==typeof qe){Se+=Ae*qe*q/1e3;continue}const Xe=(qe.isSpace?B:0)+J,ee=qe.fontChar;let v,b,X,M=qe.width;if(ve){let z;const U=qe.vmetric||Pe;z=qe.vmetric?U[1]:.5*M,z=-z*Le,M=U?-U[0]:M,v=z/L,b=(Se+U[2]*Le)/L}else v=Se/L,b=0;(qe.isInFont||G.missingFile)&&(y.xcoords.push(y.x+v),ve&&y.ycoords.push(-y.y+b),y.tspan.textContent+=ee),X=ve?M*Le-Xe*ue:M*Le+Xe*ue,Se+=X}y.tspan.setAttributeNS(null,"x",y.xcoords.map(w).join(" ")),y.tspan.setAttributeNS(null,"y",ve?y.ycoords.map(w).join(" "):w(-y.y)),ve?y.y-=Se:y.x+=Se*we,y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${w(y.fontSize)}px`),y.fontStyle!==Q.fontStyle&&y.tspan.setAttributeNS(null,"font-style",y.fontStyle),y.fontWeight!==Q.fontWeight&&y.tspan.setAttributeNS(null,"font-weight",y.fontWeight);const Ee=y.textRenderingMode&C.TextRenderingMode.FILL_STROKE_MASK;Ee===C.TextRenderingMode.FILL||Ee===C.TextRenderingMode.FILL_STROKE?(y.fillColor!==Q.fillColor&&y.tspan.setAttributeNS(null,"fill",y.fillColor),y.fillAlpha<1&&y.tspan.setAttributeNS(null,"fill-opacity",y.fillAlpha)):y.tspan.setAttributeNS(null,"fill",y.textRenderingMode===C.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ee===C.TextRenderingMode.STROKE||Ee===C.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(y.tspan,1/(y.textMatrixScale||1));let Ne=y.textMatrix;0!==y.textRise&&(Ne=Ne.slice(),Ne[5]+=y.textRise),y.txtElement.setAttributeNS(null,"transform",`${A(Ne)} scale(${w(we)}, -1)`),y.txtElement.setAttributeNS(te,"xml:space","preserve"),y.txtElement.append(y.tspan),y.txtgrp.append(y.txtElement),this._ensureTransformGroup().append(y.txtElement)}setLeadingMoveText(g,y){this.setLeading(-y),this.moveText(g,y)}addFontStyle(g){if(!g.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const y=Y(g.data,g.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${g.loadedName}"; src: url(${y}); }\n`}setFont(g){const y=this.current,G=this.commonObjs.get(g[0]);let q=g[1];y.font=G,this.embedFonts&&!G.missingFile&&!this.embeddedFonts[G.loadedName]&&(this.addFontStyle(G),this.embeddedFonts[G.loadedName]=G),y.fontMatrix=G.fontMatrix||C.FONT_IDENTITY_MATRIX;let L="normal";G.black?L="900":G.bold&&(L="bold");const J=G.italic?"italic":"normal";q<0?(q=-q,y.fontDirection=-1):y.fontDirection=1,y.fontSize=q,y.fontFamily=G.loadedName,y.fontWeight=L,y.fontStyle=J,y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"y",w(-y.y)),y.xcoords=[],y.ycoords=[]}endText(){const g=this.current;g.textRenderingMode&C.TextRenderingMode.ADD_TO_PATH_FLAG&&g.txtElement?.hasChildNodes()&&(g.element=g.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(g){g>0&&(this.current.lineWidth=g)}setLineCap(g){this.current.lineCap=x[g]}setLineJoin(g){this.current.lineJoin=W[g]}setMiterLimit(g){this.current.miterLimit=g}setStrokeAlpha(g){this.current.strokeAlpha=g}setStrokeRGBColor(g,y,G){this.current.strokeColor=C.Util.makeHexColor(g,y,G)}setFillAlpha(g){this.current.fillAlpha=g}setFillRGBColor(g,y,G){this.current.fillColor=C.Util.makeHexColor(g,y,G),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(g){this.current.strokeColor=this._makeColorN_Pattern(g)}setFillColorN(g){this.current.fillColor=this._makeColorN_Pattern(g)}shadingFill(g){const y=this.viewport.width,G=this.viewport.height,q=C.Util.inverseTransform(this.transformMatrix),L=C.Util.applyTransform([0,0],q),J=C.Util.applyTransform([0,G],q),B=C.Util.applyTransform([y,0],q),ue=C.Util.applyTransform([y,G],q),we=Math.min(L[0],J[0],B[0],ue[0]),ve=Math.min(L[1],J[1],B[1],ue[1]),Ae=Math.max(L[0],J[0],B[0],ue[0]),Pe=Math.max(L[1],J[1],B[1],ue[1]),Le=this.svgFactory.createElement("svg:rect");Le.setAttributeNS(null,"x",we),Le.setAttributeNS(null,"y",ve),Le.setAttributeNS(null,"width",Ae-we),Le.setAttributeNS(null,"height",Pe-ve),Le.setAttributeNS(null,"fill",this._makeShadingPattern(g)),this.current.fillAlpha<1&&Le.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Le)}_makeColorN_Pattern(g){return"TilingPattern"===g[0]?this._makeTilingPattern(g):this._makeShadingPattern(g)}_makeTilingPattern(g){const y=g[1],G=g[2],q=g[3]||C.IDENTITY_MATRIX,[L,J,B,ue]=g[4],we=g[5],ve=g[6],Ae=g[7],Pe="shading"+E++,[Le,Se,Ee,Ne]=C.Util.normalizeRect([...C.Util.applyTransform([L,J],q),...C.Util.applyTransform([B,ue],q)]),[qe,Xe]=C.Util.singularValueDecompose2dScale(q),ee=we*qe,v=ve*Xe,b=this.svgFactory.createElement("svg:pattern");b.setAttributeNS(null,"id",Pe),b.setAttributeNS(null,"patternUnits","userSpaceOnUse"),b.setAttributeNS(null,"width",ee),b.setAttributeNS(null,"height",v),b.setAttributeNS(null,"x",`${Le}`),b.setAttributeNS(null,"y",`${Se}`);const M=this.svg,X=this.transformMatrix,z=this.current.fillColor,U=this.current.strokeColor,d=this.svgFactory.create(Ee-Le,Ne-Se);if(this.svg=d,this.transformMatrix=q,2===Ae){const p=C.Util.makeHexColor(...y);this.current.fillColor=p,this.current.strokeColor=p}return this.executeOpTree(this.convertOpList(G)),this.svg=M,this.transformMatrix=X,this.current.fillColor=z,this.current.strokeColor=U,b.append(d.childNodes[0]),this.defs.append(b),`url(#${Pe})`}_makeShadingPattern(g){switch("string"==typeof g&&(g=this.objs.get(g)),g[0]){case"RadialAxial":const y="shading"+E++,G=g[3];let q;switch(g[1]){case"axial":const L=g[4],J=g[5];q=this.svgFactory.createElement("svg:linearGradient"),q.setAttributeNS(null,"id",y),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"x1",L[0]),q.setAttributeNS(null,"y1",L[1]),q.setAttributeNS(null,"x2",J[0]),q.setAttributeNS(null,"y2",J[1]);break;case"radial":const B=g[4],ue=g[5],we=g[6],ve=g[7];q=this.svgFactory.createElement("svg:radialGradient"),q.setAttributeNS(null,"id",y),q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),q.setAttributeNS(null,"cx",ue[0]),q.setAttributeNS(null,"cy",ue[1]),q.setAttributeNS(null,"r",ve),q.setAttributeNS(null,"fx",B[0]),q.setAttributeNS(null,"fy",B[1]),q.setAttributeNS(null,"fr",we);break;default:throw new Error(`Unknown RadialAxial type: ${g[1]}`)}for(const L of G){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",L[0]),J.setAttributeNS(null,"stop-color",L[1]),q.append(J)}return this.defs.append(q),`url(#${y})`;case"Mesh":return(0,C.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${g[0]}`)}}setDash(g,y){this.current.dashArray=g,this.current.dashPhase=y}constructPath(g,y){const G=this.current;let q=G.x,L=G.y,J=[],B=0;for(const ue of g)switch(0|ue){case C.OPS.rectangle:q=y[B++],L=y[B++];const Ae=q+y[B++],Pe=L+y[B++];J.push("M",w(q),w(L),"L",w(Ae),w(L),"L",w(Ae),w(Pe),"L",w(q),w(Pe),"Z");break;case C.OPS.moveTo:q=y[B++],L=y[B++],J.push("M",w(q),w(L));break;case C.OPS.lineTo:q=y[B++],L=y[B++],J.push("L",w(q),w(L));break;case C.OPS.curveTo:q=y[B+4],L=y[B+5],J.push("C",w(y[B]),w(y[B+1]),w(y[B+2]),w(y[B+3]),w(q),w(L)),B+=6;break;case C.OPS.curveTo2:J.push("C",w(q),w(L),w(y[B]),w(y[B+1]),w(y[B+2]),w(y[B+3])),q=y[B+2],L=y[B+3],B+=4;break;case C.OPS.curveTo3:q=y[B+2],L=y[B+3],J.push("C",w(y[B]),w(y[B+1]),w(q),w(L),w(q),w(L)),B+=4;break;case C.OPS.closePath:J.push("Z")}J=J.join(" "),G.path&&g.length>0&&g[0]!==C.OPS.rectangle&&g[0]!==C.OPS.moveTo?J=G.path.getAttributeNS(null,"d")+J:(G.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(G.path)),G.path.setAttributeNS(null,"d",J),G.path.setAttributeNS(null,"fill","none"),G.element=G.path,G.setCurrentPoint(q,L)}endPath(){const g=this.current;if(g.path=null,!this.pendingClip)return;if(!g.element)return void(this.pendingClip=null);const y="clippath"+H++,G=this.svgFactory.createElement("svg:clipPath");G.setAttributeNS(null,"id",y),G.setAttributeNS(null,"transform",A(this.transformMatrix));const q=g.element.cloneNode(!0);if(q.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,G.append(q),this.defs.append(G),g.activeClipUrl){g.clipGroup=null;for(const L of this.extraStack)L.clipGroup=null;G.setAttributeNS(null,"clip-path",g.activeClipUrl)}g.activeClipUrl=`url(#${y})`,this.tgrp=null}clip(g){this.pendingClip=g}closePath(){const g=this.current;if(g.path){const y=`${g.path.getAttributeNS(null,"d")}Z`;g.path.setAttributeNS(null,"d",y)}}setLeading(g){this.current.leading=-g}setTextRise(g){this.current.textRise=g}setTextRenderingMode(g){this.current.textRenderingMode=g}setHScale(g){this.current.textHScale=g/100}setRenderingIntent(g){}setFlatness(g){}setGState(g){for(const[y,G]of g)switch(y){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G);break;case"CA":this.setStrokeAlpha(G);break;case"ca":this.setFillAlpha(G);break;default:(0,C.warn)(`Unimplemented graphic state operator ${y}`)}}fill(){const g=this.current;g.element&&(g.element.setAttributeNS(null,"fill",g.fillColor),g.element.setAttributeNS(null,"fill-opacity",g.fillAlpha),this.endPath())}stroke(){const g=this.current;g.element&&(this._setStrokeAttributes(g.element),g.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(g,y=1){const G=this.current;let q=G.dashArray;1!==y&&q.length>0&&(q=q.map(function(L){return y*L})),g.setAttributeNS(null,"stroke",G.strokeColor),g.setAttributeNS(null,"stroke-opacity",G.strokeAlpha),g.setAttributeNS(null,"stroke-miterlimit",w(G.miterLimit)),g.setAttributeNS(null,"stroke-linecap",G.lineCap),g.setAttributeNS(null,"stroke-linejoin",G.lineJoin),g.setAttributeNS(null,"stroke-width",w(y*G.lineWidth)+"px"),g.setAttributeNS(null,"stroke-dasharray",q.map(w).join(" ")),g.setAttributeNS(null,"stroke-dashoffset",w(y*G.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width","1px"),g.setAttributeNS(null,"height","1px"),g.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(g)}paintImageXObject(g){const y=this.getObject(g);y?this.paintInlineImageXObject(y):(0,C.warn)(`Dependent image with object ID ${g} is not ready yet`)}paintInlineImageXObject(g,y){const G=g.width,q=g.height,L=P(g,this.forceDataSchema,!!y),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",w(G)),J.setAttributeNS(null,"height",w(q)),this.current.element=J,this.clip("nonzero");const B=this.svgFactory.createElement("svg:image");B.setAttributeNS(T,"xlink:href",L),B.setAttributeNS(null,"x","0"),B.setAttributeNS(null,"y",w(-q)),B.setAttributeNS(null,"width",w(G)+"px"),B.setAttributeNS(null,"height",w(q)+"px"),B.setAttributeNS(null,"transform",`scale(${w(1/G)} ${w(-1/q)})`),y?y.append(B):this._ensureTransformGroup().append(B)}paintImageMaskXObject(g){const y=this.getObject(g.data,g);if(y.bitmap)return void(0,C.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const G=this.current,q=y.width,L=y.height,J=G.fillColor;G.maskId="mask"+$++;const B=this.svgFactory.createElement("svg:mask");B.setAttributeNS(null,"id",G.maskId);const ue=this.svgFactory.createElement("svg:rect");ue.setAttributeNS(null,"x","0"),ue.setAttributeNS(null,"y","0"),ue.setAttributeNS(null,"width",w(q)),ue.setAttributeNS(null,"height",w(L)),ue.setAttributeNS(null,"fill",J),ue.setAttributeNS(null,"mask",`url(#${G.maskId})`),this.defs.append(B),this._ensureTransformGroup().append(ue),this.paintInlineImageXObject(y,B)}paintFormXObjectBegin(g,y){if(Array.isArray(g)&&6===g.length&&this.transform(g[0],g[1],g[2],g[3],g[4],g[5]),y){const G=y[2]-y[0],q=y[3]-y[1],L=this.svgFactory.createElement("svg:rect");L.setAttributeNS(null,"x",y[0]),L.setAttributeNS(null,"y",y[1]),L.setAttributeNS(null,"width",w(G)),L.setAttributeNS(null,"height",w(q)),this.current.element=L,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(g){const y=this.svgFactory.create(g.width,g.height),G=this.svgFactory.createElement("svg:defs");y.append(G),this.defs=G;const q=this.svgFactory.createElement("svg:g");return q.setAttributeNS(null,"transform",A(g.transform)),y.append(q),this.svg=q,y}_ensureClipGroup(){if(!this.current.clipGroup){const g=this.svgFactory.createElement("svg:g");g.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(g),this.current.clipGroup=g}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",A(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(I){var u=__webpack_module_cache__[I];if(void 0!==u)return u.exports;var F=__webpack_module_cache__[I]={exports:{}};return __webpack_modules__[I](F,F.exports,__w_pdfjs_require__),F.exports}var __nested_webpack_exports__={};return(()=>{var I=__nested_webpack_exports__;Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"AbortException",{enumerable:!0,get:function(){return u.AbortException}}),Object.defineProperty(I,"AnnotationEditorLayer",{enumerable:!0,get:function(){return O.AnnotationEditorLayer}}),Object.defineProperty(I,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return u.AnnotationEditorParamsType}}),Object.defineProperty(I,"AnnotationEditorType",{enumerable:!0,get:function(){return u.AnnotationEditorType}}),Object.defineProperty(I,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return N.AnnotationEditorUIManager}}),Object.defineProperty(I,"AnnotationLayer",{enumerable:!0,get:function(){return Q.AnnotationLayer}}),Object.defineProperty(I,"AnnotationMode",{enumerable:!0,get:function(){return u.AnnotationMode}}),Object.defineProperty(I,"CMapCompressionType",{enumerable:!0,get:function(){return u.CMapCompressionType}}),Object.defineProperty(I,"FeatureTest",{enumerable:!0,get:function(){return u.FeatureTest}}),Object.defineProperty(I,"GlobalWorkerOptions",{enumerable:!0,get:function(){return te.GlobalWorkerOptions}}),Object.defineProperty(I,"InvalidPDFException",{enumerable:!0,get:function(){return u.InvalidPDFException}}),Object.defineProperty(I,"MissingPDFException",{enumerable:!0,get:function(){return u.MissingPDFException}}),Object.defineProperty(I,"OPS",{enumerable:!0,get:function(){return u.OPS}}),Object.defineProperty(I,"PDFDataRangeTransport",{enumerable:!0,get:function(){return F.PDFDataRangeTransport}}),Object.defineProperty(I,"PDFDateString",{enumerable:!0,get:function(){return h.PDFDateString}}),Object.defineProperty(I,"PDFWorker",{enumerable:!0,get:function(){return F.PDFWorker}}),Object.defineProperty(I,"PasswordResponses",{enumerable:!0,get:function(){return u.PasswordResponses}}),Object.defineProperty(I,"PermissionFlag",{enumerable:!0,get:function(){return u.PermissionFlag}}),Object.defineProperty(I,"PixelsPerInch",{enumerable:!0,get:function(){return h.PixelsPerInch}}),Object.defineProperty(I,"PromiseCapability",{enumerable:!0,get:function(){return u.PromiseCapability}}),Object.defineProperty(I,"RenderingCancelledException",{enumerable:!0,get:function(){return h.RenderingCancelledException}}),Object.defineProperty(I,"SVGGraphics",{enumerable:!0,get:function(){return T.SVGGraphics}}),Object.defineProperty(I,"UnexpectedResponseException",{enumerable:!0,get:function(){return u.UnexpectedResponseException}}),Object.defineProperty(I,"Util",{enumerable:!0,get:function(){return u.Util}}),Object.defineProperty(I,"VerbosityLevel",{enumerable:!0,get:function(){return u.VerbosityLevel}}),Object.defineProperty(I,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(I,"build",{enumerable:!0,get:function(){return F.build}}),Object.defineProperty(I,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return u.createValidAbsoluteUrl}}),Object.defineProperty(I,"getDocument",{enumerable:!0,get:function(){return F.getDocument}}),Object.defineProperty(I,"getFilenameFromUrl",{enumerable:!0,get:function(){return h.getFilenameFromUrl}}),Object.defineProperty(I,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return h.getPdfFilenameFromUrl}}),Object.defineProperty(I,"getXfaPageViewport",{enumerable:!0,get:function(){return h.getXfaPageViewport}}),Object.defineProperty(I,"isDataScheme",{enumerable:!0,get:function(){return h.isDataScheme}}),Object.defineProperty(I,"isPdfFile",{enumerable:!0,get:function(){return h.isPdfFile}}),Object.defineProperty(I,"loadScript",{enumerable:!0,get:function(){return h.loadScript}}),Object.defineProperty(I,"normalizeUnicode",{enumerable:!0,get:function(){return u.normalizeUnicode}}),Object.defineProperty(I,"renderTextLayer",{enumerable:!0,get:function(){return C.renderTextLayer}}),Object.defineProperty(I,"setLayerDimensions",{enumerable:!0,get:function(){return h.setLayerDimensions}}),Object.defineProperty(I,"shadow",{enumerable:!0,get:function(){return u.shadow}}),Object.defineProperty(I,"updateTextLayer",{enumerable:!0,get:function(){return C.updateTextLayer}}),Object.defineProperty(I,"version",{enumerable:!0,get:function(){return F.version}});var u=__w_pdfjs_require__(1),F=__w_pdfjs_require__(2),h=__w_pdfjs_require__(6),C=__w_pdfjs_require__(26),O=__w_pdfjs_require__(27),N=__w_pdfjs_require__(5),Q=__w_pdfjs_require__(30),te=__w_pdfjs_require__(14),T=__w_pdfjs_require__(33),x=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=F()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:I=>{function u(h,C,O,N,Q,te,T){try{var x=h[te](T),W=x.value}catch(Y){return void O(Y)}x.done?C(W):Promise.resolve(W).then(N,Q)}I.exports=function F(h){return function(){var C=this,O=arguments;return new Promise(function(N,Q){var te=h.apply(C,O);function T(W){u(te,N,Q,T,x,"next",W)}function x(W){u(te,N,Q,T,x,"throw",W)}T(void 0)})}},I.exports.__esModule=!0,I.exports.default=I.exports},521:I=>{I.exports=function u(F,h){if(h.has(F))throw new TypeError("Cannot initialize the same private elements twice on an object")},I.exports.__esModule=!0,I.exports.default=I.exports},912:I=>{I.exports=function u(F,h){return h.get?h.get.call(F):h.value},I.exports.__esModule=!0,I.exports.default=I.exports},448:I=>{I.exports=function u(F,h,C){if(h.set)h.set.call(F,C);else{if(!h.writable)throw new TypeError("attempted to set read only private field");h.value=C}},I.exports.__esModule=!0,I.exports.default=I.exports},625:I=>{I.exports=function u(F,h){if(F!==h)throw new TypeError("Private static access of wrong provenance")},I.exports.__esModule=!0,I.exports.default=I.exports},506:I=>{I.exports=function u(F,h){if(void 0===F)throw new TypeError("attempted to "+h+" private static field before its declaration")},I.exports.__esModule=!0,I.exports.default=I.exports},69:I=>{I.exports=function u(F,h,C){if(!h.has(F))throw new TypeError("attempted to "+C+" private field on non-instance");return h.get(F)},I.exports.__esModule=!0,I.exports.default=I.exports},468:(I,u,F)=>{var h=F(912),C=F(69);I.exports=function O(N,Q){var te=C(N,Q,"get");return h(N,te)},I.exports.__esModule=!0,I.exports.default=I.exports},159:(I,u,F)=>{var h=F(521);I.exports=function C(O,N,Q){h(O,N),N.set(O,Q)},I.exports.__esModule=!0,I.exports.default=I.exports},661:(I,u,F)=>{var h=F(448),C=F(69);I.exports=function O(N,Q,te){var T=C(N,Q,"set");return h(N,T,te),te},I.exports.__esModule=!0,I.exports.default=I.exports},467:I=>{I.exports=function u(F,h,C){if(!h.has(F))throw new TypeError("attempted to get private field on non-instance");return C},I.exports.__esModule=!0,I.exports.default=I.exports},860:(I,u,F)=>{var h=F(521);I.exports=function C(O,N){h(O,N),N.add(O)},I.exports.__esModule=!0,I.exports.default=I.exports},280:(I,u,F)=>{var h=F(912),C=F(625),O=F(506);I.exports=function N(Q,te,T){return C(Q,te),O(T,"get"),h(Q,T)},I.exports.__esModule=!0,I.exports.default=I.exports},306:(I,u,F)=>{var h=F(448),C=F(625),O=F(506);I.exports=function N(Q,te,T,x){return C(Q,te),O(T,"set"),h(Q,T,x),x},I.exports.__esModule=!0,I.exports.default=I.exports},764:(I,u,F)=>{var h=F(625);I.exports=function C(O,N,Q){return h(O,N),Q},I.exports.__esModule=!0,I.exports.default=I.exports},416:(I,u,F)=>{var h=F(62);I.exports=function C(O,N,Q){return(N=h(N))in O?Object.defineProperty(O,N,{value:Q,enumerable:!0,configurable:!0,writable:!0}):O[N]=Q,O},I.exports.__esModule=!0,I.exports.default=I.exports},36:(I,u,F)=>{var h=F(698).default;I.exports=function C(O,N){if("object"!==h(O)||null===O)return O;var Q=O[Symbol.toPrimitive];if(void 0!==Q){var te=Q.call(O,N||"default");if("object"!==h(te))return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===N?String:Number)(O)},I.exports.__esModule=!0,I.exports.default=I.exports},62:(I,u,F)=>{var h=F(698).default,C=F(36);I.exports=function O(N){var Q=C(N,"string");return"symbol"===h(Q)?Q:String(Q)},I.exports.__esModule=!0,I.exports.default=I.exports},698:I=>{function u(F){return I.exports=u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},I.exports.__esModule=!0,I.exports.default=I.exports,u(F)}I.exports=u,I.exports.__esModule=!0,I.exports.default=I.exports}},I=>{I(I.s=599)}]);