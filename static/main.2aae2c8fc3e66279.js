(self.webpackChunkAngularApp=self.webpackChunkAngularApp||[]).push([[179],{429:(Q,d,H)=>{"use strict";function m(e){return"function"==typeof e}function S(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const z=S(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function U(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Z{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(s){t=s instanceof z?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{h(s)}catch(o){t=t??[],o instanceof z?t=[...t,...o.errors]:t.push(o)}}if(t)throw new z(t)}}add(t){var n;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof Z){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&U(n,t)}remove(t){const{_finalizers:n}=this;n&&U(n,t),t instanceof Z&&t._removeParent(this)}}Z.EMPTY=(()=>{const e=new Z;return e.closed=!0,e})();const x=Z.EMPTY;function E(e){return e instanceof Z||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function h(e){m(e)?e():e.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},I={setTimeout(e,t,...n){const{delegate:r}=I;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=I;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function p(e){I.setTimeout(()=>{const{onUnhandledError:t}=f;if(!t)throw e;t(e)})}function M(){}const O=V("C",void 0,void 0);function V(e,t,n){return{kind:e,value:t,error:n}}let Y=null;function j(e){if(f.useDeprecatedSynchronousErrorHandling){const t=!Y;if(t&&(Y={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Y;if(Y=null,n)throw r}}else e()}class w extends Z{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,E(t)&&t.add(this)):this.destination=ve}static create(t,n,r){return new ee(t,n,r)}next(t){this.isStopped?xe(function k(e){return V("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?xe(function F(e){return V("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xe(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function J(e,t){return $.call(e,t)}class K{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){oe(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){oe(r)}else oe(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){oe(n)}}}class ee extends w{constructor(t,n,r){let i;if(super(),m(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&f.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&J(t.next,s),error:t.error&&J(t.error,s),complete:t.complete&&J(t.complete,s)}):i=t}this.destination=new K(i)}}function oe(e){f.useDeprecatedSynchronousErrorHandling?function b(e){f.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=e)}(e):p(e)}function xe(e,t){const{onStoppedNotification:n}=f;n&&I.setTimeout(()=>n(e,t))}const ve={closed:!0,next:M,error:function fe(e){throw e},complete:M},be="function"==typeof Symbol&&Symbol.observable||"@@observable";function _e(e){return e}function W(e){return 0===e.length?_e:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let A=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function T(e){return e&&e instanceof w||function _(e){return e&&m(e.next)&&m(e.error)&&m(e.complete)}(e)&&E(e)}(n)?n:new ee(n,r,i);return j(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=v(r))((i,s)=>{const o=new ee({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[be](){return this}pipe(...n){return W(n)(this)}toPromise(n){return new(n=v(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=t=>new e(t),e})();function v(e){var t;return null!==(t=e??f.Promise)&&void 0!==t?t:Promise}const N=S(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let u=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new y(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new N}next(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?x:(this.currentObservers=null,s.push(n),new Z(()=>{this.currentObservers=null,U(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new A;return n.source=this,n}}return e.create=(t,n)=>new y(t,n),e})();class y extends u{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:x}}class D extends u{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function R(e){return m(e?.lift)}function P(e){return t=>{if(R(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,r,i){return new G(e,t,n,r,i)}class G extends w{constructor(t,n,r,i,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function q(e,t){return P((n,r)=>{let i=0;n.subscribe(B(r,s=>{r.next(e.call(t,s,i++))}))})}function fn(e){return this instanceof fn?(this.v=e,this):new fn(e)}function se(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function xn(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=e[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Kr=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function _t(e){return m(e?.then)}function Zr(e){return m(e[be])}function Qr(e){return Symbol.asyncIterator&&m(e?.[Symbol.asyncIterator])}function bi(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Fr=function Es(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $t(e){return m(e?.[Fr])}function kr(e){return function zo(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(L){r[L]&&(i[L]=function(X){return new Promise(function(ne,ie){s.push([L,X,ne,ie])>1||a(L,X)})})}function a(L,X){try{!function l(L){L.value instanceof fn?Promise.resolve(L.value.v).then(c,g):C(s[0][2],L)}(r[L](X))}catch(ne){C(s[0][3],ne)}}function c(L){a("next",L)}function g(L){a("throw",L)}function C(L,X){L(X),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield fn(n.read());if(i)return yield fn(void 0);yield yield fn(r)}}finally{n.releaseLock()}})}function Di(e){return m(e?.getReader)}function Pn(e){if(e instanceof A)return e;if(null!=e){if(Zr(e))return function oD(e){return new A(t=>{const n=e[be]();if(m(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Kr(e))return function aD(e){return new A(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(_t(e))return function lD(e){return new A(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,p)})}(e);if(Qr(e))return Xh(e);if($t(e))return function cD(e){return new A(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Di(e))return function uD(e){return Xh(kr(e))}(e)}throw bi(e)}function Xh(e){return new A(t=>{(function dD(e,t){var n,r,i,s;return function Ze(e,t,n,r){return new(n||(n=Promise))(function(s,o){function a(g){try{c(r.next(g))}catch(C){o(C)}}function l(g){try{c(r.throw(g))}catch(C){o(C)}}function c(g){g.done?s(g.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(g.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=se(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function ur(e,t,n,r=0,i=!1){const s=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Ht(e,t,n=1/0){return m(t)?Ht((r,i)=>q((s,o)=>t(r,s,i,o))(Pn(e(r,i))),n):("number"==typeof t&&(n=t),P((r,i)=>function hD(e,t,n,r,i,s,o,a){const l=[];let c=0,g=0,C=!1;const L=()=>{C&&!l.length&&!c&&t.complete()},X=ie=>c<r?ne(ie):l.push(ie),ne=ie=>{s&&t.next(ie),c++;let ue=!1;Pn(n(ie,g++)).subscribe(B(t,ge=>{i?.(ge),s?X(ge):t.next(ge)},()=>{ue=!0},void 0,()=>{if(ue)try{for(c--;l.length&&c<r;){const ge=l.shift();o?ur(t,o,()=>ne(ge)):ne(ge)}L()}catch(ge){t.error(ge)}}))};return e.subscribe(B(t,X,()=>{C=!0,L()})),()=>{a?.()}}(r,i,e,n)))}function Ci(e=1/0){return Ht(_e,e)}const zn=new A(e=>e.complete());function ec(e){return e[e.length-1]}function ws(e){return function pD(e){return e&&m(e.schedule)}(ec(e))?e.pop():void 0}function Yh(e,t=0){return P((n,r)=>{n.subscribe(B(r,i=>ur(r,e,()=>r.next(i),t),()=>ur(r,e,()=>r.complete(),t),i=>ur(r,e,()=>r.error(i),t)))})}function Kh(e,t=0){return P((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Zh(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(n=>{ur(n,t,()=>{const r=e[Symbol.asyncIterator]();ur(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lt(e,t){return t?function CD(e,t){if(null!=e){if(Zr(e))return function yD(e,t){return Pn(e).pipe(Kh(t),Yh(t))}(e,t);if(Kr(e))return function _D(e,t){return new A(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(_t(e))return function vD(e,t){return Pn(e).pipe(Kh(t),Yh(t))}(e,t);if(Qr(e))return Zh(e,t);if($t(e))return function bD(e,t){return new A(n=>{let r;return ur(n,t,()=>{r=e[Fr](),ur(n,t,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>m(r?.return)&&r.return()})}(e,t);if(Di(e))return function DD(e,t){return Zh(kr(e),t)}(e,t)}throw bi(e)}(e,t):Pn(e)}function He(...e){return Lt(e,ws(e))}function Qh(e={}){const{connector:t=(()=>new u),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,a,l,c=0,g=!1,C=!1;const L=()=>{a?.unsubscribe(),a=void 0},X=()=>{L(),o=l=void 0,g=C=!1},ne=()=>{const ie=o;X(),ie?.unsubscribe()};return P((ie,ue)=>{c++,!C&&!g&&L();const ge=l=l??t();ue.add(()=>{c--,0===c&&!C&&!g&&(a=tc(ne,i))}),ge.subscribe(ue),!o&&c>0&&(o=new ee({next:ce=>ge.next(ce),error:ce=>{C=!0,L(),a=tc(X,n,ce),ge.error(ce)},complete:()=>{g=!0,L(),a=tc(X,r),ge.complete()}}),Pn(ie).subscribe(o))})(s)}}function tc(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ee({next:()=>{r.unsubscribe(),e()}});return Pn(t(...n)).subscribe(r)}function Fn(e,t){return P((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(B(r,l=>{i?.unsubscribe();let c=0;const g=s++;Pn(e(l,g)).subscribe(i=B(r,C=>r.next(t?t(l,C,g,c++):C),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function AD(e,t){return e===t}function at(e){for(let t in e)if(e[t]===at)return t;throw Error("Could not find renamed property on target object.")}function xt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(xt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function nc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const SD=at({__forward_ref__:at});function rc(e){return e.__forward_ref__=rc,e.toString=function(){return xt(this())},e}function Ve(e){return ic(e)?e():e}function ic(e){return"function"==typeof e&&e.hasOwnProperty(SD)&&e.__forward_ref__===rc}function sc(e){return e&&!!e.\u0275providers}class De extends Error{constructor(t,n){super(function Wo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function ze(e){return"string"==typeof e?e:null==e?"":String(e)}function qo(e,t){throw new De(-201,!1)}function wn(e,t){null==e&&function ot(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Fe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function dr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xo(e){return ef(e,Yo)||ef(e,nf)}function ef(e,t){return e.hasOwnProperty(t)?e[t]:null}function tf(e){return e&&(e.hasOwnProperty(oc)||e.hasOwnProperty(kD))?e[oc]:null}const Yo=at({\u0275prov:at}),oc=at({\u0275inj:at}),nf=at({ngInjectableDef:at}),kD=at({ngInjectorDef:at});var Ne=(()=>((Ne=Ne||{})[Ne.Default=0]="Default",Ne[Ne.Host=1]="Host",Ne[Ne.Self=2]="Self",Ne[Ne.SkipSelf=4]="SkipSelf",Ne[Ne.Optional=8]="Optional",Ne))();let ac;function sn(e){const t=ac;return ac=e,t}function sf(e,t,n){const r=Xo(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ne.Optional?null:void 0!==t?t:void qo(xt(e))}const ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),As={},lc="__NG_DI_FLAG__",Ko="ngTempTokenPath",OD=/\n/gm,af="__source";let Ei;function Or(e){const t=Ei;return Ei=e,t}function BD(e,t=Ne.Default){if(void 0===Ei)throw new De(-203,!1);return null===Ei?sf(e,void 0,t):Ei.get(e,t&Ne.Optional?null:void 0,t)}function Pe(e,t=Ne.Default){return(function rf(){return ac}()||BD)(Ve(e),t)}function Ie(e,t=Ne.Default){return Pe(e,Zo(t))}function Zo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cc(e){const t=[];for(let n=0;n<e.length;n++){const r=Ve(e[n]);if(Array.isArray(r)){if(0===r.length)throw new De(900,!1);let i,s=Ne.Default;for(let o=0;o<r.length;o++){const a=r[o],l=HD(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}t.push(Pe(i,s))}else t.push(Pe(r))}return t}function Ss(e,t){return e[lc]=t,e.prototype[lc]=t,e}function HD(e){return e[lc]}function hr(e){return{toString:e}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),gn=(()=>{return(e=gn||(gn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",gn;var e})();const Wn={},rt=[],Qo=at({\u0275cmp:at}),uc=at({\u0275dir:at}),dc=at({\u0275pipe:at}),cf=at({\u0275mod:at}),fr=at({\u0275fac:at}),Ts=at({__NG_ELEMENT_ID__:at}),uf=at({__NG_ENV_ID__:at});function df(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=t.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}n=i+1}}function hc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];e.setAttribute(t,o,a,s)}else{const s=i,o=n[++r];ff(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),r++}}return r}function hf(e){return 3===e||4===e||6===e}function ff(e){return 64===e.charCodeAt(0)}function Ms(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||pf(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function pf(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const a=e[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<e.length;){const a=e[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}const gf="ng-template";function $D(e,t,n){let r=0,i=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&i){const o=e[r++];if(n&&"class"===s&&-1!==df(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function mf(e){return 4===e.type&&e.value!==gf}function zD(e,t,n){return t===(4!==e.type||n?e.value:gf)}function GD(e,t,n){let r=4;const i=e.attrs||[],s=function XD(e){for(let t=0;t<e.length;t++)if(hf(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!zD(e,l,n)||""===l&&1===t.length){if(kn(r))return!1;o=!0}}else{const c=8&r?l:t[++a];if(8&r&&null!==e.attrs){if(!$D(e.attrs,c,n)){if(kn(r))return!1;o=!0}continue}const C=WD(8&r?"class":l,i,mf(e),n);if(-1===C){if(kn(r))return!1;o=!0;continue}if(""!==c){let L;L=C>s?"":i[C+1].toLowerCase();const X=8&r?L:null;if(X&&-1!==df(X,c,0)||2&r&&c!==L){if(kn(r))return!1;o=!0}}}}else{if(!o&&!kn(r)&&!kn(l))return!1;if(o&&kn(l))continue;o=!1,r=l|1&r}}return kn(r)||o}function kn(e){return 0==(1&e)}function WD(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let s=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function YD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function yf(e,t,n=!1){for(let r=0;r<t.length;r++)if(GD(e,t[r],n))return!0;return!1}function vf(e,t){return e?":not("+t.trim()+")":t}function ZD(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const a=e[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!kn(o)&&(t+=vf(s,i),i=""),r=o,s=s||!kn(r);n++}return""!==i&&(t+=vf(s,i)),t}function Is(e){return hr(()=>{const t=bf(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||rt,_:null,schemas:e.schemas||null,tView:null,id:""};Df(n);const r=e.dependencies;return n.directiveDefs=Jo(r,!1),n.pipeDefs=Jo(r,!0),n.id=function sC(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function tC(e){return it(e)||zt(e)}function nC(e){return null!==e}function Lr(e){return hr(()=>({type:e.type,bootstrap:e.bootstrap||rt,declarations:e.declarations||rt,imports:e.imports||rt,exports:e.exports||rt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _f(e,t){if(null==e)return Wn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}function Zt(e){return hr(()=>{const t=bf(e);return Df(t),t})}function it(e){return e[Qo]||null}function zt(e){return e[uc]||null}function an(e){return e[dc]||null}function mn(e,t){const n=e[cf]||null;if(!n&&!0===t)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return n}function bf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Wn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||rt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_f(e.inputs,t),outputs:_f(e.outputs)}}function Df(e){e.features?.forEach(t=>t(e))}function Jo(e,t){if(!e)return null;const n=t?an:tC;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(nC)}const Pt=0,Te=1,Ge=2,pt=3,Nn=4,Rs=5,Gt=6,Ai=7,Ct=8,Si=9,Jr=10,We=11,xs=12,Cf=13,Ti=14,Et=15,Ps=16,Mi=17,qn=18,Fs=19,Ef=20,jr=21,pr=22,ea=23,ta=24,et=25,fc=1,wf=2,Xn=7,Ii=9,Wt=11;function yn(e){return Array.isArray(e)&&"object"==typeof e[fc]}function ln(e){return Array.isArray(e)&&!0===e[fc]}function pc(e){return 0!=(4&e.flags)}function ei(e){return e.componentOffset>-1}function ra(e){return 1==(1&e.flags)}function On(e){return!!e.template}function gc(e){return 0!=(512&e[Ge])}function ti(e,t){return e.hasOwnProperty(fr)?e[fr]:null}let dC=ct.WeakRef??class uC{constructor(t){this.ref=t}deref(){return this.ref}},fC=0,Yn=null,ia=!1;function jt(e){const t=Yn;return Yn=e,t}class If{constructor(){this.id=fC++,this.ref=function hC(e){return new dC(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=ia;ia=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{ia=t}}producerAccessed(){if(ia)throw new Error("");if(null===Yn)return;let t=Yn.producers.get(this.id);void 0===t?(t={consumerNode:Yn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Yn.trackingVersion},Yn.producers.set(this.id,t),this.consumers.set(Yn.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=Yn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Yn?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Rf=null;const Pf=()=>{};class yC extends If{constructor(t,n,r){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Pf,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=jt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Pf,this.watch(this.registerOnCleanup)}finally{jt(t)}}cleanup(){this.cleanupFn()}}class vC{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ni(){return Ff}function Ff(e){return e.type.prototype.ngOnChanges&&(e.setInput=bC),_C}function _C(){const e=Nf(this),t=e?.current;if(t){const n=e.previous;if(n===Wn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function bC(e,t,n,r){const i=this.declaredInputs[n],s=Nf(e)||function DC(e,t){return e[kf]=t}(e,{previous:Wn,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new vC(l&&l.currentValue,t,a===Wn),e[r]=t}ni.ngInherit=!0;const kf="__ngSimpleChanges__";function Nf(e){return e[kf]||null}const Kn=function(e,t,n){};function dt(e){for(;Array.isArray(e);)e=e[Pt];return e}function cn(e,t){return dt(t[e.index])}function jf(e,t){return e.data[t]}function vn(e,t){const n=t[e];return yn(n)?n:n[Pt]}function Br(e,t){return null==t?null:e[t]}function Bf(e){e[Mi]=0}function MC(e){1024&e[Ge]||(e[Ge]|=1024,Uf(e,1))}function Hf(e){1024&e[Ge]&&(e[Ge]&=-1025,Uf(e,-1))}function Uf(e,t){let n=e[pt];if(null===n)return;n[Rs]+=t;let r=n;for(n=n[pt];null!==n&&(1===t&&1===r[Rs]||-1===t&&0===r[Rs]);)n[Rs]+=t,r=n,n=n[pt]}const Ue={lFrame:Qf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zf(){return Ue.bindingsEnabled}function pe(){return Ue.lFrame.lView}function tt(){return Ue.lFrame.tView}function Ut(){let e=Gf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Gf(){return Ue.lFrame.currentTNode}function Zn(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function Dc(){return Ue.lFrame.isParent}function Pi(){return Ue.lFrame.bindingIndex++}function VC(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ec(t)}function Ec(e){Ue.lFrame.currentDirectiveIndex=e}function Yf(){return Ue.lFrame.currentQueryIndex}function Ac(e){Ue.lFrame.currentQueryIndex=e}function zC(e){const t=e[Te];return 2===t.type?t.declTNode:1===t.type?e[Gt]:null}function Kf(e,t,n){if(n&Ne.SkipSelf){let i=t,s=e;for(;!(i=i.parent,null!==i||n&Ne.Host||(i=zC(s),null===i||(s=s[Ti],10&i.type))););if(null===i)return!1;t=i,e=s}const r=Ue.lFrame=Zf();return r.currentTNode=t,r.lView=e,!0}function Sc(e){const t=Zf(),n=e[Te];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zf(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?Qf(e):t}function Qf(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Jf(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ep=Jf;function Tc(){const e=Jf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Jt(){return Ue.lFrame.selectedIndex}function ri(e){Ue.lFrame.selectedIndex=e}let np=!0;function la(){return np}function Hr(e){np=e}function ca(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:g}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=g&&(e.destroyHooks??=[]).push(n,g)}}function ua(e,t,n){rp(e,t,3,n)}function da(e,t,n,r){(3&e[Ge])===n&&rp(e,t,n,r)}function Mc(e,t){let n=e[Ge];(3&n)===t&&(n&=8191,n+=1,e[Ge]=n)}function rp(e,t,n,r){const s=r??-1,o=t.length-1;let a=0;for(let l=void 0!==r?65535&e[Mi]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[Mi]+=65536),(a<s||-1==s)&&(QC(e,n,t,l),e[Mi]=(4294901760&e[Mi])+l+2),l++}function ip(e,t){Kn(4,e,t);const n=jt(null);try{t.call(e)}finally{jt(n),Kn(5,e,t)}}function QC(e,t,n,r){const i=n[r]<0,s=n[r+1],a=e[i?-n[r]:n[r]];i?e[Ge]>>13<e[Mi]>>16&&(3&e[Ge])===t&&(e[Ge]+=8192,ip(a,s)):ip(a,s)}const Fi=-1;class Os{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function sp(e){return e!==Fi}function ha(e){return 32767&e}function fa(e,t){let n=function nE(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ti],n--;return r}let Rc=!0;function pa(e){const t=Rc;return Rc=e,t}const op=255,ap=5;let rE=0;const Qn={};function ga(e,t){const n=lp(e,t);if(-1!==n)return n;const r=t[Te];r.firstCreatePass&&(e.injectorIndex=t.length,xc(r.data,e),xc(t,null),xc(r.blueprint,null));const i=Pc(e,t),s=e.injectorIndex;if(sp(i)){const o=ha(i),a=fa(i,t),l=a[Te].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=i,s}function xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function lp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Pc(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=mp(i),null===r)return Fi;if(n++,i=i[Ti],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Fi}function Fc(e,t,n){!function iE(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ts)&&(r=n[Ts]),null==r&&(r=n[Ts]=rE++);const i=r&op;t.data[e+(i>>ap)]|=1<<i}(e,t,n)}function cp(e,t,n){if(n&Ne.Optional||void 0!==e)return e;qo()}function up(e,t,n,r){if(n&Ne.Optional&&void 0===r&&(r=null),!(n&(Ne.Self|Ne.Host))){const i=e[Si],s=sn(void 0);try{return i?i.get(t,r,n&Ne.Optional):sf(t,r,n&Ne.Optional)}finally{sn(s)}}return cp(r,0,n)}function dp(e,t,n,r=Ne.Default,i){if(null!==e){if(2048&t[Ge]&&!(r&Ne.Self)){const o=function cE(e,t,n,r,i){let s=e,o=t;for(;null!==s&&null!==o&&2048&o[Ge]&&!(512&o[Ge]);){const a=hp(s,o,n,r|Ne.Self,Qn);if(a!==Qn)return a;let l=s.parent;if(!l){const c=o[Ef];if(c){const g=c.get(n,Qn,r);if(g!==Qn)return g}l=mp(o),o=o[Ti]}s=l}return i}(e,t,n,r,Qn);if(o!==Qn)return o}const s=hp(e,t,n,r,Qn);if(s!==Qn)return s}return up(t,n,r,i)}function hp(e,t,n,r,i){const s=function aE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ts)?e[Ts]:void 0;return"number"==typeof t?t>=0?t&op:lE:t}(n);if("function"==typeof s){if(!Kf(t,e,r))return r&Ne.Host?cp(i,0,r):up(t,n,r,i);try{const o=s(r);if(null!=o||r&Ne.Optional)return o;qo()}finally{ep()}}else if("number"==typeof s){let o=null,a=lp(e,t),l=Fi,c=r&Ne.Host?t[Et][Gt]:null;for((-1===a||r&Ne.SkipSelf)&&(l=-1===a?Pc(e,t):t[a+8],l!==Fi&&pp(r,!1)?(o=t[Te],a=ha(l),t=fa(l,t)):a=-1);-1!==a;){const g=t[Te];if(fp(s,a,g.data)){const C=oE(a,t,n,o,r,c);if(C!==Qn)return C}l=t[a+8],l!==Fi&&pp(r,t[Te].data[a+8]===c)&&fp(s,a,t)?(o=g,a=ha(l),t=fa(l,t)):a=-1}}return i}function oE(e,t,n,r,i,s){const o=t[Te],a=o.data[e+8],g=ma(a,o,n,null==r?ei(a)&&Rc:r!=o&&0!=(3&a.type),i&Ne.Host&&s===a);return null!==g?ii(t,o,g,a):Qn}function ma(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,l=e.directiveStart,g=s>>20,L=i?a+g:e.directiveEnd;for(let X=r?a:a+g;X<L;X++){const ne=o[X];if(X<l&&n===ne||X>=l&&ne.type===n)return X}if(i){const X=o[l];if(X&&On(X)&&X.type===n)return l}return null}function ii(e,t,n,r){let i=e[n];const s=t.data;if(function JC(e){return e instanceof Os}(i)){const o=i;o.resolving&&function TD(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new De(-200,`Circular dependency in DI detected for ${e}${n}`)}(function st(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ze(e)}(s[n]));const a=pa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?sn(o.injectImpl):null;Kf(e,r,Ne.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ZC(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const o=Ff(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}i&&(n.preOrderHooks??=[]).push(0-e,i),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==l&&sn(l),pa(a),o.resolving=!1,ep()}}return i}function fp(e,t,n){return!!(n[t+(e>>ap)]&1<<e)}function pp(e,t){return!(e&Ne.Self||e&Ne.Host&&t)}class ki{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return dp(this._tNode,this._lView,t,Zo(r),n)}}function lE(){return new ki(Ut(),pe())}function kc(e){return ic(e)?()=>{const t=kc(Ve(e));return t&&t()}:ti(e)}function mp(e){const t=e[Te],n=t.type;return 2===n?t.declTNode:1===n?e[Gt]:null}const Oi="__parameters__";function ji(e,t,n){return hr(()=>{const r=function Nc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,g){const C=l.hasOwnProperty(Oi)?l[Oi]:Object.defineProperty(l,Oi,{value:[]})[Oi];for(;C.length<=g;)C.push(null);return(C[g]=C[g]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Bs(e,t){e.forEach(n=>Array.isArray(n)?Bs(n,t):t(n))}function vp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}const ba=Ss(ji("Optional"),8),Da=Ss(ji("SkipSelf"),4);function Aa(e){return 128==(128&e.flags)}var un=(()=>((un=un||{})[un.Important=1]="Important",un[un.DashCase=2]="DashCase",un))();const Vc=new Map;let jE=0;const zc="__ngContext__";function qt(e,t){yn(t)?(e[zc]=t[Fs],function HE(e){Vc.set(e[Fs],e)}(t)):e[zc]=t}let Gc;function Wc(e,t){return Gc(e,t)}function $s(e){const t=e[pt];return ln(t)?t[pt]:t}function Bp(e){return Up(e[xs])}function Hp(e){return Up(e[Nn])}function Up(e){for(;null!==e&&!ln(e);)e=e[Nn];return e}function Vi(e,t,n,r,i){if(null!=r){let s,o=!1;ln(r)?s=r:yn(r)&&(o=!0,r=r[Pt]);const a=dt(r);0===e&&null!==n?null==i?Wp(t,n,a):si(t,n,a,i||null,!0):1===e&&null!==n?si(t,n,a,i||null,!0):2===e?function xa(e,t,n){const r=Ia(e,t);r&&function sw(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function lw(e,t,n,r,i){const s=n[Xn];s!==dt(n)&&Vi(t,e,r,s,i);for(let a=Wt;a<n.length;a++){const l=n[a];Gs(l[Te],l,e,t,r,s)}}(t,e,s,n,i)}}function Ma(e,t,n){return e.createElement(t,n)}function $p(e,t){const n=e[Ii],r=n.indexOf(t);Hf(t),n.splice(r,1)}function Xc(e,t){if(e.length<=Wt)return;const n=Wt+t,r=e[n];if(r){const i=r[Ps];null!==i&&i!==e&&$p(i,r),t>0&&(e[n-1][Nn]=r[Nn]);const s=va(e,Wt+t);!function ZE(e,t){Gs(e,t,t[We],2,null,null),t[Pt]=null,t[Gt]=null}(r[Te],r);const o=s[qn];null!==o&&o.detachView(s[Te]),r[pt]=null,r[Nn]=null,r[Ge]&=-129}return r}function zp(e,t){if(!(256&t[Ge])){const n=t[We];t[ea]?.destroy(),t[ta]?.destroy(),n.destroyNode&&Gs(e,t,n,3,null,null),function ew(e){let t=e[xs];if(!t)return Yc(e[Te],e);for(;t;){let n=null;if(yn(t))n=t[xs];else{const r=t[Wt];r&&(n=r)}if(!n){for(;t&&!t[Nn]&&t!==e;)yn(t)&&Yc(t[Te],t),t=t[pt];null===t&&(t=e),yn(t)&&Yc(t[Te],t),n=t&&t[Nn]}t=n}}(t)}}function Yc(e,t){if(!(256&t[Ge])){t[Ge]&=-129,t[Ge]|=256,function iw(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Os)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];Kn(4,a,l);try{l.call(a)}finally{Kn(5,a,l)}}else{Kn(4,i,s);try{s.call(i)}finally{Kn(5,i,s)}}}}}(e,t),function rw(e,t){const n=e.cleanup,r=t[Ai];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[Ai]=null);const i=t[jr];if(null!==i){t[jr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(e,t),1===t[Te].type&&t[We].destroy();const n=t[Ps];if(null!==n&&ln(t[pt])){n!==t[pt]&&$p(n,t);const r=t[qn];null!==r&&r.detachView(e)}!function UE(e){Vc.delete(e[Fs])}(t)}}function Kc(e,t,n){return function Gp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Pt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=e.data[r.directiveStart+i];if(s===gn.None||s===gn.Emulated)return null}return cn(r,n)}}(e,t.parent,n)}function si(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Wp(e,t,n){e.appendChild(t,n)}function qp(e,t,n,r,i){null!==r?si(e,t,n,r,i):Wp(e,t,n)}function Ia(e,t){return e.parentNode(t)}let Zc,tu,Kp=function Yp(e,t,n){return 40&e.type?cn(e,n):null};function Ra(e,t,n,r){const i=Kc(e,r,t),s=t[We],a=function Xp(e,t,n){return Kp(e,t,n)}(r.parent||t[Gt],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)qp(s,i,n[l],a,!1);else qp(s,i,n,a,!1);void 0!==Zc&&Zc(s,r,t,n,i)}function zs(e,t){if(null!==t){const n=t.type;if(3&n)return cn(t,e);if(4&n)return Qc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return zs(e,r);{const i=e[t.index];return ln(i)?Qc(-1,i):dt(i)}}if(32&n)return Wc(t,e)()||dt(e[t.index]);{const r=Qp(e,t);return null!==r?Array.isArray(r)?r[0]:zs($s(e[Et]),r):zs(e,t.next)}}return null}function Qp(e,t){return null!==t?e[Et][Gt].projection[t.projection]:null}function Qc(e,t){const n=Wt+e+1;if(n<t.length){const r=t[n],i=r[Te].firstChild;if(null!==i)return zs(r,i)}return t[Xn]}function Jc(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===t&&(a&&qt(dt(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)Jc(e,t,n.child,r,i,s,!1),Vi(t,e,i,a,s);else if(32&l){const c=Wc(n,r);let g;for(;g=c();)Vi(t,e,i,g,s);Vi(t,e,i,a,s)}else 16&l?eg(e,t,r,n,i,s):Vi(t,e,i,a,s);n=o?n.projectionNext:n.next}}function Gs(e,t,n,r,i,s){Jc(n,r,e.firstChild,t,i,s,!1)}function eg(e,t,n,r,i,s){const o=n[Et],l=o[Gt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Vi(t,e,i,l[c],s);else{let c=l;const g=o[pt];Aa(r)&&(c.flags|=128),Jc(e,t,c,g,i,s,!0)}}function tg(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ng(e,t,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&hc(e,t,r),null!==i&&tg(e,t,i),null!==s&&function uw(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}class Re{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Fe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ks=new Re("ENVIRONMENT_INITIALIZER"),mg=new Re("INJECTOR",-1),yg=new Re("INJECTOR_DEF_TYPES");class vg{get(t,n=As){if(n===As){const r=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw r.name="NullInjectorError",r}return n}}function Lw(...e){return{\u0275providers:_g(0,e),\u0275fromNgModule:!0}}function _g(e,...t){const n=[],r=new Set;let i;return Bs(t,s=>{const o=s;lu(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&bg(i,n),n}function bg(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];cu(i,s=>{t.push(s)})}}function lu(e,t,n,r){if(!(e=Ve(e)))return!1;let i=null,s=tf(e);const o=!s&&it(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const l=e.ngModule;if(s=tf(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)lu(c,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Bs(s.imports,g=>{lu(g,t,n,r)&&(c||=[],c.push(g))})}finally{}void 0!==c&&bg(c,t)}if(!a){const c=ti(i)||(()=>new i);t.push({provide:i,useFactory:c,deps:rt},{provide:yg,useValue:i,multi:!0},{provide:Ks,useValue:()=>Pe(i),multi:!0})}const l=s.providers;null==l||a||cu(l,g=>{t.push(g)})}}return i!==e&&void 0!==e.providers}function cu(e,t){for(let n of e)sc(n)&&(n=n.\u0275providers),Array.isArray(n)?cu(n,t):t(n)}const jw=at({provide:String,useValue:at});function uu(e){return null!==e&&"object"==typeof e&&jw in e}function oi(e){return"function"==typeof e}const du=new Re("Set Injector scope."),Na={},Hw={};let hu;function Oa(){return void 0===hu&&(hu=new vg),hu}class Jn{}class fu extends Jn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gu(t,o=>this.processProvider(o)),this.records.set(mg,zi(void 0,this)),i.has("environment")&&this.records.set(Jn,zi(void 0,this));const s=this.records.get(du);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yg.multi,rt,Ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Or(this),r=sn(void 0);try{return t()}finally{Or(n),sn(r)}}get(t,n=As,r=Ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(uf))return t[uf](this);r=Zo(r);const i=Or(this),s=sn(void 0);try{if(!(r&Ne.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Gw(e){return"function"==typeof e||"object"==typeof e&&e instanceof Re}(t)&&Xo(t);a=l&&this.injectableDefInScope(l)?zi(pu(t),Na):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ne.Self?Oa():this.parent).get(t,n=r&Ne.Optional&&n===As?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Ko]=o[Ko]||[]).unshift(xt(t)),i)throw o;return function UD(e,t,n,r){const i=e[Ko];throw t[af]&&i.unshift(t[af]),e.message=function VD(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=xt(t);if(Array.isArray(t))i=t.map(xt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):xt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(OD,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Ko]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{sn(s),Or(i)}}resolveInjectorInitializers(){const t=Or(this),n=sn(void 0);try{const r=this.get(Ks.multi,rt,Ne.Self);for(const i of r)i()}finally{Or(t),sn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(xt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(t){let n=oi(t=Ve(t))?t:Ve(t&&t.provide);const r=function Vw(e){return uu(e)?zi(void 0,e.useValue):zi(function Eg(e,t,n){let r;if(oi(e)){const i=Ve(e);return ti(i)||pu(i)}if(uu(e))r=()=>Ve(e.useValue);else if(function Cg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...cc(e.deps||[]));else if(function Dg(e){return!(!e||!e.useExisting)}(e))r=()=>Pe(Ve(e.useExisting));else{const i=Ve(e&&(e.useClass||e.provide));if(!function $w(e){return!!e.deps}(e))return ti(i)||pu(i);r=()=>new i(...cc(e.deps))}return r}(e),Na)}(t);if(oi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=zi(void 0,Na,!0),i.factory=()=>cc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Na&&(n.value=Hw,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zw(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ve(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function pu(e){const t=Xo(e),n=null!==t?t.factory:ti(e);if(null!==n)return n;if(e instanceof Re)throw new De(204,!1);if(e instanceof Function)return function Uw(e){const t=e.length;if(t>0)throw function Hs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new De(204,!1);const n=function FD(e){return e&&(e[Yo]||e[nf])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new De(204,!1)}function zi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gu(e,t){for(const n of e)Array.isArray(n)?gu(n,t):n&&sc(n)?gu(n.\u0275providers,t):t(n)}const La=new Re("AppId",{providedIn:"root",factory:()=>Ww}),Ww="ng",wg=new Re("Platform Initializer"),ai=new Re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ag=new Re("CSP nonce",{providedIn:"root",factory:()=>function Ws(){if(void 0!==tu)return tu;if(typeof document<"u")return document;throw new De(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Tg=(e,t)=>null;function Mg(e,t){return Tg(e,t)}class tA{}class xg{}class rA{resolveComponentFactory(t){throw function nA(e){const t=Error(`No component factory found for ${xt(e)}.`);return t.ngComponent=e,t}(t)}}let Va=(()=>{class e{static#e=this.NULL=new rA}return e})();function iA(){return Gi(Ut(),pe())}function Gi(e,t){return new Vr(cn(e,t))}let Vr=(()=>{class e{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=iA}return e})();function sA(e){return e instanceof Vr?e.nativeElement:e}class Fg{}let $a=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function oA(){const e=pe(),n=vn(Ut().index,e);return(yn(n)?n:e)[We]}()}return e})(),aA=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>null})}return e})();class za{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const lA=new za("16.1.1"),Su={};function eo(e){for(;e;){e[Ge]|=64;const t=$s(e);if(gc(e)&&!t)return e;e=t}return null}function Tu(e){return e.ngOriginalError}class li{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Tu(t);for(;n&&Tu(n);)n=Tu(n);return n||null}}const Og=new Re("",{providedIn:"root",factory:()=>!1});function vr(e){return e instanceof Function?e():e}class Ug extends If{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){eo(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,r){const i=jt(this);this.trackingVersion++;try{t(n,r)}finally{jt(i)}}destroy(){this.trackingVersion++}}let Wa=null;function Vg(){return Wa??=new Ug,Wa}function $g(e,t){return e[t]??Vg()}function zg(e,t){const n=Vg();n.hasReadASignal&&(e[t]=Wa,n.lView=e,Wa=new Ug)}const qe={};function _r(e){Gg(tt(),pe(),Jt()+e,!1)}function Gg(e,t,n,r){if(!r)if(3==(3&t[Ge])){const s=e.preOrderCheckHooks;null!==s&&ua(t,s,n)}else{const s=e.preOrderHooks;null!==s&&da(t,s,0,n)}ri(n)}function Yg(e,t=null,n=null,r){const i=Kg(e,t,n,r);return i.resolveInjectorInitializers(),i}function Kg(e,t=null,n=null,r,i=new Set){const s=[n||rt,Lw(e)];return r=r||("object"==typeof e?void 0:xt(e)),new fu(s,t||Oa(),r||null,i)}let br=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=As;static#t=this.NULL=new vg;static create(n,r){if(Array.isArray(n))return Yg({name:""},r,n,"");{const i=n.name??"";return Yg({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=Fe({token:e,providedIn:"any",factory:()=>Pe(mg)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Le(e,t=Ne.Default){const n=pe();return null===n?Pe(e,t):dp(Ut(),n,Ve(e),t)}function qa(e,t,n,r,i,s,o,a,l,c,g){const C=t.blueprint.slice();return C[Pt]=i,C[Ge]=140|r,(null!==c||e&&2048&e[Ge])&&(C[Ge]|=2048),Bf(C),C[pt]=C[Ti]=e,C[Ct]=n,C[Jr]=o||e&&e[Jr],C[We]=a||e&&e[We],C[Si]=l||e&&e[Si]||null,C[Gt]=s,C[Fs]=function BE(){return jE++}(),C[pr]=g,C[Ef]=c,C[Et]=2==t.type?e[Et]:C,C}function qi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function Mu(e,t,n,r,i){const s=Gf(),o=Dc(),l=e.data[t]=function IA(e,t,n,r,i,s){let o=t?t.injectorIndex:-1,a=0;return function xi(){return null!==Ue.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(e,t,n,r,i),function UC(){return Ue.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ns(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zn(s,!0),s}function to(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Qg(e,t,n,r,i){const s=$g(t,ea),o=Jt(),a=2&r;try{if(ri(-1),a&&t.length>et&&Gg(e,t,et,!1),Kn(a?2:0,i),a)s.runInContext(n,r,i);else{const c=jt(null);try{n(r,i)}finally{jt(c)}}}finally{a&&null===t[ea]&&zg(t,ea),ri(o),Kn(a?3:1,i)}}function Iu(e,t,n){if(pc(t)){const r=jt(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=e.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{jt(r)}}}function Ru(e,t,n){zf()&&(function OA(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;ei(n)&&function $A(e,t,n){const r=cn(t,e),i=Jg(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Xa(e,qa(e,i,null,o,r,t,null,e[Jr].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ga(n,t),qt(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const l=e.data[a],c=ii(t,e,a,n);qt(c,t),null!==o&&zA(0,a-i,c,l,0,o),On(l)&&(vn(n.index,t)[Ct]=ii(t,e,a,n))}}(e,t,n,cn(n,t)),64==(64&n.flags)&&im(e,t,n))}function xu(e,t,n=cn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Jg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Pu(e,t,n,r,i,s,o,a,l,c,g){const C=et+r,L=C+i,X=function EA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:qe);return n}(C,L),ne="function"==typeof c?c():c;return X[Te]={type:e,blueprint:X,template:n,queries:null,viewQuery:a,declTNode:t,data:X.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:ne,incompleteFirstPass:!1,ssrId:g}}let em=e=>null;function tm(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const s=e[i];null===r?nm(n,t,i,s):r.hasOwnProperty(i)&&nm(n,t,r[i],s)}return n}function nm(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Fu(e,t,n,r){if(zf()){const i=null===r?null:{"":-1},s=function jA(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(yf(t,o.selectors,!1))if(r||(r=[]),On(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),ku(e,t,a.length)}else r.unshift(o),ku(e,t,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(e,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&rm(e,t,n,o,i,a),i&&function BA(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const s=n[t[i+1]];if(null==s)throw new De(-301,!1);r.push(t[i],s)}}}(n,r,i)}n.mergedAttrs=Ms(n.mergedAttrs,n.attrs)}function rm(e,t,n,r,i,s){for(let c=0;c<r.length;c++)Fc(ga(n,t),e,r[c].type);!function UA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const g=r[c];g.providersResolver&&g.providersResolver(g)}let o=!1,a=!1,l=to(e,t,r.length,null);for(let c=0;c<r.length;c++){const g=r[c];n.mergedAttrs=Ms(n.mergedAttrs,g.hostAttrs),VA(e,n,t,l,g),HA(l,g,i),null!==g.contentQueries&&(n.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(n.flags|=64);const C=g.type.prototype;!o&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(C.ngOnChanges||C.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function RA(e,t,n){const i=t.directiveEnd,s=e.data,o=t.attrs,a=[];let l=null,c=null;for(let g=t.directiveStart;g<i;g++){const C=s[g],L=n?n.get(C):null,ne=L?L.outputs:null;l=tm(C.inputs,g,l,L?L.inputs:null),c=tm(C.outputs,g,c,ne);const ie=null===l||null===o||mf(t)?null:GA(l,g,o);a.push(ie)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,s)}function im(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function $C(){return Ue.lFrame.currentDirectiveIndex}();try{ri(s);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];Ec(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&LA(l,c)}}finally{ri(-1),Ec(o)}}function LA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ku(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function HA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;On(t)&&(n[""]=e)}}function VA(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ti(i.type)),o=new Os(s,On(i),Le);e.blueprint[r]=o,n[r]=o,function kA(e,t,n,r,i){const s=i.hostBindings;if(s){let o=e.hostBindingOpCodes;null===o&&(o=e.hostBindingOpCodes=[]);const a=~t.index;(function NA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(e,t,r,to(e,n,i.hostVars,qe),i)}function zA(e,t,n,r,i,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)sm(r,n,o[a++],o[a++],o[a++])}function sm(e,t,n,r,i){const s=jt(null);try{const o=e.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{jt(s)}}function GA(e,t,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const o=e[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function om(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function am(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=e.data[s];Ac(n[r]),o.contentQueries(2,t[s],s)}}}function Xa(e,t){return e[xs]?e[Cf][Nn]=t:e[xs]=t,e[Cf]=t,t}function Ou(e,t,n){Ac(0);const r=jt(null);try{t(e,n)}finally{jt(r)}}function lm(e){return e[Ai]||(e[Ai]=[])}function cm(e){return e.cleanup||(e.cleanup=[])}function dm(e,t){const n=e[Si],r=n?n.get(li,null):null;r&&r.handleError(t)}function Lu(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];sm(e.data[o],t[o],r,a,i)}}function Dr(e,t,n){const r=function aa(e,t){return dt(t[e])}(t,e);!function Vp(e,t,n){e.setValue(t,n)}(e[We],r,n)}function WA(e,t){const n=vn(t,e),r=n[Te];!function qA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Pt];null!==i&&null===n[pr]&&(n[pr]=Mg(i,n[Si])),ju(r,n,n[Ct])}function ju(e,t,n){Sc(t);try{const r=e.viewQuery;null!==r&&Ou(1,r,n);const i=e.template;null!==i&&Qg(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&am(e,t),e.staticViewQueries&&Ou(2,e.viewQuery,n);const s=e.components;null!==s&&function XA(e,t){for(let n=0;n<t.length;n++)WA(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ge]&=-5,Tc()}}let hm=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new yC(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ya(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?i=nc(i,a):2==s&&(r=nc(r,a+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function no(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(dt(s)),ln(s)){for(let a=Wt;a<s.length;a++){const l=s[a],c=l[Te].firstChild;null!==c&&no(l[Te],l,c,r)}s[Xn]!==s[Pt]&&r.push(s[Xn])}const o=n.type;if(8&o)no(e,t,n.child,r);else if(32&o){const a=Wc(n,t);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Qp(t,n);if(Array.isArray(a))r.push(...a);else{const l=$s(t[Et]);no(l[Te],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ka(e,t,n,r=!0){const i=t[Jr].rendererFactory;i.begin&&i.begin();try{fm(e,t,e.template,n)}catch(o){throw r&&dm(t,o),o}finally{i.end&&i.end(),t[Jr].effectManager?.flush()}}function fm(e,t,n,r){const i=t[Ge];if(256!=(256&i)){t[Jr].effectManager?.flush(),Sc(t);try{Bf(t),function qf(e){return Ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Qg(e,t,n,2,r);const o=3==(3&i);if(o){const c=e.preOrderCheckHooks;null!==c&&ua(t,c,null)}else{const c=e.preOrderHooks;null!==c&&da(t,c,0,null),Mc(t,0)}if(function JA(e){for(let t=Bp(e);null!==t;t=Hp(t)){if(!t[wf])continue;const n=t[Ii];for(let r=0;r<n.length;r++){MC(n[r])}}}(t),pm(t,2),null!==e.contentQueries&&am(e,t),o){const c=e.contentCheckHooks;null!==c&&ua(t,c)}else{const c=e.contentHooks;null!==c&&da(t,c,1),Mc(t,1)}!function CA(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=$g(t,ta);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)ri(~s);else{const o=s,a=n[++i],l=n[++i];VC(a,o),r.runInContext(l,2,t[o])}}}finally{null===t[ta]&&zg(t,ta),ri(-1)}}(e,t);const a=e.components;null!==a&&mm(t,a,0);const l=e.viewQuery;if(null!==l&&Ou(2,l,r),o){const c=e.viewCheckHooks;null!==c&&ua(t,c)}else{const c=e.viewHooks;null!==c&&da(t,c,2),Mc(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ge]&=-73,Hf(t)}finally{Tc()}}}function pm(e,t){for(let n=Bp(e);null!==n;n=Hp(n))for(let r=Wt;r<n.length;r++)gm(n[r],t)}function eS(e,t,n){gm(vn(t,e),n)}function gm(e,t){if(!function SC(e){return 128==(128&e[Ge])}(e))return;const n=e[Te];if(80&e[Ge]&&0===t||1024&e[Ge]||2===t)fm(n,e,n.template,e[Ct]);else if(e[Rs]>0){pm(e,1);const i=e[Te].components;null!==i&&mm(e,i,1)}}function mm(e,t,n){for(let r=0;r<t.length;r++)eS(e,t[r],n)}class ro{get rootNodes(){const t=this._lView,n=t[Te];return no(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(t){this._lView[Ct]=t}get destroyed(){return 256==(256&this._lView[Ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[pt];if(ln(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Xc(t,r),va(n,r))}this._attachedToViewContainer=!1}zp(this._lView[Te],this._lView)}onDestroy(t){!function Vf(e,t){if(256==(256&e[Ge]))throw new De(911,!1);null===e[jr]&&(e[jr]=[]),e[jr].push(t)}(this._lView,t)}markForCheck(){eo(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){this._lView[Ge]|=128}detectChanges(){Ka(this._lView[Te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JE(e,t){Gs(e,t,t[We],2,null,null)}(this._lView[Te],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=t}}class tS extends ro{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Ka(t[Te],t,t[Ct],!1)}checkNoChanges(){}get context(){return null}}class ym extends Va{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=it(t);return new io(n,this.ngModule)}}function vm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class rS{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Zo(r);const i=this.injector.get(t,Su,r);return i!==Su||n===Su?i:this.parentInjector.get(t,n,r)}}class io extends xg{get inputs(){return vm(this.componentDef.inputs)}get outputs(){return vm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function QD(e){return e.map(ZD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let s=(i=i||this.ngModule)instanceof Jn?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new rS(t,s):t,a=o.get(Fg,null);if(null===a)throw new De(407,!1);const g={rendererFactory:a,sanitizer:o.get(aA,null),effectManager:o.get(hm,null)},C=a.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",X=r?function wA(e,t,n,r){const s=r.get(Og,!1)||n===gn.ShadowDom,o=e.selectRootElement(t,s);return function AA(e){em(e)}(o),o}(C,r,this.componentDef.encapsulation,o):Ma(C,L,function nS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(L)),ue=this.componentDef.signals?4608:this.componentDef.onPush?576:528,ge=Pu(0,null,null,1,0,null,null,null,null,null,null),ce=qa(null,ge,null,ue,null,null,g,C,o,null,null);let Me,je;Sc(ce);try{const $e=this.componentDef;let Ot,Jl=null;$e.findHostDirectiveDefs?(Ot=[],Jl=new Map,$e.findHostDirectiveDefs($e,Ot,Jl),Ot.push($e)):Ot=[$e];const zO=function sS(e,t){const n=e[Te],r=et;return e[r]=t,qi(n,r,2,"#host",null)}(ce,X),GO=function oS(e,t,n,r,i,s,o){const a=i[Te];!function aS(e,t,n,r){for(const i of e)t.mergedAttrs=Ms(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ya(t,t.mergedAttrs,!0),null!==n&&ng(r,n,t))}(r,e,t,o);let l=null;null!==t&&(l=Mg(t,i[Si]));const c=s.rendererFactory.createRenderer(t,n);let g=16;n.signals?g=4096:n.onPush&&(g=64);const C=qa(i,Jg(n),null,g,i[e.index],e,s,c,null,null,l);return a.firstCreatePass&&ku(a,e,r.length-1),Xa(i,C),i[e.index]=C}(zO,X,$e,Ot,ce,g,C);je=jf(ge,et),X&&function cS(e,t,n,r){if(r)hc(e,n,["ng-version",lA.full]);else{const{attrs:i,classes:s}=function JD(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!kn(i))break;i=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&hc(e,n,i),s&&s.length>0&&tg(e,n,s.join(" "))}}(C,$e,X,r),void 0!==n&&function uS(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(je,this.ngContentSelectors,n),Me=function lS(e,t,n,r,i,s){const o=Ut(),a=i[Te],l=cn(o,i);rm(a,i,o,n,null,r);for(let g=0;g<n.length;g++)qt(ii(i,a,o.directiveStart+g,o),i);im(a,i,o),l&&qt(l,i);const c=ii(i,a,o.directiveStart+o.componentOffset,o);if(e[Ct]=i[Ct]=c,null!==s)for(const g of s)g(c,t);return Iu(a,o,e),c}(GO,$e,Ot,Jl,ce,[dS]),ju(ge,ce,null)}finally{Tc()}return new iS(this.componentType,Me,Gi(je,ce),ce,je)}}class iS extends tA{constructor(t,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new tS(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;Lu(s[Te],s,i,t,n),this.previousInputValues.set(t,n),eo(vn(this._tNode.index,s))}}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dS(){const e=Ut();ca(pe()[Te],e)}function Qa(e){return!!Bu(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Bu(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Xt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function co(e,t,n,r,i,s,o,a){const l=pe(),c=tt(),g=e+et,C=c.firstCreatePass?function HS(e,t,n,r,i,s,o,a,l){const c=t.consts,g=qi(t,e,4,o||null,Br(c,a));Fu(t,n,g,Br(c,l)),ca(t,g);const C=g.tView=Pu(2,g,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,g),C.queries=t.queries.embeddedTView(g)),g}(g,c,l,t,n,r,i,s,o):c.data[g];Zn(C,!1);const L=Lm(c,l,C,e);la()&&Ra(c,l,L,C),qt(L,l),Xa(l,l[g]=om(L,l,L,C)),ra(C)&&Ru(c,l,C),null!=o&&xu(l,C,a)}let Lm=function jm(e,t,n,r){return Hr(!0),t[We].createComment("")};function Cr(e,t,n){const r=pe();return Xt(r,Pi(),t)&&function bn(e,t,n,r,i,s,o,a){const l=cn(t,n);let g,c=t.inputs;!a&&null!=c&&(g=c[r])?(Lu(e,n,g,r,i),ei(t)&&function PA(e,t){const n=vn(t,e);16&n[Ge]||(n[Ge]|=64)}(n,t.index)):3&t.type&&(r=function xA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,s.setProperty(l,r,i))}(tt(),function gt(){const e=Ue.lFrame;return jf(e.tView,e.selectedIndex)}(),r,e,t,r[We],n,!1),Cr}function Wu(e,t,n,r,i){const o=i?"class":"style";Lu(e,n,t.inputs[o],o,r)}function Tn(e,t,n,r){const i=pe(),s=tt(),o=et+e,a=i[We],l=s.firstCreatePass?function GS(e,t,n,r,i,s){const o=t.consts,l=qi(t,e,2,r,Br(o,i));return Fu(t,n,l,Br(o,s)),null!==l.attrs&&Ya(l,l.attrs,!1),null!==l.mergedAttrs&&Ya(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,i,t,n,r):s.data[o],c=Bm(s,i,l,a,t,e);i[o]=c;const g=ra(l);return Zn(l,!0),ng(a,c,l),32!=(32&l.flags)&&la()&&Ra(s,i,c,l),0===function RC(){return Ue.lFrame.elementDepthCount}()&&qt(c,i),function xC(){Ue.lFrame.elementDepthCount++}(),g&&(Ru(s,i,l),Iu(s,l,i)),null!==r&&xu(i,l),Tn}function nr(){let e=Ut();Dc()?function Cc(){Ue.lFrame.isParent=!1}():(e=e.parent,Zn(e,!1));const t=e;(function FC(e){return Ue.skipHydrationRootTNode===e})(t)&&function LC(){Ue.skipHydrationRootTNode=null}(),function PC(){Ue.lFrame.elementDepthCount--}();const n=tt();return n.firstCreatePass&&(ca(n,e),pc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function eE(e){return 0!=(8&e.flags)}(t)&&Wu(n,t,pe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function tE(e){return 0!=(16&e.flags)}(t)&&Wu(n,t,pe(),t.stylesWithoutHost,!1),nr}function $r(e,t,n,r){return Tn(e,t,n,r),nr(),$r}let Bm=(e,t,n,r,i,s)=>(Hr(!0),Ma(r,i,function tp(){return Ue.lFrame.currentNamespace}()));function rl(e){return!!e&&"function"==typeof e.then}function Vm(e){return!!e&&"function"==typeof e.subscribe}function rs(e,t,n,r){const i=pe(),s=tt(),o=Ut();return function zm(e,t,n,r,i,s,o){const a=ra(r),c=e.firstCreatePass&&cm(e),g=t[Ct],C=lm(t);let L=!0;if(3&r.type||o){const ie=cn(r,t),ue=o?o(ie):ie,ge=C.length,ce=o?je=>o(dt(je[r.index])):r.index;let Me=null;if(!o&&a&&(Me=function QS(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=t[Ai],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(e,t,i,r.index)),null!==Me)(Me.__ngLastListenerFn__||Me).__ngNextListenerFn__=s,Me.__ngLastListenerFn__=s,L=!1;else{s=Wm(r,t,g,s,!1);const je=n.listen(ue,i,s);C.push(s,je),c&&c.push(i,ce,ge,ge+1)}}else s=Wm(r,t,g,s,!1);const X=r.outputs;let ne;if(L&&null!==X&&(ne=X[i])){const ie=ne.length;if(ie)for(let ue=0;ue<ie;ue+=2){const $e=t[ne[ue]][ne[ue+1]].subscribe(s),Ot=C.length;C.push(s,$e),c&&c.push(i,r.index,Ot,-(Ot+1))}}}(s,i,i[We],o,e,t,r),rs}function Gm(e,t,n,r){try{return Kn(6,t,n),!1!==n(r)}catch(i){return dm(e,i),!1}finally{Kn(7,t,n)}}function Wm(e,t,n,r,i){return function s(o){if(o===Function)return r;eo(e.componentOffset>-1?vn(e.index,t):t);let l=Gm(t,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=Gm(t,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&o.preventDefault(),l}}function qm(e=1){return function GC(e){return(Ue.lFrame.contextLView=function WC(e,t){for(;e>0;)t=t[Ti],e--;return t}(e,Ue.lFrame.contextLView))[Ct]}(e)}function ho(e,t=""){const n=pe(),r=tt(),i=e+et,s=r.firstCreatePass?qi(r,i,1,t,null):r.data[i],o=vy(r,n,s,t,e);n[i]=o,la()&&Ra(r,n,o,s),Zn(s,!1)}let vy=(e,t,n,r,i)=>(Hr(!0),function Ta(e,t){return e.createText(t)}(t[We],r));function ol(e,t,n){const r=pe(),i=function Yi(e,t,n,r){return Xt(e,Pi(),n)?t+ze(n)+r:qe}(r,e,t,n);return i!==qe&&Dr(r,Jt(),i),ol}const os="en-US";let Uy=os;class as{}class fv{}class od extends as{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ym(this);const i=mn(t);this._bootstrapComponents=vr(i.bootstrap),this._r3Injector=Kg(t,n,[{provide:as,useValue:this},{provide:Va,useValue:this.componentFactoryResolver},...r],xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ad extends fv{constructor(t){super(),this.moduleType=t}create(t){return new od(this.moduleType,t,[])}}class pv extends as{constructor(t){super(),this.componentFactoryResolver=new ym(this),this.instance=null;const n=new fu([...t.providers,{provide:as,useValue:this},{provide:Va,useValue:this.componentFactoryResolver}],t.parent||Oa(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ld(e,t,n=null){return new pv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let qM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=_g(0,n.type),i=r.length>0?ld([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fe({token:e,providedIn:"environment",factory:()=>new e(Pe(Jn))})}return e})();function gv(e){e.getStandaloneInjector=t=>t.get(qM).getOrCreateStandaloneInjector(e)}function Cv(e,t,n,r){return function Ev(e,t,n,r,i,s){const o=t+n;return Xt(e,o,i)?function tr(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function vo(e,t){const n=e[t];return n===qe?void 0:n}(e,o+1)}(pe(),function Qt(){const e=Ue.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),e,t,n,r)}function ud(e){return t=>{setTimeout(e,void 0,t)}}const tn=class vI extends u{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,s=n||(()=>null),o=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=ud(s),i&&(i=ud(i)),o&&(o=ud(o)));const a=super.subscribe({next:i,error:s,complete:o});return t instanceof Z&&t.add(a),a}};function _I(){return this._results[Symbol.iterator]()}class dd{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new tn)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=dd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=_I)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function An(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function hE(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Er=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=CI}return e})();const bI=Er,DI=class extends bI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,r){const o=this._declarationTContainer.tView,a=qa(this._declarationLView,o,t,4096&this._declarationLView[Ge]?4096:16,null,o.declTNode,null,null,null,n||null,r||null);a[Ps]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[qn];return null!==c&&(a[qn]=c.createEmbeddedView(o)),ju(o,a,t),new ro(a)}};function CI(){return dl(Ut(),pe())}function dl(e,t){return 4&e.type?new DI(t,e,Gi(e,t)):null}let Bn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=II}return e})();function II(){return Fv(Ut(),pe())}const RI=Bn,xv=class extends RI{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Gi(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){const t=Pc(this._hostTNode,this._hostLView);if(sp(t)){const n=fa(t,this._hostLView),r=ha(t);return new ki(n[Te].data[r+8],n)}return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Pv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(t,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=t.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,s){const o=t&&!function js(e){return"function"==typeof e}(t);let a;if(o)a=n;else{const ie=n||{};a=ie.index,r=ie.injector,i=ie.projectableNodes,s=ie.environmentInjector||ie.ngModuleRef}const l=o?t:new io(it(t)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const ue=(o?c:this.parentInjector).get(Jn,null);ue&&(s=ue)}it(l.componentType??{});const X=l.create(c,i,null,s);return this.insertImpl(X.hostView,a,false),X}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView,s=i[Te];if(function TC(e){return ln(e[pt])}(i)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=i[pt],g=new xv(c,c[Gt],c[pt]);g.detach(g.indexOf(t))}}const o=this._adjustIndex(n),a=this._lContainer;if(function tw(e,t,n,r){const i=Wt+r,s=n.length;r>0&&(n[i-1][Nn]=t),r<s-Wt?(t[Nn]=n[i],vp(n,Wt+r,t)):(n.push(t),t[Nn]=null),t[pt]=n;const o=t[Ps];null!==o&&n!==o&&function nw(e,t){const n=e[Ii];t[Et]!==t[pt][pt][Et]&&(e[wf]=!0),null===n?e[Ii]=[t]:n.push(t)}(o,t);const a=t[qn];null!==a&&a.insertView(e),t[Ge]|=128}(s,i,a,o),!r){const l=Qc(o,a),c=i[We],g=Ia(c,a[Xn]);null!==g&&function QE(e,t,n,r,i,s){r[Pt]=i,r[Gt]=t,Gs(e,r,n,1,i,s)}(s,a[Gt],c,i,g,l)}return t.attachToViewContainerRef(),vp(fd(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Pv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Xc(this._lContainer,n);r&&(va(fd(this._lContainer),n),zp(r[Te],r))}detach(t){const n=this._adjustIndex(t,-1),r=Xc(this._lContainer,n);return r&&null!=va(fd(this._lContainer),n)?new ro(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Pv(e){return e[8]}function fd(e){return e[8]||(e[8]=[])}function Fv(e,t){let n;const r=t[e.index];return ln(r)?n=r:(n=om(r,t,null,e),t[e.index]=n,Xa(t,n)),kv(n,t,e,r),new xv(n,e,t)}let kv=function Nv(e,t,n,r){if(e[Xn])return;let i;i=8&n.type?dt(r):function xI(e,t){const n=e[We],r=n.createComment(""),i=cn(t,e);return si(n,Ia(n,i),r,function ow(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Xn]=i};class pd{constructor(t){this.queryList=t,this.matches=null}clone(){return new pd(this.queryList)}setDirty(){this.queryList.setDirty()}}class gd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new gd(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Vv(t,n).matches&&this.queries[n].setDirty()}}class Ov{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class md{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new md(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new yd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(t,n,kI(n,s)),this.matchTNodeWithReadOption(t,n,ma(n,t,s,!1,!1))}else r===Er?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ma(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Vr||i===Bn||i===Er&&4&n.type)this.addMatch(n.index,-2);else{const s=ma(n,t,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function kI(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function OI(e,t,n,r){return-1===n?function NI(e,t){return 11&e.type?Gi(e,t):4&e.type?dl(e,t):null}(t,e):-2===n?function LI(e,t,n){return n===Vr?Gi(t,e):n===Er?dl(t,e):n===Bn?Fv(t,e):void 0}(e,t,r):ii(e,e[Te],n,t)}function Lv(e,t,n,r){const i=t[qn].queries[r];if(null===i.matches){const s=e.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:OI(t,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function vd(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Lv(e,t,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],g=t[-l];for(let C=Wt;C<g.length;C++){const L=g[C];L[Ps]===L[pt]&&vd(L[Te],L,c,r)}if(null!==g[Ii]){const C=g[Ii];for(let L=0;L<C.length;L++){const X=C[L];vd(X[Te],X,c,r)}}}}}return r}function _d(e){const t=pe(),n=tt(),r=Yf();Ac(r+1);const i=Vv(n,r);if(e.dirty&&function AC(e){return 4==(4&e[Ge])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?vd(n,t,r,[]):Lv(n,t,i,r);e.reset(s,sA),e.notifyOnChanges()}return!0}return!1}function jv(e,t,n){const r=tt();r.firstCreatePass&&(function Uv(e,t,n){null===e.queries&&(e.queries=new md),e.queries.track(new yd(t,n))}(r,new Ov(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Hv(e,t,n){const r=new dd(4==(4&n));(function MA(e,t,n,r){const i=lm(t);i.push(n),e.firstCreatePass&&cm(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[qn]&&(t[qn]=new gd),t[qn].queries.push(new pd(r))}(r,pe(),t)}function Vv(e,t){return e.queries.getByIndex(t)}const Sd=new Re("Application Initializer");let Td=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ie(Sd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(rl(s))n.push(s);else if(Vm(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),s_=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const wr=new Re("LocaleId",{providedIn:"root",factory:()=>Ie(wr,Ne.Optional|Ne.SkipSelf)||function aR(){return typeof $localize<"u"&&$localize.locale||os}()});let fl=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new D(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class cR{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let o_=(()=>{class e{compileModuleSync(n){return new ad(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=vr(mn(n).declarations).reduce((o,a)=>{const l=it(a);return l&&o.push(new io(l)),o},[]);return new cR(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const hR=(()=>Promise.resolve(0))();function Md(e){typeof Zone>"u"?hR.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function c_(...e){}class mt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tn(!1),this.onMicrotaskEmpty=new tn(!1),this.onStable=new tn(!1),this.onError=new tn(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function fR(){let e=ct.requestAnimationFrame,t=ct.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mR(e){const t=()=>{!function gR(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ct,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Rd(e),e.isCheckStableRunning=!0,Id(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Rd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return u_(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),d_(e)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return u_(e),n.invoke(i,s,o,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),d_(e)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Rd(e),Id(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mt.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(mt.isInAngularZone())throw new De(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,t,pR,c_,c_);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const pR={};function Id(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function u_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function d_(e){e._nesting--,Id(e)}class yR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tn,this.onMicrotaskEmpty=new tn,this.onStable=new tn,this.onError=new tn}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const h_=new Re("",{providedIn:"root",factory:f_});function f_(){const e=Ie(mt);let t=!0;return function ED(...e){const t=ws(e),n=function mD(e,t){return"number"==typeof ec(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Pn(r[0]):Ci(n)(Lt(r,t)):zn}(new A(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new A(i=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{mt.assertNotInAngularZone(),Md(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const o=e.onUnstable.subscribe(()=>{mt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Qh()))}const p_=new Re(""),pl=new Re("");let Fd,xd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fd||(function vR(e){Fd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mt.assertNotInAngularZone(),Md(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Md(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(mt),Pe(Pd),Pe(pl))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),Pd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Fd?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Gr=null;const g_=new Re("AllowMultipleToken"),kd=new Re("PlatformDestroyListeners"),Nd=new Re("appBootstrapListener");class y_{constructor(t,n){this.name=t,this.token=n}}function __(e,t,n=[]){const r=`Platform: ${t}`,i=new Re(r);return(s=[])=>{let o=Od();if(!o||o.injector.get(g_,!1)){const a=[...n,...s,{provide:i,useValue:!0}];e?e(a):function DR(e){if(Gr&&!Gr.get(g_,!1))throw new De(400,!1);(function m_(){!function gC(e){Rf=e}(()=>{throw new De(600,!1)})})(),Gr=e;const t=e.get(D_);(function v_(e){e.get(wg,null)?.forEach(n=>n())})(e)}(function b_(e=[],t){return br.create({name:t,providers:[{provide:du,useValue:"platform"},{provide:kd,useValue:new Set([()=>Gr=null])},...e]})}(a,r))}return function ER(e){const t=Od();if(!t)throw new De(401,!1);return t}()}}function Od(){return Gr?.get(D_)??null}let D_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function wR(e="zone.js",t){return"noop"===e?new yR:"zone.js"===e?new mt(t):e}(r?.ngZone,function C_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function WM(e,t,n){return new od(e,t,n)}(n.moduleType,this.injector,function T_(e){return[{provide:mt,useFactory:e},{provide:Ks,multi:!0,useFactory:()=>{const t=Ie(SR,{optional:!0});return()=>t.initialize()}},{provide:S_,useFactory:AR},{provide:h_,useFactory:f_}]}(()=>i)),o=s.injector.get(li,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{gl(this._modules,s),a.unsubscribe()})}),function E_(e,t,n){try{const r=n();return rl(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Td);return a.runInitializers(),a.donePromise.then(()=>(function Vy(e){wn(e,"Expected localeId to be defined"),"string"==typeof e&&(Uy=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(wr,os)||os),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=w_({},r);return function _R(e,t,n){const r=new ad(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(us);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new De(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(kd,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(br))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function w_(e,t){return Array.isArray(t)?t.reduce(w_,e):{...e,...t}}let us=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(S_),this.zoneIsStable=Ie(h_),this.componentTypes=[],this.components=[],this.isStable=Ie(fl).hasPendingTasks.pipe(Fn(n=>n?He(!1):this.zoneIsStable),function wD(e,t=_e){return e=e??AD,P((n,r)=>{let i,s=!0;n.subscribe(B(r,o=>{const a=t(o);(s||!e(i,a))&&(s=!1,i=a,r.next(o))}))})}(),Qh()),this._injector=Ie(Jn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof xg;if(!this._injector.get(Td).done)throw!i&&function wi(e){const t=it(e)||zt(e)||an(e);return null!==t&&t.standalone}(n),new De(405,!1);let o;o=i?n:this._injector.get(Va).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function bR(e){return e.isBoundToModule}(o)?void 0:this._injector.get(as),c=o.create(br.NULL,[],r||o.selector,a),g=c.location.nativeElement,C=c.injector.get(p_,null);return C?.registerApplication(g),c.onDestroy(()=>{this.detachView(c.hostView),gl(this.components,c),C?.unregisterApplication(g)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Nd,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new De(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const S_=new Re("",{providedIn:"root",factory:()=>Ie(li).handleError.bind(void 0)});function AR(){const e=Ie(mt),t=Ie(li);return n=>e.runOutsideAngular(()=>t.handleError(n))}let SR=(()=>{class e{constructor(){this.zone=Ie(mt),this.applicationRef=Ie(us)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ld=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=MR}return e})();function MR(e){return function IR(e,t,n){if(ei(e)&&!n){const r=vn(e.index,t);return new ro(r,r)}return 47&e.type?new ro(t[Et],t):null}(Ut(),pe(),16==(16&e))}class x_{constructor(){}supports(t){return Qa(t)}create(t){return new NR(t)}}const kR=(e,t)=>t;class NR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||kR}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<F_(r,i,s)?n:r,a=F_(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,g=l-i;if(c!=g){for(let L=0;L<c;L++){const X=L<s.length?s[L]:s[L]=0,ne=X+L;g<=ne&&ne<c&&(s[L]=X+1)}s[o.previousIndex]=g-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Qa(t))throw new De(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function CS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,i)):t=this._addAfter(new OR(n,r),s,i),t}_verifyReinsertion(t,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,s=t._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new P_),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new P_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class OR{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class P_{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new LR,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function F_(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class k_{constructor(){}supports(t){return t instanceof Map||Bu(t)}create(){return new jR}}class jR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Bu(t)))throw new De(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new BR(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class BR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N_(){return new vl([new x_])}let vl=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:N_});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||N_()),deps:[[e,new Da,new ba]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new De(901,!1)}}return e})();function O_(){return new Do([new k_])}let Do=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:O_});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||O_()),deps:[[e,new Da,new ba]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new De(901,!1)}}return e})();const VR=__(null,"core",[]);let $R=(()=>{class e{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(us))};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({})}return e})(),Gd=null;function ds(){return Gd}class tx{}const Dn=new Re("DocumentToken");let Wd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Ie(rx)},providedIn:"platform"})}return e})();const nx=new Re("Location Initialized");let rx=(()=>{class e extends Wd{constructor(){super(),this._doc=Ie(Dn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ds().getBaseHref(this._doc)}onPopState(n){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ds().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function qd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function $_(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ar(e){return e&&"?"!==e[0]?"?"+e:e}let fi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Ie(G_)},providedIn:"root"})}return e})();const z_=new Re("appBaseHref");let G_=(()=>{class e extends fi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ie(Dn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Ar(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Ar(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Wd),Pe(z_,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ix=(()=>{class e extends fi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=qd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ar(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ar(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Wd),Pe(z_,8))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})(),Xd=(()=>{class e{constructor(n){this._subject=new tn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function ax(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}($_(W_(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ar(r))}normalize(n){return e.stripTrailingSlash(function ox(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,W_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=Ar;static#t=this.joinWithSlash=qd;static#n=this.stripTrailingSlash=$_;static#r=this.\u0275fac=function(r){return new(r||e)(Pe(fi))};static#s=this.\u0275prov=Fe({token:e,factory:function(){return function sx(){return new Xd(Pe(fi))}()},providedIn:"root"})}return e})();function W_(e){return e.replace(/\/index.html$/,"")}function tb(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}const ih=/\s+/,nb=[];let rb=(()=>{class e{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=nb,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(ih):nb}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(ih):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(ih).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(Le(vl),Le(Do),Le(Vr),Le($a))};static#t=this.\u0275dir=Zt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})(),ob=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new qx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ab("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ab("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(Le(Bn),Le(Er))};static#t=this.\u0275dir=Zt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class qx{constructor(){this.$implicit=null,this.ngIf=null}}function ab(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${xt(t)}'.`)}let vP=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({})}return e})();function db(e){return"server"===e}let CP=(()=>{class e{static#e=this.\u0275prov=Fe({token:e,providedIn:"root",factory:()=>new EP(Pe(Dn),window)})}return e})();class EP{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function wP(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=hb(this.window.history)||hb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function hb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class fb{}class qP extends tx{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class dh extends qP{static makeCurrent(){!function ex(e){Gd||(Gd=e)}(new dh)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function XP(){return Ao=Ao||document.querySelector("base"),Ao?Ao.getAttribute("href"):null}();return null==n?null:function YP(e){xl=xl||document.createElement("a"),xl.setAttribute("href",e);const t=xl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return tb(document.cookie,t)}}let xl,Ao=null,ZP=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const hh=new Re("EventManagerPlugins");let vb=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new De(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(hh),Pe(mt))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class _b{constructor(t){this._doc=t}}const fh="ng-app-id";let bb=(()=>{class e{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=db(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${fh}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(fh),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(fh,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Dn),Pe(La),Pe(Ag,8),Pe(ai))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},gh=/%COMP%/g,tF=new Re("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Cb(e,t){return t.map(n=>n.replace(gh,e))}let Eb=(()=>{class e{constructor(n,r,i,s,o,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=db(a),this.defaultRenderer=new mh(n,o,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r={...r,encapsulation:gn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Ab?i.applyToHost(n):i instanceof yh&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,g=this.removeStylesOnCompDestory,C=this.platformIsServer;switch(r.encapsulation){case gn.Emulated:s=new Ab(l,c,r,this.appId,g,o,a,C);break;case gn.ShadowDom:return new sF(l,c,n,r,o,a,this.nonce,C);default:s=new yh(l,c,r,g,o,a,C)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(vb),Pe(bb),Pe(La),Pe(tF),Pe(Dn),Pe(ai),Pe(mt),Pe(Ag))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();class mh{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(ph[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(wb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(wb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new De(5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const s=ph[i];s?t.setAttributeNS(s,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=ph[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(un.DashCase|un.Important)?t.style.setProperty(n,r,i&un.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&un.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ds().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function wb(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class sF extends mh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Cb(i.id,i.styles);for(const g of c){const C=document.createElement("style");a&&C.setAttribute("nonce",a),C.textContent=g,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yh extends mh{constructor(t,n,r,i,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=l?Cb(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ab extends yh{constructor(t,n,r,i,s,o,a,l){const c=i+"-"+r.id;super(t,n,r,s,o,a,l,c),this.contentAttr=function nF(e){return"_ngcontent-%COMP%".replace(gh,e)}(c),this.hostAttr=function rF(e){return"_nghost-%COMP%".replace(gh,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let oF=(()=>{class e extends _b{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Dn))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const Sb=["alt","control","meta","shift"],aF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let cF=(()=>{class e extends _b{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ds().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Sb.forEach(c=>{const g=r.indexOf(c);g>-1&&(r.splice(g,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=aF[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sb.forEach(o=>{o!==i&&(0,lF[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{e.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Dn))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const fF=__(VR,"browser",[{provide:ai,useValue:"browser"},{provide:wg,useValue:function uF(){dh.makeCurrent()},multi:!0},{provide:Dn,useFactory:function hF(){return function pw(e){tu=e}(document),document},deps:[]}]),pF=new Re(""),Ib=[{provide:pl,useClass:class KP{addToWindow(t){ct.getAngularTestability=(r,i=!0)=>{const s=t.findTestabilityInTree(r,i);if(null==s)throw new De(5103,!1);return s},ct.getAllAngularTestabilities=()=>t.getAllTestabilities(),ct.getAllAngularRootElements=()=>t.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(r=>{const i=ct.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ds().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:p_,useClass:xd,deps:[mt,Pd,pl]},{provide:xd,useClass:xd,deps:[mt,Pd,pl]}],Rb=[{provide:du,useValue:"root"},{provide:li,useFactory:function dF(){return new li},deps:[]},{provide:hh,useClass:oF,multi:!0,deps:[Dn,mt,ai]},{provide:hh,useClass:cF,multi:!0,deps:[Dn]},Eb,bb,vb,{provide:Fg,useExisting:Eb},{provide:fb,useClass:ZP,deps:[]},[]];let gF=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:La,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(pF,12))};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({providers:[...Rb,...Ib],imports:[vP,$R]})}return e})(),xb=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Dn))};static#t=this.\u0275prov=Fe({token:e,factory:function(r){let i=null;return i=r?new r:function yF(){return new xb(Pe(Dn))}(),i},providedIn:"root"})}return e})();function hs(e,t){return m(t)?Ht(e,t,1):Ht(e,1)}function Tr(e,t){return P((n,r)=>{let i=0;n.subscribe(B(r,s=>e.call(t,s,i++)&&r.next(s)))})}function So(e){return P((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}typeof window<"u"&&window;class Pl{}class Fl{}class sr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof sr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new sr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof sr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=t.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class CF{encodeKey(t){return Nb(t)}encodeValue(t){return Nb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const wF=/%(\d[a-f0-9])/gi,AF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nb(e){return encodeURIComponent(e).replace(wF,(t,n)=>AF[n]??t)}function kl(e){return`${e}`}class qr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new CF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function EF(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,s)),t.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(kl):[kl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new qr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(kl(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(kl(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class SF{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ob(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Lb(e){return typeof Blob<"u"&&e instanceof Blob}function jb(e){return typeof FormData<"u"&&e instanceof FormData}class To{constructor(t,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function TF(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new sr),this.context||(this.context=new SF),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new qr,this.urlWithParams=n}serializeBody(){return null===this.body?null:Ob(this.body)||Lb(this.body)||jb(this.body)||function MF(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof qr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jb(this.body)?null:Lb(this.body)?this.body.type||null:Ob(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const g=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((C,L)=>C.set(L,t.setHeaders[L]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((C,L)=>C.set(L,t.setParams[L]),c)),new To(n,r,s,{params:c,headers:l,context:g,reportProgress:a,responseType:i,withCredentials:o})}}var Tt=(()=>((Tt=Tt||{})[Tt.Sent=0]="Sent",Tt[Tt.UploadProgress=1]="UploadProgress",Tt[Tt.ResponseHeader=2]="ResponseHeader",Tt[Tt.DownloadProgress=3]="DownloadProgress",Tt[Tt.Response=4]="Response",Tt[Tt.User=5]="User",Tt))();class _h{constructor(t,n=200,r="OK"){this.headers=t.headers||new sr,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bh extends _h{constructor(t={}){super(t),this.type=Tt.ResponseHeader}clone(t={}){return new bh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fs extends _h{constructor(t={}){super(t),this.type=Tt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fs({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bb extends _h{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Dh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Hb=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof To)s=n;else{let l,c;l=i.headers instanceof sr?i.headers:new sr(i.headers),i.params&&(c=i.params instanceof qr?i.params:new qr({fromObject:i.params})),s=new To(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=He(s).pipe(hs(l=>this.handler.handle(l)));if(n instanceof To||"events"===i.observe)return o;const a=o.pipe(Tr(l=>l instanceof fs));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(q(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(q(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(q(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(q(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new qr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Dh(i,r))}post(n,r,i={}){return this.request("POST",n,Dh(i,r))}put(n,r,i={}){return this.request("PUT",n,Dh(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Pl))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function $b(e,t){return t(e)}function RF(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}const PF=new Re(""),Mo=new Re(""),zb=new Re("");function FF(){let e=null;return(t,n)=>{null===e&&(e=(Ie(PF,{optional:!0})??[]).reduceRight(RF,$b));const r=Ie(fl),i=r.add();return e(t,n).pipe(So(()=>r.remove(i)))}}let Gb=(()=>{class e extends Pl{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=Ie(fl)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Mo),...this.injector.get(zb,[])]));this.chain=i.reduceRight((s,o)=>function xF(e,t,n){return(r,i)=>n.runInContext(()=>t(r,s=>e(s,i)))}(s,o,this.injector),$b)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(So(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Fl),Pe(Jn))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const LF=/^\)\]\}',?\n/;let qb=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new De(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Lt(r.\u0275loadImpl()):He(null)).pipe(Fn(()=>new A(s=>{const o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((ie,ue)=>o.setRequestHeader(ie,ue.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const ie=n.detectContentTypeHeader();null!==ie&&o.setRequestHeader("Content-Type",ie)}if(n.responseType){const ie=n.responseType.toLowerCase();o.responseType="json"!==ie?ie:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const ie=o.statusText||"OK",ue=new sr(o.getAllResponseHeaders()),ge=function jF(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||n.url;return l=new bh({headers:ue,status:o.status,statusText:ie,url:ge}),l},g=()=>{let{headers:ie,status:ue,statusText:ge,url:ce}=c(),Me=null;204!==ue&&(Me=typeof o.response>"u"?o.responseText:o.response),0===ue&&(ue=Me?200:0);let je=ue>=200&&ue<300;if("json"===n.responseType&&"string"==typeof Me){const $e=Me;Me=Me.replace(LF,"");try{Me=""!==Me?JSON.parse(Me):null}catch(Ot){Me=$e,je&&(je=!1,Me={error:Ot,text:Me})}}je?(s.next(new fs({body:Me,headers:ie,status:ue,statusText:ge,url:ce||void 0})),s.complete()):s.error(new Bb({error:Me,headers:ie,status:ue,statusText:ge,url:ce||void 0}))},C=ie=>{const{url:ue}=c(),ge=new Bb({error:ie,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ue||void 0});s.error(ge)};let L=!1;const X=ie=>{L||(s.next(c()),L=!0);let ue={type:Tt.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(ue.total=ie.total),"text"===n.responseType&&o.responseText&&(ue.partialText=o.responseText),s.next(ue)},ne=ie=>{let ue={type:Tt.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(ue.total=ie.total),s.next(ue)};return o.addEventListener("load",g),o.addEventListener("error",C),o.addEventListener("timeout",C),o.addEventListener("abort",C),n.reportProgress&&(o.addEventListener("progress",X),null!==a&&o.upload&&o.upload.addEventListener("progress",ne)),o.send(a),s.next({type:Tt.Sent}),()=>{o.removeEventListener("error",C),o.removeEventListener("abort",C),o.removeEventListener("load",g),o.removeEventListener("timeout",C),n.reportProgress&&(o.removeEventListener("progress",X),null!==a&&o.upload&&o.upload.removeEventListener("progress",ne)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(fb))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();const Ch=new Re("XSRF_ENABLED"),Xb=new Re("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Yb=new Re("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Kb{}let UF=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=tb(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Dn),Pe(ai),Pe(Xb))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function VF(e,t){const n=e.url.toLowerCase();if(!Ie(Ch)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Ie(Kb).getToken(),i=Ie(Yb);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var ht=(()=>((ht=ht||{})[ht.Interceptors=0]="Interceptors",ht[ht.LegacyInterceptors=1]="LegacyInterceptors",ht[ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ht[ht.NoXsrfProtection=3]="NoXsrfProtection",ht[ht.JsonpSupport=4]="JsonpSupport",ht[ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",ht[ht.Fetch=6]="Fetch",ht))();function $F(...e){const t=[Hb,qb,Gb,{provide:Pl,useExisting:Gb},{provide:Fl,useExisting:qb},{provide:Mo,useValue:VF,multi:!0},{provide:Ch,useValue:!0},{provide:Kb,useClass:UF}];for(const n of e)t.push(...n.\u0275providers);return function au(e){return{\u0275providers:e}}(t)}const Zb=new Re("LEGACY_INTERCEPTOR_FN");function zF(){return function pi(e,t){return{\u0275kind:e,\u0275providers:t}}(ht.LegacyInterceptors,[{provide:Zb,useFactory:FF},{provide:Mo,useExisting:Zb,multi:!0}])}let GF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({providers:[$F(zF())]})}return e})();const{isArray:QF}=Array,{getPrototypeOf:JF,prototype:ek,keys:tk}=Object;const{isArray:ik}=Array;function Eh(...e){const t=ws(e),n=function gD(e){return m(ec(e))?e.pop():void 0}(e),{args:r,keys:i}=function nk(e){if(1===e.length){const t=e[0];if(QF(t))return{args:t,keys:null};if(function rk(e){return e&&"object"==typeof e&&JF(e)===ek}(t)){const n=tk(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e);if(0===r.length)return Lt([],t);const s=new A(function lk(e,t,n=_e){return r=>{Qb(t,()=>{const{length:i}=e,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)Qb(t,()=>{const c=Lt(e[l],t);let g=!1;c.subscribe(B(r,C=>{s[l]=C,g||(g=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,t,i?o=>function ak(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}(i,o):_e));return n?s.pipe(function ok(e){return q(t=>function sk(e,t){return ik(t)?e(...t):e(t)}(e,t))}(n)):s}function Qb(e,t,n){e?ur(n,e,t):t()}const Ol=S(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function wh(...e){return function ck(){return Ci(1)}()(Lt(e,ws(e)))}function Jb(e){return new A(t=>{Pn(e()).subscribe(t)})}function Io(e,t){const n=m(e)?e:()=>e,r=i=>i.error(n());return new A(t?i=>t.schedule(r,0,i):r)}function Ah(){return P((e,t)=>{let n=null;e._refCount++;const r=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class e0 extends A{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,R(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Z;const n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Z.EMPTY)}return t}refCount(){return Ah()(this)}}function ps(e){return e<=0?()=>zn:P((t,n)=>{let r=0;t.subscribe(B(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Ll(e){return P((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function t0(e=dk){return P((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function dk(){return new Ol}function gi(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Tr((i,s)=>e(i,s,r)):_e,ps(1),n?Ll(t):t0(()=>new Ol))}function rn(e,t,n){const r=m(e)||t||n?{next:e,error:t,complete:n}:e;return r?P((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(B(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):_e}function mi(e){return P((t,n)=>{let s,r=null,i=!1;r=t.subscribe(B(n,void 0,void 0,o=>{s=Pn(e(o,mi(e)(t))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Sh(e){return e<=0?()=>zn:P((t,n)=>{let r=[];t.subscribe(B(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}const Ye="primary",Ro=Symbol("RouteTitle");class mk{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function gs(e){return new mk(e)}function yk(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=e[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function or(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!n0(e[i],t[i]))return!1;return!0}function n0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,s)=>r[s]===i)}return e===t}function r0(e){return e.length>0?e[e.length-1]:null}function Xr(e){return function ZF(e){return!!e&&(e instanceof A||m(e.lift)&&m(e.subscribe))}(e)?e:rl(e)?Lt(Promise.resolve(e)):He(e)}const _k={exact:function a0(e,t,n){if(!yi(e.segments,t.segments)||!jl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!a0(e.children[r],t.children[r],n))return!1;return!0},subset:l0},s0={exact:function bk(e,t){return or(e,t)},subset:function Dk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>n0(e[n],t[n]))},ignored:()=>!0};function o0(e,t,n){return _k[n.paths](e.root,t.root,n.matrixParams)&&s0[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function l0(e,t,n){return c0(e,t,t.segments,n)}function c0(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!yi(i,n)||t.hasChildren()||!jl(i,n,r))}if(e.segments.length===n.length){if(!yi(e.segments,n)||!jl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!l0(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(yi(e.segments,i)&&jl(e.segments,i,r)&&e.children[Ye])&&c0(e.children[Ye],t,s,r)}}function jl(e,t,n){return t.every((r,i)=>s0[n](e[i].parameters,r.parameters))}class ms{constructor(t=new lt([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gs(this.queryParams)),this._queryParamMap}toString(){return wk.serialize(this)}}class lt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bl(this)}}class xo{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=gs(this.parameters)),this._parameterMap}toString(){return h0(this)}}function yi(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Po=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return new Th},providedIn:"root"})}return e})();class Th{parse(t){const n=new Nk(t);return new ms(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Fo(t.root,!0)}`,r=function Tk(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Hl(n)}=${Hl(i)}`).join("&"):`${Hl(n)}=${Hl(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Ak(e){return encodeURI(e)}(t.fragment)}`:""}`}}const wk=new Th;function Bl(e){return e.segments.map(t=>h0(t)).join("/")}function Fo(e,t){if(!e.hasChildren())return Bl(e);if(t){const n=e.children[Ye]?Fo(e.children[Ye],!1):"",r=[];return Object.entries(e.children).forEach(([i,s])=>{i!==Ye&&r.push(`${i}:${Fo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Ek(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Ye&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Ye&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Ye?[Fo(e.children[Ye],!1)]:[`${i}:${Fo(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ye]?`${Bl(e)}/${n[0]}`:`${Bl(e)}/(${n.join("//")})`}}function u0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hl(e){return u0(e).replace(/%3B/gi,";")}function Mh(e){return u0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ul(e){return decodeURIComponent(e)}function d0(e){return Ul(e.replace(/\+/g,"%20"))}function h0(e){return`${Mh(e.path)}${function Sk(e){return Object.keys(e).map(t=>`;${Mh(t)}=${Mh(e[t])}`).join("")}(e.parameters)}`}const Mk=/^[^\/()?;#]+/;function Ih(e){const t=e.match(Mk);return t?t[0]:""}const Ik=/^[^\/()?;=#]+/,xk=/^[^=?&#]+/,Fk=/^[^&#]+/;class Nk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ye]=new lt(t,n)),r}parseSegment(){const t=Ih(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new De(4009,!1);return this.capture(t),new xo(Ul(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Rk(e){const t=e.match(Ik);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ih(this.remaining);i&&(r=i,this.capture(r))}t[Ul(n)]=Ul(r)}parseQueryParam(t){const n=function Pk(e){const t=e.match(xk);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function kk(e){const t=e.match(Fk);return t?t[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=d0(n),s=d0(r);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ih(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new De(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ye);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ye]:new lt([],o),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new De(4011,!1)}}function f0(e){return e.segments.length>0?new lt([],{[Ye]:e}):e}function p0(e){const t={};for(const r of Object.keys(e.children)){const s=p0(e.children[r]);if(r===Ye&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[r]=s)}return function Ok(e){if(1===e.numberOfChildren&&e.children[Ye]){const t=e.children[Ye];return new lt(e.segments.concat(t.segments),t.children)}return e}(new lt(e.segments,t))}function vi(e){return e instanceof ms}function g0(e){let t;const i=f0(function n(s){const o={};for(const l of s.children){const c=n(l);o[l.outlet]=c}const a=new lt(s.url,o);return s===e&&(t=a),a}(e.root));return t??i}function m0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return Rh(i,i,i,n,r);const s=function jk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new v0(!0,0,e);let t=0,n=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new v0(n,t,r)}(t);if(s.toRoot())return Rh(i,i,new lt([],{}),n,r);const o=function Bk(e,t,n){if(e.isAbsolute)return new $l(t,!0,0);if(!n)return new $l(t,!1,NaN);if(null===n.parent)return new $l(n,!0,0);const r=Vl(e.commands[0])?0:1;return function Hk(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new De(4005,!1);i=r.segments.length}return new $l(r,!1,i-s)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(s,i,e),a=o.processChildren?No(o.segmentGroup,o.index,s.commands):_0(o.segmentGroup,o.index,s.commands);return Rh(i,o.segmentGroup,a,n,r)}function Vl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ko(e){return"object"==typeof e&&null!=e&&e.outlets}function Rh(e,t,n,r,i){let o,s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(g=>`${g}`):`${c}`}),o=e===t?n:y0(e,t,n);const a=f0(p0(o));return new ms(a,s,i)}function y0(e,t,n){const r={};return Object.entries(e.children).forEach(([i,s])=>{r[i]=s===t?n:y0(s,t,n)}),new lt(e.segments,r)}class v0{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Vl(r[0]))throw new De(4003,!1);const i=r.find(ko);if(i&&i!==r0(r))throw new De(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $l{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function _0(e,t,n){if(e||(e=new lt([],{})),0===e.segments.length&&e.hasChildren())return No(e,t,n);const r=function Vk(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const o=e.segments[i],a=n[r];if(ko(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!D0(l,c,o))return s;r+=2}else{if(!D0(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new lt(e.segments.slice(0,r.pathIndex),{});return s.children[Ye]=new lt(e.segments.slice(r.pathIndex),e.children),No(s,0,i)}return r.match&&0===i.length?new lt(e.segments,{}):r.match&&!e.hasChildren()?xh(e,t,n):r.match?No(e,0,i):xh(e,t,n)}function No(e,t,n){if(0===n.length)return new lt(e.segments,{});{const r=function Uk(e){return ko(e[0])?e[0].outlets:{[Ye]:e}}(n),i={};if(!r[Ye]&&e.children[Ye]&&1===e.numberOfChildren&&0===e.children[Ye].segments.length){const s=No(e.children[Ye],t,n);return new lt(e.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=_0(e.children[s],t,o))}),Object.entries(e.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new lt(e.segments,i)}}function xh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(ko(s)){const l=$k(s.outlets);return new lt(r,l)}if(0===i&&Vl(n[0])){r.push(new xo(e.segments[t].path,b0(n[0]))),i++;continue}const o=ko(s)?s.outlets[Ye]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Vl(a)?(r.push(new xo(o,b0(a))),i+=2):(r.push(new xo(o,{})),i++)}return new lt(r,{})}function $k(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=xh(new lt([],{}),0,r))}),t}function b0(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function D0(e,t,n){return e==n.path&&or(t,n.parameters)}const Oo="imperative";class ar{constructor(t,n){this.id=t,this.url=n}}class Ph extends ar{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _i extends ar{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zl extends ar{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends ar{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Fh extends ar{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zk extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gk extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wk extends ar{constructor(t,n,r,i,s){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qk extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xk extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yk{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kk{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zk{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qk{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jk{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eN{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C0{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tN{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jo,this.attachRef=null}}let jo=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new tN,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class E0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=kh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=kh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=Nh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Nh(t,this._root).map(n=>n.value)}}function kh(e,t){if(e===t.value)return t;for(const n of t.children){const r=kh(e,n);if(r)return r}return null}function Nh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=Nh(e,n);if(r.length)return r.unshift(t),r}return[]}class Mr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function ys(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class w0 extends E0{constructor(t,n){super(t),this.snapshot=n,Oh(this,t)}toString(){return this.snapshot.toString()}}function A0(e,t){const n=function nN(e,t){const o=new Gl([],{},{},"",{},Ye,t,null,{});return new T0("",new Mr(o,[]))}(0,t),r=new D([new xo("",{})]),i=new D({}),s=new D({}),o=new D({}),a=new D(""),l=new vs(r,i,o,a,s,Ye,t,n.root);return l.snapshot=n.root,new w0(new Mr(l,[]),n)}class vs{constructor(t,n,r,i,s,o,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(q(c=>c[Ro]))??He(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(q(t=>gs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(q(t=>gs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function S0(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function rN(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Gl{get title(){return this.data?.[Ro]}constructor(t,n,r,i,s,o,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class T0 extends E0{constructor(t,n){super(n),this.url=t,Oh(this,n)}toString(){return M0(this._root)}}function Oh(e,t){t.value._routerState=e,t.children.forEach(n=>Oh(e,n))}function M0(e){const t=e.children.length>0?` { ${e.children.map(M0).join(", ")} } `:"";return`${e.value}${t}`}function Lh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,or(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),or(t.params,n.params)||e.paramsSubject.next(n.params),function vk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!or(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),or(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function jh(e,t){const n=or(e.params,t.params)&&function Ck(e,t){return yi(e,t)&&e.every((n,r)=>or(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||jh(e.parent,t.parent))}let I0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new tn,this.deactivateEvents=new tn,this.attachEvents=new tn,this.detachEvents=new tn,this.parentContexts=Ie(jo),this.location=Ie(Bn),this.changeDetector=Ie(Ld),this.environmentInjector=Ie(Jn),this.inputBinder=Ie(Wl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new De(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new De(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new De(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new De(4013,!1);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new iN(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=Zt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]})}return e})();class iN{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===vs?this.route:t===jo?this.childContexts:this.parent.get(t,n)}}const Wl=new Re("");let R0=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=Eh([r.queryParams,r.params,r.data]).pipe(Fn(([s,o,a],l)=>(a={...s,...o,...a},0===l?He(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const o=function JR(e){const t=it(e);if(!t)return null;const n=new io(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function Bo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function oN(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Bo(e,r,i);return Bo(e,r)})}(e,t,n);return new Mr(r,i)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Bo(e,a)),o}}const r=function aN(e){return new vs(new D(e.url),new D(e.params),new D(e.queryParams),new D(e.fragment),new D(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(s=>Bo(e,s));return new Mr(r,i)}}const Bh="ngNavigationCancelingError";function x0(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=vi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=P0(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function P0(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Bh]=!0,r.cancellationCode=t,n&&(r.url=n),r}function F0(e){return k0(e)&&vi(e.url)}function k0(e){return e&&e[Bh]}let N0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Is({type:e,selectors:[["ng-component"]],standalone:!0,features:[gv],decls:1,vars:0,template:function(r,i){1&r&&$r(0,"router-outlet")},dependencies:[I0],encapsulation:2})}return e})();function Hh(e){const t=e.children&&e.children.map(Hh),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ye&&(n.component=N0),n}function $n(e){return e.outlet||Ye}function Ho(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class pN{constructor(t,n,r,i,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Lh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=ys(n);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(t,n,o.children)}else this.deactivateChildRoutes(t,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=ys(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,s=ys(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=ys(n);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new eN(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Qk(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,s=n?n.value:null;if(Lh(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,o.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Lh(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Ho(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,r)}}class O0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ql{constructor(t,n){this.component=t,this.route=n}}function gN(e,t,n){const r=e._root;return Uo(r,t?t._root:null,n,[r.value])}function _s(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function PD(e){return null!==Xo(e)}(e)?t.get(e):e:r}function Uo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ys(t);return e.children.forEach(o=>{(function yN(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function vN(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!yi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yi(e.url,t.url)||!or(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jh(e,t)||!or(e.queryParams,t.queryParams);default:return!jh(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new O0(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Uo(e,t,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ql(a.outlet.component,o))}else o&&Vo(t,a,i),i.canActivateChecks.push(new O0(r)),Uo(e,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Vo(a,n.getContext(o),i)),i}function Vo(e,t,n){const r=ys(e),i=e.value;Object.entries(r).forEach(([s,o])=>{Vo(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new ql(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function $o(e){return"function"==typeof e}function L0(e){return e instanceof Ol||"EmptyError"===e?.name}const Xl=Symbol("INITIAL_VALUE");function bs(){return Fn(e=>Eh(e.map(t=>t.pipe(ps(1),function uk(...e){const t=ws(e);return P((n,r)=>{(t?wh(e,n,t):wh(e,n)).subscribe(r)})}(Xl)))).pipe(q(t=>{for(const n of t)if(!0!==n){if(n===Xl)return Xl;if(!1===n||n instanceof ms)return n}return!0}),Tr(t=>t!==Xl),ps(1)))}function j0(e){return function de(...e){return W(e)}(rn(t=>{if(vi(t))throw x0(0,t)}),q(t=>!0===t))}class Yl{constructor(t){this.segmentGroup=t||null}}class B0{constructor(t){this.urlTree=t}}function Ds(e){return Io(new Yl(e))}function H0(e){return Io(new B0(e))}class jN{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new De(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return He(r);if(i.numberOfChildren>1||!i.children[Ye])return Io(new De(4e3,!1));i=i.children[Ye]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const s=this.createSegmentGroup(t,n.root,r,i);return new ms(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(t,n,r,i){const s=this.createSegments(t,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,r,i)}),new lt(s,o)}createSegments(t,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,i):this.findOrReturn(s,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new De(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Uh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function BN(e,t,n,r,i){const s=Vh(e,t,n);return s.matched?(r=function lN(e,t){return e.providers&&!e._injector&&(e._injector=ld(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function NN(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?He(i.map(o=>{const a=_s(o,e);return Xr(function wN(e){return e&&$o(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(bs(),j0()):He(!0)}(r,t,n).pipe(q(o=>!0===o?s:{...Uh}))):He(s)}function Vh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Uh}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||yk)(n,e,t);if(!i)return{...Uh};const s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function U0(e,t,n,r){return n.length>0&&function VN(e,t,n){return n.some(r=>Kl(e,t,r)&&$n(r)!==Ye)}(e,n,r)?{segmentGroup:new lt(t,UN(r,new lt(n,e.children))),slicedSegments:[]}:0===n.length&&function $N(e,t,n){return n.some(r=>Kl(e,t,r))}(e,n,r)?{segmentGroup:new lt(e.segments,HN(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new lt(e.segments,e.children),slicedSegments:n}}function HN(e,t,n,r,i){const s={};for(const o of r)if(Kl(e,n,o)&&!i[$n(o)]){const a=new lt([],{});s[$n(o)]=a}return{...i,...s}}function UN(e,t){const n={};n[Ye]=t;for(const r of e)if(""===r.path&&$n(r)!==Ye){const i=new lt([],{});n[$n(r)]=i}return n}function Kl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class qN{constructor(t,n,r,i,s,o,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new jN(this.urlSerializer,this.urlTree)}noMatchError(t){return new De(4002,!1)}recognize(){const t=U0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ye).pipe(mi(n=>{if(n instanceof B0)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Yl?this.noMatchError(n):n}),q(n=>{const r=new Gl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),i=new Mr(r,n),s=new T0("",i),o=function Lk(e,t,n=null,r=null){return m0(g0(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ye).pipe(mi(r=>{throw r instanceof Yl?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=S0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Lt(i).pipe(hs(s=>{const o=r.children[s],a=function hN(e,t){const n=e.filter(r=>$n(r)===t);return n.push(...e.filter(r=>$n(r)!==t)),n}(n,s);return this.processSegmentGroup(t,a,o,s)}),function fk(e,t){return P(function hk(e,t,n,r,i){return(s,o)=>{let a=n,l=t,c=0;s.subscribe(B(o,g=>{const C=c++;l=a?e(l,g,C):(a=!0,g),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(e,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Ll(null),function pk(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Tr((i,s)=>e(i,s,r)):_e,Sh(1),n?Ll(t):t0(()=>new Ol))}(),Ht(s=>{if(null===s)return Ds(r);const o=V0(s);return function XN(e){e.sort((t,n)=>t.value.outlet===Ye?-1:n.value.outlet===Ye?1:t.value.outlet.localeCompare(n.value.outlet))}(o),He(o)}))}processSegment(t,n,r,i,s,o){return Lt(n).pipe(hs(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,s,o).pipe(mi(l=>{if(l instanceof Yl)return He(null);throw l}))),gi(a=>!!a),mi(a=>{if(L0(a))return function GN(e,t,n){return 0===t.length&&!e.children[n]}(r,i,s)?He([]):Ds(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,s,o,a){return function zN(e,t,n,r){return!!($n(e)===r||r!==Ye&&Kl(t,n,e))&&("**"===e.path||Vh(t,e,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,s,o):Ds(i):Ds(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?H0(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Ht(o=>{const a=new lt(o,{});return this.processSegment(t,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:g}=Vh(n,i,s);if(!a)return Ds(n);const C=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,g);return i.redirectTo.startsWith("/")?H0(C):this.applyRedirects.lineralizeSegments(i,C).pipe(Ht(L=>this.processSegment(t,r,n,L.concat(c),o,!1)))}matchSegmentAgainstRoute(t,n,r,i,s,o){let a;if("**"===r.path){const l=i.length>0?r0(i).parameters:{};a=He({snapshot:new Gl(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$0(r),$n(r),r.component??r._loadedComponent??null,r,z0(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=BN(n,r,i,t).pipe(q(({matched:l,consumedSegments:c,remainingSegments:g,parameters:C})=>l?{snapshot:new Gl(c,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$0(r),$n(r),r.component??r._loadedComponent??null,r,z0(r)),consumedSegments:c,remainingSegments:g}:null));return a.pipe(Fn(l=>null===l?Ds(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Fn(({routes:c})=>{const g=r._loadedInjector??t,{snapshot:C,consumedSegments:L,remainingSegments:X}=l,{segmentGroup:ne,slicedSegments:ie}=U0(n,L,X,c);if(0===ie.length&&ne.hasChildren())return this.processChildren(g,c,ne).pipe(q(ge=>null===ge?null:[new Mr(C,ge)]));if(0===c.length&&0===ie.length)return He([new Mr(C,[])]);const ue=$n(r)===s;return this.processSegment(g,c,ne,ie,ue?Ye:s,!0).pipe(q(ge=>[new Mr(C,ge)]))}))))}getChildConfig(t,n,r){return n.children?He({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?He({routes:n._loadedRoutes,injector:n._loadedInjector}):function kN(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?He(!0):He(i.map(o=>{const a=_s(o,e);return Xr(function bN(e){return e&&$o(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(bs(),j0())}(t,n,r).pipe(Ht(i=>i?this.configLoader.loadChildren(t,n).pipe(rn(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function LN(e){return Io(P0(!1,3))}())):He({routes:[],injector:t})}}function YN(e){const t=e.value.routeConfig;return t&&""===t.path}function V0(e){const t=[],n=new Set;for(const r of e){if(!YN(r)){t.push(r);continue}const i=t.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=V0(r.children);t.push(new Mr(r.value,i))}return t.filter(r=>!n.has(r))}function $0(e){return e.data||{}}function z0(e){return e.resolve||{}}function G0(e){return"string"==typeof e.title||null===e.title}function $h(e){return Fn(t=>{const n=e(t);return n?Lt(n).pipe(q(()=>t)):He(t)})}const Cs=new Re("ROUTES");let zh=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ie(o_)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return He(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Xr(n.loadComponent()).pipe(q(W0),rn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),So(()=>{this.componentLoaders.delete(n)})),i=new e0(r,()=>new u).pipe(Ah());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return He({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(q(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c;return Array.isArray(a)?c=a:(l=a.create(n).injector,c=l.get(Cs,[],Ne.Self|Ne.Optional).flat()),{routes:c.map(Hh),injector:l}}),So(()=>{this.childrenLoaders.delete(r)})),o=new e0(s,()=>new u).pipe(Ah());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Xr(n()).pipe(q(W0),Ht(r=>r instanceof fv||Array.isArray(r)?He(r):Lt(this.compiler.compileModuleAsync(r))))}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function W0(e){return function nO(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Zl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new u,this.configLoader=Ie(zh),this.environmentInjector=Ie(Jn),this.urlSerializer=Ie(Po),this.rootContexts=Ie(jo),this.inputBindingEnabled=null!==Ie(Wl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>He(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Kk(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Yk(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new D({id:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Oo,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tr(r=>0!==r.id),q(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let i=!1,s=!1;return He(r).pipe(rn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(o=>{const a=n.browserUrlTree.toString(),l=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!l&&"reload"!==(o.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const g="";return this.events.next(new Lo(o.id,n.serializeUrl(r.rawUrl),g,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),zn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q0(o.source)&&(n.browserUrlTree=o.extractedUrl),He(o).pipe(Fn(g=>{const C=this.transitions?.getValue();return this.events.next(new Ph(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),C!==this.transitions?.getValue()?zn:Promise.resolve(g)}),function KN(e,t,n,r,i,s){return Ht(o=>function WN(e,t,n,r,i,s,o="emptyOnly"){return new qN(e,t,n,r,i,o,s).recognize()}(e,t,n,r,o.extractedUrl,i,s).pipe(q(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),rn(g=>{if(r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},"eager"===n.urlUpdateStrategy){if(!g.extras.skipLocationChange){const L=n.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);n.setBrowserUrl(L,g)}n.browserUrlTree=g.urlAfterRedirects}const C=new zk(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(C)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:g,extractedUrl:C,source:L,restoredState:X,extras:ne}=o,ie=new Ph(g,this.urlSerializer.serialize(C),L,X);this.events.next(ie);const ue=A0(0,this.rootComponentType).snapshot;return He(r={...o,targetSnapshot:ue,urlAfterRedirects:C,extras:{...ne,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new Lo(o.id,n.serializeUrl(r.extractedUrl),g,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),zn}}),rn(o=>{const a=new Gk(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),q(o=>r={...o,guards:gN(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function SN(e,t){return Ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?He({...n,guardsResult:!0}):function TN(e,t,n,r){return Lt(e).pipe(Ht(i=>function FN(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(a=>{const l=Ho(t)??i,c=_s(a,l);return Xr(function EN(e){return e&&$o(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):l.runInContext(()=>c(e,t,n,r))).pipe(gi())})).pipe(bs()):He(!0)}(i.component,i.route,n,t,r)),gi(i=>!0!==i,!0))}(o,r,i,e).pipe(Ht(a=>a&&function _N(e){return"boolean"==typeof e}(a)?function MN(e,t,n,r){return Lt(t).pipe(hs(i=>wh(function RN(e,t){return null!==e&&t&&t(new Zk(e)),He(!0)}(i.route.parent,r),function IN(e,t){return null!==e&&t&&t(new Jk(e)),He(!0)}(i.route,r),function PN(e,t,n){const r=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function mN(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Jb(()=>He(o.guards.map(l=>{const c=Ho(o.node)??n,g=_s(l,c);return Xr(function CN(e){return e&&$o(e.canActivateChild)}(g)?g.canActivateChild(r,e):c.runInContext(()=>g(r,e))).pipe(gi())})).pipe(bs())));return He(s).pipe(bs())}(e,i.path,n),function xN(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return He(!0);const i=r.map(s=>Jb(()=>{const o=Ho(t)??n,a=_s(s,o);return Xr(function DN(e){return e&&$o(e.canActivate)}(a)?a.canActivate(t,e):o.runInContext(()=>a(t,e))).pipe(gi())}));return He(i).pipe(bs())}(e,i.route,n))),gi(i=>!0!==i,!0))}(r,s,e,t):He(a)),q(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),rn(o=>{if(r.guardsResult=o.guardsResult,vi(o.guardsResult))throw x0(0,o.guardsResult);const a=new Wk(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Tr(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),$h(o=>{if(o.guards.canActivateChecks.length)return He(o).pipe(rn(a=>{const l=new qk(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Fn(a=>{let l=!1;return He(a).pipe(function ZN(e,t){return Ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return He(n);let s=0;return Lt(i).pipe(hs(o=>function QN(e,t,n,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!G0(i)&&(s[Ro]=i.title),function JN(e,t,n,r){const i=function eO(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return He({});const s={};return Lt(i).pipe(Ht(o=>function tO(e,t,n,r){const i=Ho(t)??r,s=_s(e,i);return Xr(s.resolve?s.resolve(t,n):i.runInContext(()=>s(t,n)))}(e[o],t,n,r).pipe(gi(),rn(a=>{s[o]=a}))),Sh(1),function gk(e){return q(()=>e)}(s),mi(o=>L0(o)?zn:Io(o)))}(s,e,t,r).pipe(q(o=>(e._resolvedData=o,e.data=S0(e,n).resolve,i&&G0(i)&&(e.data[Ro]=i.title),null)))}(o.route,r,e,t)),rn(()=>s++),Sh(1),Ht(o=>s===i.length?He(n):zn))})}(n.paramsInheritanceStrategy,this.environmentInjector),rn({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),rn(a=>{const l=new Xk(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),$h(o=>{const a=l=>{const c=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(l.routeConfig).pipe(rn(g=>{l.component=g}),q(()=>{})));for(const g of l.children)c.push(...a(g));return c};return Eh(a(o.targetSnapshot.root)).pipe(Ll(),ps(1))}),$h(()=>this.afterPreactivation()),q(o=>{const a=function sN(e,t,n){const r=Bo(e,t._root,n?n._root:void 0);return new w0(r,t)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),rn(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((e,t,n,r)=>q(i=>(new pN(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ps(1),rn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new _i(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),So(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mi(o=>{if(s=!0,k0(o)){F0(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new zl(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),F0(o)){const l=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||q0(r.source)};n.scheduleNavigation(l,Oo,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new Fh(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(l){r.reject(l)}}return zn}))}))}cancelNavigationTransition(n,r,i){const s=new zl(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function q0(e){return e!==Oo}let X0=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ye);return r}getResolvedTitleForRoute(n){return n.data[Ro]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Ie(rO)},providedIn:"root"})}return e})(),rO=(()=>{class e extends X0{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(xb))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Ie(oO)},providedIn:"root"})}return e})();class sO{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let oO=(()=>{class e extends sO{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=function gp(e){return hr(()=>{const t=e.prototype.constructor,n=t[fr]||kc(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[fr]||kc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}(e)))(i||e)}}();static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ql=new Re("",{providedIn:"root",factory:()=>({})});let aO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:function(){return Ie(lO)},providedIn:"root"})}return e})(),lO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Cn=(()=>((Cn=Cn||{})[Cn.COMPLETE=0]="COMPLETE",Cn[Cn.FAILED=1]="FAILED",Cn[Cn.REDIRECTING=2]="REDIRECTING",Cn))();function Y0(e,t){e.events.pipe(Tr(n=>n instanceof _i||n instanceof zl||n instanceof Fh||n instanceof Lo),q(n=>n instanceof _i||n instanceof Lo?Cn.COMPLETE:n instanceof zl&&(0===n.code||1===n.code)?Cn.REDIRECTING:Cn.FAILED),Tr(n=>n!==Cn.REDIRECTING),ps(1)).subscribe(()=>{t()})}function cO(e){throw e}function uO(e,t,n){return t.parse("/")}const dO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ie(s_),this.isNgZoneEnabled=!1,this.options=Ie(Ql,{optional:!0})||{},this.pendingTasks=Ie(fl),this.errorHandler=this.options.errorHandler||cO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||uO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ie(aO),this.routeReuseStrategy=Ie(iO),this.titleStrategy=Ie(X0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ie(Cs,{optional:!0})?.flat()??[],this.navigationTransitions=Ie(Zl),this.urlSerializer=Ie(Po),this.location=Ie(Xd),this.componentInputBindingEnabled=!!Ie(Wl,{optional:!0}),this.isNgZoneEnabled=Ie(mt)instanceof mt&&mt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ms,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=A0(0,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Oo,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Hh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let C,g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}null!==g&&(g=this.removeEmptyProps(g));try{C=g0(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),C=this.currentUrlTree.root}return m0(C,n,g,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=vi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Oo,null,r)}navigate(n,r={skipLocationChange:!1}){return function fO(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new De(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...dO}:!1===r?{...hO}:r,vi(n))return o0(this.currentUrlTree,n,i);const s=this.parseUrl(n);return o0(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((C,L)=>{a=C,l=L});const g=this.pendingTasks.add();return Y0(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(C=>Promise.reject(C))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class K0{}let mO=(()=>{class e{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Tr(n=>n instanceof _i),hs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=ld(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Lt(i).pipe(Ci())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):He(null);const s=i.pipe(Ht(o=>null===o?He(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Lt([s,this.loader.loadComponent(r)]).pipe(Ci()):s})}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Rn),Pe(o_),Pe(Jn),Pe(K0),Pe(zh))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wh=new Re("");let Z0=(()=>{class e{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _i?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Lo&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof C0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new C0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function Zg(){throw new Error("invalid")}()};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac})}return e})();function Ir(e,t){return{\u0275kind:e,\u0275providers:t}}function J0(){const e=Ie(br);return t=>{const n=e.get(us);if(t!==n.components[0])return;const r=e.get(Rn),i=e.get(eD);1===e.get(qh)&&r.initialNavigation(),e.get(tD,null,Ne.Optional)?.setUpPreloading(),e.get(Wh,null,Ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const eD=new Re("",{factory:()=>new u}),qh=new Re("",{providedIn:"root",factory:()=>1}),tD=new Re("");function bO(e){return Ir(0,[{provide:tD,useExisting:mO},{provide:K0,useExisting:e}])}const nD=new Re("ROUTER_FORROOT_GUARD"),CO=[Xd,{provide:Po,useClass:Th},Rn,jo,{provide:vs,useFactory:function Q0(e){return e.routerState.root},deps:[Rn]},zh,[]];function EO(){return new y_("Router",Rn)}let rD=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[CO,[],{provide:Cs,multi:!0,useValue:n},{provide:nD,useFactory:TO,deps:[[Rn,new ba,new Da]]},{provide:Ql,useValue:r||{}},r?.useHash?{provide:fi,useClass:ix}:{provide:fi,useClass:G_},{provide:Wh,useFactory:()=>{const e=Ie(CP),t=Ie(mt),n=Ie(Ql),r=Ie(Zl),i=Ie(Po);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Z0(i,r,e,t,n)}},r?.preloadingStrategy?bO(r.preloadingStrategy).\u0275providers:[],{provide:y_,multi:!0,useFactory:EO},r?.initialNavigation?MO(r):[],r?.bindToComponentInputs?Ir(8,[R0,{provide:Wl,useExisting:R0}]).\u0275providers:[],[{provide:iD,useFactory:J0},{provide:Nd,multi:!0,useExisting:iD}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Cs,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(nD,8))};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({})}return e})();function TO(e){return"guarded"}function MO(e){return["disabled"===e.initialNavigation?Ir(3,[{provide:Sd,multi:!0,useFactory:()=>{const t=Ie(Rn);return()=>{t.setUpLocationChangeListener()}}},{provide:qh,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ir(2,[{provide:qh,useValue:0},{provide:Sd,multi:!0,deps:[br],useFactory:t=>{const n=t.get(nx,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Rn),s=t.get(eD);Y0(i,()=>{r(!0)}),t.get(Zl).afterPreactivation=()=>(r(!0),s.closed?He(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const iD=new Re(""),RO=[];let xO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Lr({type:e});static#n=this.\u0275inj=dr({imports:[rD.forRoot(RO),rD]})}return e})();var sD=H(627);let FO=(()=>{class e{constructor(n){this.http=n}sendPDF(n){const r=new FormData;return r.append("file",n),this.http.post("/api/upload",r)}static#e=this.\u0275fac=function(r){return new(r||e)(Pe(Hb))};static#t=this.\u0275prov=Fe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kO=["inputFile"];function NO(e,t){1&e&&$r(0,"canvas",11)}function OO(e,t){1&e&&$r(0,"img",12)}function LO(e,t){1&e&&$r(0,"div",13)}function jO(e,t){if(1&e&&(Tn(0,"p",14),ho(1),nr()),2&e){const n=qm();_r(1),ol(" ",n.error," ")}}const BO=function(e){return{"bg-gray-900 px-8 py-16 rounded-md mt-16":!0,"h-[80vh] w-full":e}};sD.GlobalWorkerOptions.workerSrc="node_modules/pdfjs-dist/build/pdr.worker.js";let HO=(()=>{class e{constructor(n){this.httpService=n,this.isLoading=!1,this.error=""}selectFileHandler(n){this.selectedFile=n.target.files[0];const r=new FileReader;r.onload=i=>{this.renderPDF(i.target.result)},r.readAsArrayBuffer(this.selectedFile)}startSelecting(){this.error="",this.inputFileRef?.nativeElement.click()}startAnalyzing(){this.error="",this.selectedFile&&(this.isLoading=!0,this.httpService.sendPDF(this.selectedFile).subscribe(n=>{const{height:r,y:s}=n.data;this.drawFooterLine(r,s),this.isLoading=!1},n=>{this.error=400===n.status?"Failed to detect footer.":n.message,this.isLoading=!1}))}renderPDF(n){sD.getDocument(n).promise.then(i=>{console.log("pdf loaded into pdfjs-dist lib"),i.getPage(1).then(s=>{console.log("page 1 loaded");const o=s.getViewport({scale:.6}),a=document.getElementById("pdf-container"),l=a.getContext("2d");a.height=o.height,a.width=o.width,s.render({canvasContext:l,viewport:o}).promise.then(()=>{console.log("page 1 rendered")})})})}drawFooterLine(n,r){let i=document.getElementById("pdf-container"),o=r*(i.height/n)-5;const a=i.getContext("2d");a.beginPath(),a.moveTo(0,o),a.lineTo(i.width,o),a.strokeStyle="red",a.stroke()}static#e=this.\u0275fac=function(r){return new(r||e)(Le(FO))};static#t=this.\u0275cmp=Is({type:e,selectors:[["learn-input-form"]],viewQuery:function(r,i){if(1&r&&jv(kO,5),2&r){let s;_d(s=function bd(){return function jI(e,t){return e[qn].queries[t].queryList}(pe(),Yf())}())&&(i.inputFileRef=s.first)}},decls:14,vars:9,consts:[[1,"flex","justify-center"],[1,"bg-gray-900","px-8","py-16","rounded-md","mt-16","flex","flex-col","gap-4","items-center",3,"ngClass"],["class","h-full border-rose-500 border-2","id","pdf-container",4,"ngIf"],[1,"flex","items-center","gap-4"],["class","w-36","src","assets/pdf.png","alt","pdf-logo",4,"ngIf"],[1,"flex","flex-col","text-white","text-left","space-y-6"],[1,"uppercase","font-light","tracking-widest","bg-rose-500","rounded-md","px-2","py-4",3,"disabled","click"],["type","file","accept","application/pdf","hidden","",3,"change"],["inputFile",""],["class","loader",4,"ngIf"],["class","error",4,"ngIf"],["id","pdf-container",1,"h-full","border-rose-500","border-2"],["src","assets/pdf.png","alt","pdf-logo",1,"w-36"],[1,"loader"],[1,"error"]],template:function(r,i){1&r&&(Tn(0,"div",0)(1,"main",1),co(2,NO,1,0,"canvas",2),Tn(3,"div",3),co(4,OO,1,0,"img",4),Tn(5,"div",5)(6,"button",6),rs("click",function(){return i.startSelecting()}),ho(7," Choose PDF "),nr(),Tn(8,"button",6),rs("click",function(){return i.startAnalyzing()}),ho(9," Process "),nr()(),Tn(10,"input",7,8),rs("change",function(o){return i.selectFileHandler(o)}),nr()(),co(12,LO,1,0,"div",9),co(13,jO,2,1,"p",10),nr()()),2&r&&(_r(1),Cr("ngClass",Cv(7,BO,i.selectedFile)),_r(1),Cr("ngIf",i.selectedFile),_r(2),Cr("ngIf",!i.selectedFile),_r(2),Cr("disabled",i.isLoading),_r(2),Cr("disabled",i.isLoading),_r(4),Cr("ngIf",i.isLoading),_r(1),Cr("ngIf",i.error))},dependencies:[rb,ob],encapsulation:2})}return e})(),UO=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Is({type:e,selectors:[["learn-hero"]],decls:5,vars:0,consts:[[1,"flex","justify-center","bg-gray-900","px-4","py-8","text-center"],[1,"flex","gap-6","items-center"],["src","assets/object.png","alt","Object",1,"w-20"],[1,"text-2xl","font-light","text-white","uppercase","tracking-widest"]],template:function(r,i){1&r&&(Tn(0,"section",0)(1,"div",1),$r(2,"img",2),Tn(3,"h1",3),ho(4," Footer Detection "),nr()()())},encapsulation:2})}return e})(),VO=(()=>{class e{constructor(){this.title="AngularApp"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=Is({type:e,selectors:[["learn-root"]],decls:3,vars:0,template:function(r,i){1&r&&(Tn(0,"div"),$r(1,"learn-hero")(2,"learn-input-form"),nr())},dependencies:[HO,UO]})}return e})(),$O=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Lr({type:e,bootstrap:[VO]});static#n=this.\u0275inj=dr({imports:[gF,xO,GF]})}return e})();fF().bootstrapModule($O).catch(e=>console.error(e))},627:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(156).default,H;globalThis,H=()=>(()=>{"use strict";var __webpack_modules__=[,(Q,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.VerbosityLevel=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.TextRenderingMode=d.RenderingIntentFlag=d.PromiseCapability=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.PageActionEventType=d.OPS=d.MissingPDFException=d.MAX_IMAGE_SIZE_TO_CACHE=d.LINE_FACTOR=d.LINE_DESCENT_FACTOR=d.InvalidPDFException=d.ImageKind=d.IDENTITY_MATRIX=d.FormatError=d.FeatureTest=d.FONT_IDENTITY_MATRIX=d.DocumentActionEventType=d.CMapCompressionType=d.BaseException=d.BASELINE_FACTOR=d.AnnotationType=d.AnnotationStateModelType=d.AnnotationReviewState=d.AnnotationReplyType=d.AnnotationMode=d.AnnotationMarkedState=d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationEditorType=d.AnnotationEditorPrefix=d.AnnotationEditorParamsType=d.AnnotationBorderStyleType=d.AnnotationActionEventType=d.AbortException=void 0,d.assert=function _(me,se){me||v(se)},d.bytesToString=function te(me){("object"!=typeof me||void 0===me?.length)&&v("Invalid argument for bytesToString");const se=me.length;if(se<8192)return String.fromCharCode.apply(null,me);const Se=[];for(let nt=0;nt<se;nt+=8192){const It=Math.min(nt+8192,se),Rt=me.subarray(nt,It);Se.push(String.fromCharCode.apply(null,Rt))}return Se.join("")},d.createValidAbsoluteUrl=function N(me,se=null,re=null){if(!me)return null;try{if(re&&"string"==typeof me&&(re.addDefaultProtocol&&me.startsWith("www.")&&me.match(/\./g)?.length>=2&&(me=`http://${me}`),re.tryConvertEncoding))try{me=Mt(me)}catch{}const Se=se?new URL(me,se):new URL(me);if(function T(me){switch(me?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(Se))return Se}catch{}return null},d.getModificationDate=function Yr(me=new Date){return[me.getUTCFullYear().toString(),(me.getUTCMonth()+1).toString().padStart(2,"0"),me.getUTCDate().toString().padStart(2,"0"),me.getUTCHours().toString().padStart(2,"0"),me.getUTCMinutes().toString().padStart(2,"0"),me.getUTCSeconds().toString().padStart(2,"0")].join("")},d.getVerbosityLevel=function de(){return be},d.info=function W(me){be>=oe.INFOS&&console.log(`Info: ${me}`)},d.isArrayBuffer=function xn(me){return"object"==typeof me&&void 0!==me?.byteLength},d.isArrayEqual=function Yt(me,se){if(me.length!==se.length)return!1;for(let re=0,Se=me.length;re<Se;re++)if(me[re]!==se[re])return!1;return!0},d.normalizeUnicode=function zo(me){return En||(En=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fn=new Map([["\ufb05","\u017ft"]])),me.replaceAll(En,(se,re,Se)=>re?re.normalize("NFKC"):fn.get(Se))},d.objectFromMap=function Ee(me){const se=Object.create(null);for(const[re,Se]of me)se[re]=Se;return se},d.objectSize=function he(me){return Object.keys(me).length},d.setVerbosityLevel=function _e(me){Number.isInteger(me)&&(be=me)},d.shadow=u,d.string32=function ye(me){return String.fromCharCode(me>>24&255,me>>16&255,me>>8&255,255&me)},d.stringToBytes=ae,d.stringToPDFString=function Bt(me){if(me[0]>="\xef"){let re;if("\xfe"===me[0]&&"\xff"===me[1]?re="utf-16be":"\xff"===me[0]&&"\xfe"===me[1]?re="utf-16le":"\xef"===me[0]&&"\xbb"===me[1]&&"\xbf"===me[2]&&(re="utf-8"),re)try{const Se=new TextDecoder(re,{fatal:!0}),nt=ae(me);return Se.decode(nt)}catch(Se){A(`stringToPDFString: "${Se}".`)}}const se=[];for(let re=0,Se=me.length;re<Se;re++){const nt=Ze[me.charCodeAt(re)];se.push(nt?String.fromCharCode(nt):me.charAt(re))}return se.join("")},d.stringToUTF8String=Mt,d.unreachable=v,d.utf8StringToString=function ft(me){return unescape(encodeURIComponent(me))},d.warn=A,d.IDENTITY_MATRIX=[1,0,0,1,0,0],d.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],d.MAX_IMAGE_SIZE_TO_CACHE=1e7,d.LINE_FACTOR=1.35,d.LINE_DESCENT_FACTOR=.35,d.BASELINE_FACTOR=.25925925925925924,d.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},d.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},d.AnnotationEditorPrefix="pdfjs_internal_editor_",d.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},d.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},d.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},d.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},d.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},d.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},d.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},d.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},d.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},d.AnnotationReplyType={GROUP:"Group",REPLY:"R"},d.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},d.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},d.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},d.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},d.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},d.PageActionEventType={O:"PageOpen",C:"PageClose"};const oe={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=oe,d.CMapCompressionType={NONE:0,BINARY:1},d.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},d.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let be=oe.WARNINGS;function A(me){be>=oe.WARNINGS&&console.log(`Warning: ${me}`)}function v(me){throw new Error(me)}function u(me,se,re,Se=!1){return Object.defineProperty(me,se,{value:re,enumerable:!Se,configurable:!0,writable:!1}),re}const y=function(){function se(re,Se){this.constructor===se&&v("Cannot initialize BaseException."),this.message=re,this.name=Se}return se.prototype=new Error,se.constructor=se,se}();function ae(me){"string"!=typeof me&&v("Invalid argument for stringToBytes");const se=me.length,re=new Uint8Array(se);for(let Se=0;Se<se;++Se)re[Se]=255&me.charCodeAt(Se);return re}d.BaseException=y,d.PasswordException=class D extends y{constructor(se,re){super(se,"PasswordException"),this.code=re}},d.UnknownErrorException=class R extends y{constructor(se,re){super(se,"UnknownErrorException"),this.details=re}},d.InvalidPDFException=class P extends y{constructor(se){super(se,"InvalidPDFException")}},d.MissingPDFException=class B extends y{constructor(se){super(se,"MissingPDFException")}},d.UnexpectedResponseException=class G extends y{constructor(se,re){super(se,"UnexpectedResponseException"),this.status=re}},d.FormatError=class q extends y{constructor(se){super(se,"FormatError")}},d.AbortException=class le extends y{constructor(se){super(se,"AbortException")}},d.FeatureTest=class ke{static get isLittleEndian(){return u(this,"isLittleEndian",function we(){const me=new Uint8Array(4);return me[0]=1,1===new Uint32Array(me.buffer,0,1)[0]}())}static get isEvalSupported(){return u(this,"isEvalSupported",function Ce(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return u(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?u(this,"platform",{isWin:!1,isMac:!1}):u(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}};const Xe=[...Array(256).keys()].map(me=>me.toString(16).padStart(2,"0"));class Qe{static makeHexColor(se,re,Se){return`#${Xe[se]}${Xe[re]}${Xe[Se]}`}static scaleMinMax(se,re){let Se;se[0]?(se[0]<0&&(Se=re[0],re[0]=re[1],re[1]=Se),re[0]*=se[0],re[1]*=se[0],se[3]<0&&(Se=re[2],re[2]=re[3],re[3]=Se),re[2]*=se[3],re[3]*=se[3]):(Se=re[0],re[0]=re[2],re[2]=Se,Se=re[1],re[1]=re[3],re[3]=Se,se[1]<0&&(Se=re[2],re[2]=re[3],re[3]=Se),re[2]*=se[1],re[3]*=se[1],se[2]<0&&(Se=re[0],re[0]=re[1],re[1]=Se),re[0]*=se[2],re[1]*=se[2]),re[0]+=se[4],re[1]+=se[4],re[2]+=se[5],re[3]+=se[5]}static transform(se,re){return[se[0]*re[0]+se[2]*re[1],se[1]*re[0]+se[3]*re[1],se[0]*re[2]+se[2]*re[3],se[1]*re[2]+se[3]*re[3],se[0]*re[4]+se[2]*re[5]+se[4],se[1]*re[4]+se[3]*re[5]+se[5]]}static applyTransform(se,re){return[se[0]*re[0]+se[1]*re[2]+re[4],se[0]*re[1]+se[1]*re[3]+re[5]]}static applyInverseTransform(se,re){const Se=re[0]*re[3]-re[1]*re[2];return[(se[0]*re[3]-se[1]*re[2]+re[2]*re[5]-re[4]*re[3])/Se,(-se[0]*re[1]+se[1]*re[0]+re[4]*re[1]-re[5]*re[0])/Se]}static getAxialAlignedBoundingBox(se,re){const Se=Qe.applyTransform(se,re),nt=Qe.applyTransform(se.slice(2,4),re),It=Qe.applyTransform([se[0],se[3]],re),Rt=Qe.applyTransform([se[2],se[1]],re);return[Math.min(Se[0],nt[0],It[0],Rt[0]),Math.min(Se[1],nt[1],It[1],Rt[1]),Math.max(Se[0],nt[0],It[0],Rt[0]),Math.max(Se[1],nt[1],It[1],Rt[1])]}static inverseTransform(se){const re=se[0]*se[3]-se[1]*se[2];return[se[3]/re,-se[1]/re,-se[2]/re,se[0]/re,(se[2]*se[5]-se[4]*se[3])/re,(se[4]*se[1]-se[5]*se[0])/re]}static singularValueDecompose2dScale(se){const re=[se[0],se[2],se[1],se[3]],Se=se[0]*re[0]+se[1]*re[2],Rt=se[2]*re[1]+se[3]*re[3],Rr=(Se+Rt)/2,xr=Math.sqrt((Se+Rt)**2-4*(Se*Rt-(se[2]*re[0]+se[3]*re[2])*(se[0]*re[1]+se[1]*re[3])))/2,Vt=Rr-xr||1;return[Math.sqrt(Rr+xr||1),Math.sqrt(Vt)]}static normalizeRect(se){const re=se.slice(0);return se[0]>se[2]&&(re[0]=se[2],re[2]=se[0]),se[1]>se[3]&&(re[1]=se[3],re[3]=se[1]),re}static intersect(se,re){const Se=Math.max(Math.min(se[0],se[2]),Math.min(re[0],re[2])),nt=Math.min(Math.max(se[0],se[2]),Math.max(re[0],re[2]));if(Se>nt)return null;const It=Math.max(Math.min(se[1],se[3]),Math.min(re[1],re[3])),Rt=Math.min(Math.max(se[1],se[3]),Math.max(re[1],re[3]));return It>Rt?null:[Se,It,nt,Rt]}static bezierBoundingBox(se,re,Se,nt,It,Rt,Rr,xr){const lr=[],Vt=[[],[]];let Pr,cr,Kr,_t,Zr,Qr,bi,Es;for(let Di=0;Di<2;++Di)if(0===Di?(cr=6*se-12*Se+6*It,Pr=-3*se+9*Se-9*It+3*Rr,Kr=3*Se-3*se):(cr=6*re-12*nt+6*Rt,Pr=-3*re+9*nt-9*Rt+3*xr,Kr=3*nt-3*re),Math.abs(Pr)<1e-12){if(Math.abs(cr)<1e-12)continue;_t=-Kr/cr,0<_t&&_t<1&&lr.push(_t)}else bi=cr*cr-4*Kr*Pr,Es=Math.sqrt(bi),!(bi<0)&&(Zr=(-cr+Es)/(2*Pr),0<Zr&&Zr<1&&lr.push(Zr),Qr=(-cr-Es)/(2*Pr),0<Qr&&Qr<1&&lr.push(Qr));let $t,Fr=lr.length;const kr=Fr;for(;Fr--;)_t=lr[Fr],$t=1-_t,Vt[0][Fr]=$t*$t*$t*se+3*$t*$t*_t*Se+3*$t*_t*_t*It+_t*_t*_t*Rr,Vt[1][Fr]=$t*$t*$t*re+3*$t*$t*_t*nt+3*$t*_t*_t*Rt+_t*_t*_t*xr;return Vt[0][kr]=se,Vt[1][kr]=re,Vt[0][kr+1]=Rr,Vt[1][kr+1]=xr,Vt[0].length=Vt[1].length=kr+2,[Math.min(...Vt[0]),Math.min(...Vt[1]),Math.max(...Vt[0]),Math.max(...Vt[1])]}}d.Util=Qe;const Ze=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Mt(me){return decodeURIComponent(escape(me))}d.PromiseCapability=class Kt{#e=!1;constructor(){this.promise=new Promise((se,re)=>{this.resolve=Se=>{this.#e=!0,se(Se)},this.reject=Se=>{this.#e=!0,re(Se)}})}get settled(){return this.#e}};let En=null,fn=null},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultFilterFactory=_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Q,NodeCMapReaderFactory:d,NodeFilterFactory:H,NodeStandardFontDataFactory:m}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=Q,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=d,exports.DefaultFilterFactory=DefaultFilterFactory=H,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=m}if(_is_node.isNodeJS){const{PDFNodeStream:Q}=__w_pdfjs_require__(21);createPDFNetworkStream=d=>new Q(d)}else{const{PDFNetworkStream:Q}=__w_pdfjs_require__(24),{PDFFetchStream:d}=__w_pdfjs_require__(25);createPDFNetworkStream=H=>(0,_display_utils.isValidFetchUrl)(H.url)?new d(H):new Q(H)}function getDocument(Q){if("string"==typeof Q||Q instanceof URL?Q={url:Q}:(0,_util.isArrayBuffer)(Q)&&(Q={data:Q}),"object"!=typeof Q)throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Q.url&&!Q.data&&!Q.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const d=new PDFDocumentLoadingTask,{docId:H}=d,m=Q.url?getUrlProp(Q.url):null,S=Q.data?getDataProp(Q.data):null,z=Q.httpHeaders||null,U=!0===Q.withCredentials,Z=Q.password??null,x=Q.range instanceof PDFDataRangeTransport?Q.range:null,E=Number.isInteger(Q.rangeChunkSize)&&Q.rangeChunkSize>0?Q.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let h=Q.worker instanceof _PDFWorker?Q.worker:null;const f=Q.verbosity,I="string"!=typeof Q.docBaseUrl||(0,_display_utils.isDataScheme)(Q.docBaseUrl)?null:Q.docBaseUrl,p="string"==typeof Q.cMapUrl?Q.cMapUrl:null,M=!1!==Q.cMapPacked,O=Q.CMapReaderFactory||DefaultCMapReaderFactory,F="string"==typeof Q.standardFontDataUrl?Q.standardFontDataUrl:null,k=Q.StandardFontDataFactory||DefaultStandardFontDataFactory,V=!0!==Q.stopAtErrors,Y=Number.isInteger(Q.maxImageSize)&&Q.maxImageSize>-1?Q.maxImageSize:-1,j=!1!==Q.isEvalSupported,b="boolean"==typeof Q.isOffscreenCanvasSupported?Q.isOffscreenCanvasSupported:!_is_node.isNodeJS,w=Number.isInteger(Q.canvasMaxAreaInBytes)?Q.canvasMaxAreaInBytes:-1,$="boolean"==typeof Q.disableFontFace?Q.disableFontFace:_is_node.isNodeJS,J=!0===Q.fontExtraProperties,K=!0===Q.enableXfa,ee=Q.ownerDocument||globalThis.document,oe=!0===Q.disableRange,fe=!0===Q.disableStream,xe=!0===Q.disableAutoFetch,ve=!0===Q.pdfBug,be=x?x.length:Q.length??NaN,_e="boolean"==typeof Q.useSystemFonts?Q.useSystemFonts:!_is_node.isNodeJS&&!$,de="boolean"==typeof Q.useWorkerFetch?Q.useWorkerFetch:O===_display_utils.DOMCMapReaderFactory&&k===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(p,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(F,document.baseURI),W=Q.canvasFactory||new DefaultCanvasFactory({ownerDocument:ee}),A=Q.filterFactory||new DefaultFilterFactory({docId:H,ownerDocument:ee});(0,_util.setVerbosityLevel)(f);const _={canvasFactory:W,filterFactory:A};if(de||(_.cMapReaderFactory=new O({baseUrl:p,isCompressed:M}),_.standardFontDataFactory=new k({baseUrl:F})),!h){const u={verbosity:f,port:_worker_options.GlobalWorkerOptions.workerPort};h=u.port?_PDFWorker.fromPort(u):new _PDFWorker(u),d._worker=h}const T={docId:H,apiVersion:"3.7.107",data:S,password:Z,disableAutoFetch:xe,rangeChunkSize:E,length:be,docBaseUrl:I,enableXfa:K,evaluatorOptions:{maxImageSize:Y,disableFontFace:$,ignoreErrors:V,isEvalSupported:j,isOffscreenCanvasSupported:b,canvasMaxAreaInBytes:w,fontExtraProperties:J,useSystemFonts:_e,cMapUrl:de?p:null,standardFontDataUrl:de?F:null}},N={ignoreErrors:V,isEvalSupported:j,disableFontFace:$,fontExtraProperties:J,enableXfa:K,ownerDocument:ee,disableAutoFetch:xe,pdfBug:ve,styleElement:null};return h.promise.then(function(){if(d.destroyed)throw new Error("Loading aborted");const u=_fetchDocument(h,T),y=new Promise(function(D){let R;x?R=new _transport_stream.PDFDataTransportStream({length:be,initialData:x.initialData,progressiveDone:x.progressiveDone,contentDispositionFilename:x.contentDispositionFilename,disableRange:oe,disableStream:fe},x):S||(R=createPDFNetworkStream({url:m,length:be,httpHeaders:z,withCredentials:U,rangeChunkSize:E,disableRange:oe,disableStream:fe})),D(R)});return Promise.all([u,y]).then(function([D,R]){if(d.destroyed)throw new Error("Loading aborted");const P=new _message_handler.MessageHandler(H,D,h.port),B=new WorkerTransport(P,d,R,N,_);d._transport=B,P.send("Ready",null)})}).catch(d._capability.reject),d}function _fetchDocument(Q,d){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Q,d){if(Q.destroyed)throw new Error("Worker was destroyed");const H=yield Q.messageHandler.sendWithPromise("GetDocRequest",d,d.data?[d.data.buffer]:null);if(Q.destroyed)throw new Error("Worker was destroyed");return H})).apply(this,arguments)}function getUrlProp(Q){if(Q instanceof URL)return Q.href;try{return new URL(Q,window.location).href}catch{if(_is_node.isNodeJS&&"string"==typeof Q)return Q}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Q){if(_is_node.isNodeJS&&typeof Buffer<"u"&&Q instanceof Buffer)return(0,_display_utils.deprecated)("Please provide binary data as `Uint8Array`, rather than `Buffer`."),new Uint8Array(Q);if(Q instanceof Uint8Array&&Q.byteLength===Q.buffer.byteLength)return Q;if("string"==typeof Q)return(0,_util.stringToBytes)(Q);if("object"==typeof Q&&!isNaN(Q?.length)||(0,_util.isArrayBuffer)(Q))return new Uint8Array(Q);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){var d=this;return _asyncToGenerator(function*(){d.destroyed=!0,yield d._transport?.destroy(),d._transport=null,d._worker&&(d._worker.destroy(),d._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(d,H,m=!1,S=null){this.length=d,this.initialData=H,this.progressiveDone=m,this.contentDispositionFilename=S,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(d){this._rangeListeners.push(d)}addProgressListener(d){this._progressListeners.push(d)}addProgressiveReadListener(d){this._progressiveReadListeners.push(d)}addProgressiveDoneListener(d){this._progressiveDoneListeners.push(d)}onDataRange(d,H){for(const m of this._rangeListeners)m(d,H)}onDataProgress(d,H){this._readyCapability.promise.then(()=>{for(const m of this._progressListeners)m(d,H)})}onDataProgressiveRead(d){this._readyCapability.promise.then(()=>{for(const H of this._progressiveReadListeners)H(d)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const d of this._progressiveDoneListeners)d()})}transportReady(){this._readyCapability.resolve()}requestDataRange(d,H){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(d,H){this._pdfInfo=d,this._transport=H}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(d){return this._transport.getPage(d)}getPageIndex(d){return this._transport.getPageIndex(d)}getDestinations(){return this._transport.getDestinations()}getDestination(d){return this._transport.getDestination(d)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(d=!1){return this._transport.startCleanup(d||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(d,H,m,S=!1){this._pageIndex=d,this._pageInfo=H,this._transport=m,this._stats=S?new _display_utils.StatTimer:null,this._pdfBug=S,this.commonObjs=m.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:d,rotation:H=this.rotate,offsetX:m=0,offsetY:S=0,dontFlip:z=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:d,rotation:H,offsetX:m,offsetY:S,dontFlip:z})}getAnnotations({intent:d="display"}={}){const H=this._transport.getRenderingIntent(d);return this._transport.getAnnotations(this._pageIndex,H.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){var d=this;return _asyncToGenerator(function*(){return d._transport._htmlForXfa?.children[d._pageIndex]||null})()}render({canvasContext:d,viewport:H,intent:m="display",annotationMode:S=_util.AnnotationMode.ENABLE,transform:z=null,background:U=null,optionalContentConfigPromise:Z=null,annotationCanvasMap:x=null,pageColors:E=null,printAnnotationStorage:h=null}){if(arguments[0]?.canvasFactory)throw new Error("render no longer accepts the `canvasFactory`-option, please pass it to the `getDocument`-function instead.");this._stats?.time("Overall");const f=this._transport.getRenderingIntent(m,S,h);this.#t=!1,this.#r(),Z||(Z=this._transport.getOptionalContentConfig());let I=this._intentStates.get(f.cacheKey);I||(I=Object.create(null),this._intentStates.set(f.cacheKey,I)),I.streamReaderCancelTimeout&&(clearTimeout(I.streamReaderCancelTimeout),I.streamReaderCancelTimeout=null);const p=!!(f.renderingIntent&_util.RenderingIntentFlag.PRINT);I.displayReadyCapability||(I.displayReadyCapability=new _util.PromiseCapability,I.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const M=k=>{I.renderTasks.delete(O),(this._maybeCleanupAfterRender||p)&&(this.#t=!0),this.#n(!p),k?(O.capability.reject(k),this._abortOperatorList({intentState:I,reason:k instanceof Error?k:new Error(k)})):O.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},O=new InternalRenderTask({callback:M,params:{canvasContext:d,viewport:H,transform:z,background:U},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:x,operatorList:I.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!p,pdfBug:this._pdfBug,pageColors:E});(I.renderTasks||=new Set).add(O);const F=O.task;return Promise.all([I.displayReadyCapability.promise,Z]).then(([k,V])=>{this.#t?M():(this._stats?.time("Rendering"),O.initializeGraphics({transparency:k,optionalContentConfig:V}),O.operatorListChanged())}).catch(M),F}getOperatorList({intent:d="display",annotationMode:H=_util.AnnotationMode.ENABLE,printAnnotationStorage:m=null}={}){const z=this._transport.getRenderingIntent(d,H,m,!0);let Z,U=this._intentStates.get(z.cacheKey);return U||(U=Object.create(null),this._intentStates.set(z.cacheKey,U)),U.opListReadCapability||(Z=Object.create(null),Z.operatorListChanged=function S(){U.operatorList.lastChunk&&(U.opListReadCapability.resolve(U.operatorList),U.renderTasks.delete(Z))},U.opListReadCapability=new _util.PromiseCapability,(U.renderTasks||=new Set).add(Z),U.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(z)),U.opListReadCapability.promise}streamTextContent({includeMarkedContent:d=!1,disableNormalization:H=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===d,disableNormalization:!0===H},{highWaterMark:100,size:S=>S.items.length})}getTextContent(d={}){if(this._transport._htmlForXfa)return this.getXfa().then(m=>_xfa_text.XfaText.textContent(m));const H=this.streamTextContent(d);return new Promise(function(m,S){const U=H.getReader(),Z={items:[],styles:Object.create(null)};!function z(){U.read().then(function({value:x,done:E}){E?m(Z):(Object.assign(Z.styles,x.styles),Z.items.push(...x.items),z())},S)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const d=[];for(const H of this._intentStates.values())if(this._abortOperatorList({intentState:H,reason:new Error("Page was destroyed."),force:!0}),!H.opListReadCapability)for(const m of H.renderTasks)d.push(m.completed),m.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(d)}cleanup(d=!1){this.#t=!0;const H=this.#n(!1);return d&&H&&(this._stats&&=new _display_utils.StatTimer),H}#n(d=!1){if(this.#r(),!this.#t)return!1;if(d)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:H,operatorList:m}of this._intentStates.values())if(H.size>0||!m.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(d,H){const m=this._intentStates.get(H);m&&(this._stats?.timeEnd("Page Request"),m.displayReadyCapability?.resolve(d))}_renderPageChunk(d,H){for(let m=0,S=d.length;m<S;m++)H.operatorList.fnArray.push(d.fnArray[m]),H.operatorList.argsArray.push(d.argsArray[m]);H.operatorList.lastChunk=d.lastChunk,H.operatorList.separateAnnots=d.separateAnnots;for(const m of H.renderTasks)m.operatorListChanged();d.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:d,cacheKey:H,annotationStorageMap:m}){const z=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:d,cacheKey:H,annotationStorage:m}).getReader(),U=this._intentStates.get(H);U.streamReader=z;const Z=()=>{z.read().then(({value:x,done:E})=>{E?U.streamReader=null:this._transport.destroyed||(this._renderPageChunk(x,U),Z())},x=>{if(U.streamReader=null,!this._transport.destroyed){if(U.operatorList){U.operatorList.lastChunk=!0;for(const E of U.renderTasks)E.operatorListChanged();this.#n(!0)}if(U.displayReadyCapability)U.displayReadyCapability.reject(x);else{if(!U.opListReadCapability)throw x;U.opListReadCapability.reject(x)}}})};Z()}_abortOperatorList({intentState:d,reason:H,force:m=!1}){if(d.streamReader){if(d.streamReaderCancelTimeout&&(clearTimeout(d.streamReaderCancelTimeout),d.streamReaderCancelTimeout=null),!m){if(d.renderTasks.size>0)return;if(H instanceof _display_utils.RenderingCancelledException){let S=RENDERING_CANCELLED_TIMEOUT;return H.extraDelay>0&&H.extraDelay<1e3&&(S+=H.extraDelay),void(d.streamReaderCancelTimeout=setTimeout(()=>{d.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:d,reason:H,force:!0})},S))}}if(d.streamReader.cancel(new _util.AbortException(H.message)).catch(()=>{}),d.streamReader=null,!this._transport.destroyed){for(const[S,z]of this._intentStates)if(z===d){this._intentStates.delete(S);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(d,H){const m={data:structuredClone(d,H?{transfer:H}:null)};this.#t.then(()=>{for(const S of this.#e)S.call(this,m)})}addEventListener(d,H){this.#e.add(H)}removeEventListener(d,H){this.#e.delete(H)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Q=document?.currentScript?.src;Q&&(PDFWorkerUtil.fallbackWorkerSrc=Q.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Q,d){let H;try{if(H=new URL(Q),!H.origin||"null"===H.origin)return!1}catch{return!1}const m=new URL(d,H);return H.origin===m.origin},PDFWorkerUtil.createCDNWrapper=function(Q){return URL.createObjectURL(new Blob([`importScripts("${Q}");`]))};class _PDFWorker{static#workerPorts=new WeakMap;constructor({name:Q=null,port:d=null,verbosity:H=(0,_util.getVerbosityLevel)()}={}){if(d&&_PDFWorker.#workerPorts.has(d))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Q,this.destroyed=!1,this.verbosity=H,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,d)return _PDFWorker.#workerPorts.set(d,this),void this._initializeFromPort(d);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Q){this._port=Q,this._messageHandler=new _message_handler.MessageHandler("main","worker",Q),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Q}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Q)||(Q=PDFWorkerUtil.createCDNWrapper(new URL(Q,window.location).href));const d=new Worker(Q),H=new _message_handler.MessageHandler("main","worker",d),m=()=>{d.removeEventListener("error",S),H.destroy(),d.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},S=()=>{this._webWorker||m()};d.addEventListener("error",S),H.on("test",U=>{d.removeEventListener("error",S),this.destroyed?m():U?(this._messageHandler=H,this._port=d,this._webWorker=d,this._readyCapability.resolve(),H.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),H.destroy(),d.terminate())}),H.on("ready",U=>{if(d.removeEventListener("error",S),this.destroyed)m();else try{z()}catch{this._setupFakeWorker()}});const z=()=>{const U=new Uint8Array;H.send("test",U,[U.buffer])};return void z()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Q=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const d=new LoopbackPort;this._port=d;const H="fake"+PDFWorkerUtil.fakeWorkerId++,m=new _message_handler.MessageHandler(H+"_worker",H,d);Q.setup(m,d);const S=new _message_handler.MessageHandler(H,H+"_worker",d);this._messageHandler=S,this._readyCapability.resolve(),S.send("configure",{verbosity:this.verbosity})}).catch(Q=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Q.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Q){if(!Q?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(Q.port)?this.#workerPorts.get(Q.port):new _PDFWorker(Q)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this3=this;const loader=function(){var _ref=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this3._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this3.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this3.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Q(){return _ref.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;constructor(d,H,m,S,z){this.messageHandler=d,this.loadingTask=H,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:S.ownerDocument,styleElement:S.styleElement}),this._params=S,this.canvasFactory=z.canvasFactory,this.filterFactory=z.filterFactory,this.cMapReaderFactory=z.cMapReaderFactory,this.standardFontDataFactory=z.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=m,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#r(d,H=null){const m=this.#e.get(d);if(m)return m;const S=this.messageHandler.sendWithPromise(d,H);return this.#e.set(d,S),S}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(d,H=_util.AnnotationMode.ENABLE,m=null,S=!1){let z=_util.RenderingIntentFlag.DISPLAY,U=null;switch(d){case"any":z=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":z=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${d}`)}switch(H){case _util.AnnotationMode.DISABLE:z+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:z+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:z+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,U=(z&_util.RenderingIntentFlag.PRINT&&m instanceof _annotation_storage.PrintAnnotationStorage?m:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${H}`)}return S&&(z+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:z,cacheKey:`${z}_${_annotation_storage.AnnotationStorage.getHash(U)}`,annotationStorageMap:U}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const d=[];for(const m of this.#t.values())d.push(m._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const H=this.messageHandler.sendWithPromise("Terminate",null);return d.push(H),Promise.all(d).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:d,loadingTask:H}=this;d.on("GetReader",(m,S)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=z=>{this._lastProgress={loaded:z.loaded,total:z.total}},S.onPull=()=>{this._fullReader.read().then(function({value:z,done:U}){U?S.close():((0,_util.assert)(z instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(z),1,[z]))}).catch(z=>{S.error(z)})},S.onCancel=z=>{this._fullReader.cancel(z),S.ready.catch(U=>{if(!this.destroyed)throw U})}}),d.on("ReaderHeadersReady",m=>{const S=new _util.PromiseCapability,z=this._fullReader;return z.headersReady.then(()=>{(!z.isStreamingSupported||!z.isRangeSupported)&&(this._lastProgress&&H.onProgress?.(this._lastProgress),z.onProgress=U=>{H.onProgress?.({loaded:U.loaded,total:U.total})}),S.resolve({isStreamingSupported:z.isStreamingSupported,isRangeSupported:z.isRangeSupported,contentLength:z.contentLength})},S.reject),S.promise}),d.on("GetRangeReader",(m,S)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const z=this._networkStream.getRangeReader(m.begin,m.end);z?(S.onPull=()=>{z.read().then(function({value:U,done:Z}){Z?S.close():((0,_util.assert)(U instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),S.enqueue(new Uint8Array(U),1,[U]))}).catch(U=>{S.error(U)})},S.onCancel=U=>{z.cancel(U),S.ready.catch(Z=>{if(!this.destroyed)throw Z})}):S.close()}),d.on("GetDoc",({pdfInfo:m})=>{this._numPages=m.numPages,this._htmlForXfa=m.htmlForXfa,delete m.htmlForXfa,H._capability.resolve(new PDFDocumentProxy(m,this))}),d.on("DocException",function(m){let S;switch(m.name){case"PasswordException":S=new _util.PasswordException(m.message,m.code);break;case"InvalidPDFException":S=new _util.InvalidPDFException(m.message);break;case"MissingPDFException":S=new _util.MissingPDFException(m.message);break;case"UnexpectedResponseException":S=new _util.UnexpectedResponseException(m.message,m.status);break;case"UnknownErrorException":S=new _util.UnknownErrorException(m.message,m.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}H._capability.reject(S)}),d.on("PasswordRequest",m=>{if(this._passwordCapability=new _util.PromiseCapability,H.onPassword){const S=z=>{z instanceof Error?this._passwordCapability.reject(z):this._passwordCapability.resolve({password:z})};try{H.onPassword(S,m.code)}catch(z){this._passwordCapability.reject(z)}}else this._passwordCapability.reject(new _util.PasswordException(m.message,m.code));return this._passwordCapability.promise}),d.on("DataLoaded",m=>{H.onProgress?.({loaded:m.length,total:m.length}),this.downloadInfoCapability.resolve(m)}),d.on("StartRenderPage",m=>{this.destroyed||this.#t.get(m.pageIndex)._startRenderPage(m.transparency,m.cacheKey)}),d.on("commonobj",([m,S,z])=>{if(!this.destroyed&&!this.commonObjs.has(m))switch(S){case"Font":const U=this._params;if("error"in z){const E=z.error;(0,_util.warn)(`Error during font loading: ${E}`),this.commonObjs.resolve(m,E);break}const Z=U.pdfBug&&globalThis.FontInspector?.enabled?(E,h)=>globalThis.FontInspector.fontAdded(E,h):null,x=new _font_loader.FontFaceObject(z,{isEvalSupported:U.isEvalSupported,disableFontFace:U.disableFontFace,ignoreErrors:U.ignoreErrors,inspectFont:Z});this.fontLoader.bind(x).catch(E=>d.sendWithPromise("FontFallback",{id:m})).finally(()=>{!U.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(m,x)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(m,z);break;default:throw new Error(`Got unknown common object type ${S}`)}}),d.on("obj",([m,S,z,U])=>{if(this.destroyed)return;const Z=this.#t.get(S);if(!Z.objs.has(m))switch(z){case"Image":if(Z.objs.resolve(m,U),U){let x;if(U.bitmap){const{width:E,height:h}=U;x=E*h*4}else x=U.data?.length||0;x>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Z._maybeCleanupAfterRender=!0)}break;case"Pattern":Z.objs.resolve(m,U);break;default:throw new Error(`Got unknown object type ${z}`)}}),d.on("DocProgress",m=>{this.destroyed||H.onProgress?.({loaded:m.loaded,total:m.total})}),d.on("FetchBuiltInCMap",m=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(m):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),d.on("FetchStandardFontData",m=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(m):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(d){if(!Number.isInteger(d)||d<=0||d>this._numPages)return Promise.reject(new Error("Invalid page request."));const H=d-1,m=this.#n.get(H);if(m)return m;const S=this.messageHandler.sendWithPromise("GetPage",{pageIndex:H}).then(z=>{if(this.destroyed)throw new Error("Transport destroyed");const U=new PDFPageProxy(H,z,this,this._params.pdfBug);return this.#t.set(H,U),U});return this.#n.set(H,S),S}getPageIndex(d){return"object"!=typeof d||null===d||!Number.isInteger(d.num)||d.num<0||!Number.isInteger(d.gen)||d.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:d.num,gen:d.gen})}getAnnotations(d,H){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:d,intent:H})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(d){return"string"!=typeof d?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:d})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(d){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:d})}getStructTree(d){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:d})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(d=>new _optional_content_config.OptionalContentConfig(d))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const d="GetMetadata",H=this.#e.get(d);if(H)return H;const m=this.messageHandler.sendWithPromise(d,null).then(S=>({info:S[0],metadata:S[1]?new _metadata.Metadata(S[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(d,m),m}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(d=!1){var H=this;return _asyncToGenerator(function*(){if(!H.destroyed){yield H.messageHandler.sendWithPromise("Cleanup",null);for(const m of H.#t.values())if(!m.cleanup())throw new Error(`startCleanup: Page ${m.pageNumber} is currently rendering.`);H.commonObjs.clear(),d||H.fontLoader.clear(),H.#e.clear(),H.filterFactory.destroy(!0)}})()}get loadingParams(){const{disableAutoFetch:d,enableXfa:H}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:d,enableXfa:H})}}class PDFObjects{#e=Object.create(null);#t(d){return this.#e[d]||(this.#e[d]={capability:new _util.PromiseCapability,data:null})}get(d,H=null){if(H){const S=this.#t(d);return S.capability.promise.then(()=>H(S.data)),null}const m=this.#e[d];if(!m?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${d}.`);return m.data}has(d){return this.#e[d]?.capability.settled||!1}resolve(d,H=null){const m=this.#t(d);m.data=H,m.capability.resolve()}clear(){for(const d in this.#e){const{data:H}=this.#e[d];H?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(d){this.#e=d,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(d=0){this.#e.cancel(null,d)}get separateAnnots(){const{separateAnnots:d}=this.#e.operatorList;if(!d)return!1;const{annotationCanvasMap:H}=this.#e;return d.form||d.canvas&&H?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:d,params:H,objs:m,commonObjs:S,annotationCanvasMap:z,operatorList:U,pageIndex:Z,canvasFactory:x,filterFactory:E,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:I=null}){this.callback=d,this.params=H,this.objs=m,this.commonObjs=S,this.annotationCanvasMap=z,this.operatorListIdx=null,this.operatorList=U,this._pageIndex=Z,this.canvasFactory=x,this.filterFactory=E,this._pdfBug=f,this.pageColors=I,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===h&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=H.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:d=!1,optionalContentConfig:H}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:m,viewport:S,transform:z,background:U}=this.params;this.gfx=new _canvas.CanvasGraphics(m,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:H},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:z,viewport:S,transparency:d,background:U}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(d=null,H=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(d||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",H))}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var d=this;return _asyncToGenerator(function*(){d.cancelled||(d.operatorListIdx=d.gfx.executeOperatorList(d.operatorList,d.operatorListIdx,d._continueBound,d.stepper),d.operatorListIdx===d.operatorList.argsArray.length&&(d.running=!1,d.operatorList.lastChunk&&(d.gfx.endDrawing(d.pageColors),d._canvas&&InternalRenderTask.#e.delete(d._canvas),d.callback())))})()}}const version="3.7.107";exports.version=version;const build="036f855dc";exports.build=build},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PrintAnnotationStorage=d.AnnotationStorage=void 0;var m=H(1),S=H(4),z=H(8);class U{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(E,h){const f=this.#t.get(E);return void 0===f?h:Object.assign(h,f)}getRawValue(E){return this.#t.get(E)}remove(E){if(this.#t.delete(E),0===this.#t.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const h of this.#t.values())if(h instanceof S.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(E,h){const f=this.#t.get(E);let I=!1;if(void 0!==f)for(const[p,M]of Object.entries(h))f[p]!==M&&(I=!0,f[p]=M);else I=!0,this.#t.set(E,h);I&&this.#n(),h instanceof S.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(h.constructor._type)}has(E){return this.#t.has(E)}getAll(){return this.#t.size>0?(0,m.objectFromMap)(this.#t):null}setAll(E){for(const[h,f]of Object.entries(E))this.setValue(h,f)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Z(this)}get serializable(){if(0===this.#t.size)return null;const E=new Map;for(const[h,f]of this.#t){const I=f instanceof S.AnnotationEditor?f.serialize():f;I&&E.set(h,I)}return E}static getHash(E){if(!E)return"";const h=new z.MurmurHash3_64;for(const[f,I]of E)h.update(`${f}:${JSON.stringify(I)}`);return h.hexdigest()}}d.AnnotationStorage=U;class Z extends U{#e=null;constructor(E){super(),this.#e=structuredClone(E.serializable)}get print(){(0,m.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}d.PrintAnnotationStorage=Z},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditor=void 0;var m=H(5),S=H(1);class z{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#r=!1;#s=!1;_uiManager=null;#d=z._zIndex++;static _colorManager=new m.ColorManager;static _zIndex=1;constructor(Z){this.constructor===z&&(0,S.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Z.parent,this.id=Z.id,this.width=this.height=null,this.pageIndex=Z.parent.pageIndex,this.name=Z.name,this.div=null,this._uiManager=Z.uiManager;const{rotation:x,rawDims:{pageWidth:E,pageHeight:h,pageX:f,pageY:I}}=this.parent.viewport;this.rotation=x,this.pageRotation=(360+x-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[E,h],this.pageTranslation=[f,I];const[p,M]=this.parentDimensions;this.x=Z.x/p,this.y=Z.y/M,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,S.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(Z){this._uiManager.addCommands(Z)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#d}setParent(Z){null!==Z&&(this.pageIndex=Z.pageIndex,this.pageDimensions=Z.pageDimensions),this.parent=Z}focusin(Z){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(Z){!this.isAttachedToDOM||Z.relatedTarget?.closest(`#${this.id}`)||(Z.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(Z){const x=this.parent.div.getBoundingClientRect();this.startX=Z.clientX-x.x,this.startY=Z.clientY-x.y,Z.dataTransfer.setData("text/plain",this.id),Z.dataTransfer.effectAllowed="move"}setAt(Z,x,E,h){const[f,I]=this.parentDimensions;[E,h]=this.screenToPageTranslation(E,h),this.x=(Z+E)/f,this.y=(x+h)/I,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(Z,x){const[E,h]=this.parentDimensions;[Z,x]=this.screenToPageTranslation(Z,x),this.x+=Z/E,this.y+=x/h,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(Z,x){switch(this.parentRotation){case 90:return[x,-Z];case 180:return[-Z,-x];case 270:return[-x,Z];default:return[Z,x]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{realScale:Z}=this._uiManager.viewParameters,[x,E]=this.pageDimensions;return[x*Z,E*Z]}setDims(Z,x){const[E,h]=this.parentDimensions;this.div.style.width=100*Z/E+"%",this.div.style.height=100*x/h+"%"}fixDims(){const{style:Z}=this.div,{height:x,width:E}=Z,h=E.endsWith("%"),f=x.endsWith("%");if(h&&f)return;const[I,p]=this.parentDimensions;h||(Z.width=100*parseFloat(E)/I+"%"),f||(Z.height=100*parseFloat(x)/p+"%")}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[Z,x]=this.getInitialTranslation();return this.translate(Z,x),(0,m.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Z){const{isMac:x}=S.FeatureTest.platform;0!==Z.button||Z.ctrlKey&&x?Z.preventDefault():(Z.ctrlKey&&!x||Z.shiftKey||Z.metaKey&&x?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(Z,x){const E=this.parentScale,[h,f]=this.pageDimensions,[I,p]=this.pageTranslation,M=Z/E,O=x/E,F=this.x*h,k=this.y*f,V=this.width*h,Y=this.height*f;switch(this.rotation){case 0:return[F+M+I,f-k-O-Y+p,F+M+V+I,f-k-O+p];case 90:return[F+O+I,f-k+M+p,F+O+Y+I,f-k+M+V+p];case 180:return[F-M-V+I,f-k+O+p,F-M+I,f-k+O+Y+p];case 270:return[F-O-Y+I,f-k-M-V+p,F-O+I,f-k-M+p];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Z,x){const[E,h,f,I]=Z,p=f-E,M=I-h;switch(this.rotation){case 0:return[E,x-I,p,M];case 90:return[E,x-h,M,p];case 180:return[f,x-h,p,M];case 270:return[f,x-I,M,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,S.unreachable)("An editor must be serializable")}static deserialize(Z,x,E){const h=new this.prototype.constructor({parent:x,id:x.getNextId(),uiManager:E});h.rotation=Z.rotation;const[f,I]=h.pageDimensions,[p,M,O,F]=h.getRectInCurrentCoords(Z.rect,I);return h.x=p/f,h.y=M/I,h.width=O/f,h.height=F/I,h}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(Z,x){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(Z){this.#r=Z,Z?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}d.AnnotationEditor=z},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.KeyboardManager=d.CommandManager=d.ColorManager=d.AnnotationEditorUIManager=void 0,d.bindEvents=function z(I,p,M){for(const O of M)p.addEventListener(O,I[O].bind(I))},d.opacityToHex=function U(I){return Math.round(Math.min(255,Math.max(1,255*I))).toString(16).padStart(2,"0")};var m=H(1),S=H(6);class Z{#e=0;getId(){return`${m.AnnotationEditorPrefix}${this.#e++}`}}class x{#e=[];#t=!1;#n;#r=-1;constructor(p=128){this.#n=p}add({cmd:p,undo:M,mustExec:O,type:F=NaN,overwriteIfSameType:k=!1,keepUndo:V=!1}){if(O&&p(),this.#t)return;const Y={cmd:p,undo:M,type:F};if(-1===this.#r)return this.#e.length>0&&(this.#e.length=0),this.#r=0,void this.#e.push(Y);if(k&&this.#e[this.#r].type===F)return V&&(Y.undo=this.#e[this.#r].undo),void(this.#e[this.#r]=Y);const j=this.#r+1;j===this.#n?this.#e.splice(0,1):(this.#r=j,j<this.#e.length&&this.#e.splice(j)),this.#e.push(Y)}undo(){-1!==this.#r&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#r}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}d.CommandManager=x;class E{constructor(p){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:M}=m.FeatureTest.platform;for(const[O,F]of p)for(const k of O){const V=k.startsWith("mac+");M&&V?(this.callbacks.set(k.slice(4),F),this.allKeys.add(k.split("+").at(-1))):!M&&!V&&(this.callbacks.set(k,F),this.allKeys.add(k.split("+").at(-1)))}}#e(p){p.altKey&&this.buffer.push("alt"),p.ctrlKey&&this.buffer.push("ctrl"),p.metaKey&&this.buffer.push("meta"),p.shiftKey&&this.buffer.push("shift"),this.buffer.push(p.key);const M=this.buffer.join("+");return this.buffer.length=0,M}exec(p,M){if(!this.allKeys.has(M.key))return;const O=this.callbacks.get(this.#e(M));O&&(O.bind(p)(),M.stopPropagation(),M.preventDefault())}}d.KeyboardManager=E;class h{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const p=new Map([["CanvasText",null],["Canvas",null]]);return(0,S.getColorValues)(p),(0,m.shadow)(this,"_colors",p)}convert(p){const M=(0,S.getRGB)(p);if(!window.matchMedia("(forced-colors: active)").matches)return M;for(const[O,F]of this._colors)if(F.every((k,V)=>k===M[V]))return h._colorsMapping.get(O);return M}getHexCode(p){const M=this._colors.get(p);return M?m.Util.makeHexColor(...M):p}}d.ColorManager=h;class f{#e=null;#t=new Map;#n=new Map;#r=null;#s=new x;#d=0;#c=null;#i=new Set;#o=null;#u=new Z;#l=!1;#h=m.AnnotationEditorType.NONE;#a=new Set;#y=this.copy.bind(this);#v=this.cut.bind(this);#m=this.paste.bind(this);#A=this.keydown.bind(this);#S=this.onEditingAction.bind(this);#T=this.onPageChanging.bind(this);#M=this.onScaleChanging.bind(this);#D=this.onRotationChanging.bind(this);#I={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=null;static _keyboardManager=new E([[["ctrl+a","mac+meta+a"],f.prototype.selectAll],[["ctrl+z","mac+meta+z"],f.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],f.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],f.prototype.delete],[["Escape","mac+Escape"],f.prototype.unselectAll]]);constructor(p,M,O){this.#_=p,this.#o=M,this.#o._on("editingaction",this.#S),this.#o._on("pagechanging",this.#T),this.#o._on("scalechanging",this.#M),this.#o._on("rotationchanging",this.#D),this.#r=O,this.viewParameters={realScale:S.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#R(),this.#o._off("editingaction",this.#S),this.#o._off("pagechanging",this.#T),this.#o._off("scalechanging",this.#M),this.#o._off("rotationchanging",this.#D);for(const p of this.#n.values())p.destroy();this.#n.clear(),this.#t.clear(),this.#i.clear(),this.#e=null,this.#a.clear(),this.#s.destroy()}onPageChanging({pageNumber:p}){this.#d=p-1}focusMainContainer(){this.#_.focus()}addShouldRescale(p){this.#i.add(p)}removeShouldRescale(p){this.#i.delete(p)}onScaleChanging({scale:p}){this.commitOrRemove(),this.viewParameters.realScale=p*S.PixelsPerInch.PDF_TO_CSS_UNITS;for(const M of this.#i)M.onScaleChanging()}onRotationChanging({pagesRotation:p}){this.commitOrRemove(),this.viewParameters.rotation=p}addToAnnotationStorage(p){!p.isEmpty()&&this.#r&&!this.#r.has(p.id)&&this.#r.setValue(p.id,p)}#P(){this.#_.addEventListener("keydown",this.#A)}#R(){this.#_.removeEventListener("keydown",this.#A)}#F(){document.addEventListener("copy",this.#y),document.addEventListener("cut",this.#v),document.addEventListener("paste",this.#m)}#k(){document.removeEventListener("copy",this.#y),document.removeEventListener("cut",this.#v),document.removeEventListener("paste",this.#m)}copy(p){if(p.preventDefault(),this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const M=[];for(const O of this.#a)O.isEmpty()||M.push(O.serialize());0!==M.length&&p.clipboardData.setData("application/pdfjs",JSON.stringify(M))}cut(p){this.copy(p),this.delete()}paste(p){p.preventDefault();let M=p.clipboardData.getData("application/pdfjs");if(!M)return;try{M=JSON.parse(M)}catch(F){return void(0,m.warn)(`paste: "${F.message}".`)}if(!Array.isArray(M))return;this.unselectAll();const O=this.#n.get(this.#d);try{const F=[];for(const Y of M){const j=O.deserialize(Y);if(!j)return;F.push(j)}this.addCommands({cmd:()=>{for(const Y of F)this.#b(Y);this.#E(F)},undo:()=>{for(const Y of F)Y.remove()},mustExec:!0})}catch(F){(0,m.warn)(`paste: "${F.message}".`)}}keydown(p){this.getActive()?.shouldGetKeyboardEvents()||f._keyboardManager.exec(this,p)}onEditingAction(p){["undo","redo","delete","selectAll"].includes(p.name)&&this[p.name]()}#f(p){Object.entries(p).some(([O,F])=>this.#I[O]!==F)&&this.#o.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#I,p)})}#p(p){this.#o.dispatch("annotationeditorparamschanged",{source:this,details:p})}setEditingState(p){p?(this.#P(),this.#F(),this.#f({isEditing:this.#h!==m.AnnotationEditorType.NONE,isEmpty:this.#g(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#R(),this.#k(),this.#f({isEditing:!1}))}registerEditorTypes(p){if(!this.#c){this.#c=p;for(const M of this.#c)this.#p(M.defaultPropertiesToUpdate)}}getId(){return this.#u.getId()}get currentLayer(){return this.#n.get(this.#d)}get currentPageIndex(){return this.#d}addLayer(p){this.#n.set(p.pageIndex,p),this.#l?p.enable():p.disable()}removeLayer(p){this.#n.delete(p.pageIndex)}updateMode(p){if(this.#h=p,p===m.AnnotationEditorType.NONE)this.setEditingState(!1),this.#C();else{this.setEditingState(!0),this.#x();for(const M of this.#n.values())M.updateMode(p)}}updateToolbar(p){p!==this.#h&&this.#o.dispatch("switchannotationeditormode",{source:this,mode:p})}updateParams(p,M){if(this.#c){for(const O of this.#a)O.updateParams(p,M);for(const O of this.#c)O.updateDefaultParams(p,M)}}#x(){if(!this.#l){this.#l=!0;for(const p of this.#n.values())p.enable()}}#C(){if(this.unselectAll(),this.#l){this.#l=!1;for(const p of this.#n.values())p.disable()}}getEditors(p){const M=[];for(const O of this.#t.values())O.pageIndex===p&&M.push(O);return M}getEditor(p){return this.#t.get(p)}addEditor(p){this.#t.set(p.id,p)}removeEditor(p){this.#t.delete(p.id),this.unselect(p),this.#r?.remove(p.id)}#b(p){const M=this.#n.get(p.pageIndex);M?M.addOrRebuild(p):this.addEditor(p)}setActiveEditor(p){this.#e!==p&&(this.#e=p,p&&this.#p(p.propertiesToUpdate))}toggleSelected(p){if(this.#a.has(p))return this.#a.delete(p),p.unselect(),void this.#f({hasSelectedEditor:this.hasSelection});this.#a.add(p),p.select(),this.#p(p.propertiesToUpdate),this.#f({hasSelectedEditor:!0})}setSelected(p){for(const M of this.#a)M!==p&&M.unselect();this.#a.clear(),this.#a.add(p),p.select(),this.#p(p.propertiesToUpdate),this.#f({hasSelectedEditor:!0})}isSelected(p){return this.#a.has(p)}unselect(p){p.unselect(),this.#a.delete(p),this.#f({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#a.size}undo(){this.#s.undo(),this.#f({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#g()})}redo(){this.#s.redo(),this.#f({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#g()})}addCommands(p){this.#s.add(p),this.#f({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#g()})}#g(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const p of this.#t.values())return p.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const p=[...this.#a];this.addCommands({cmd:()=>{for(const F of p)F.remove()},undo:()=>{for(const F of p)this.#b(F)},mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}#E(p){this.#a.clear();for(const M of p)M.isEmpty()||(this.#a.add(M),M.select());this.#f({hasSelectedEditor:!0})}selectAll(){for(const p of this.#a)p.commit();this.#E(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(0!==this.#a.size){for(const p of this.#a)p.unselect();this.#a.clear(),this.#f({hasSelectedEditor:!1})}}isActive(p){return this.#e===p}getActive(){return this.#e}getMode(){return this.#h}}d.AnnotationEditorUIManager=f},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StatTimer=d.RenderingCancelledException=d.PixelsPerInch=d.PageViewport=d.PDFDateString=d.DOMStandardFontDataFactory=d.DOMSVGFactory=d.DOMFilterFactory=d.DOMCanvasFactory=d.DOMCMapReaderFactory=d.AnnotationPrefix=void 0,d.deprecated=function J(de){console.log("Deprecated API usage: "+de)},d.getColorValues=function xe(de){const W=document.createElement("span");W.style.visibility="hidden",document.body.append(W);for(const A of de.keys()){W.style.color=A;const v=window.getComputedStyle(W).color;de.set(A,fe(v))}W.remove()},d.getCurrentTransform=function ve(de){const{a:W,b:A,c:v,d:_,e:T,f:N}=de.getTransform();return[W,A,v,_,T,N]},d.getCurrentTransformInverse=function be(de){const{a:W,b:A,c:v,d:_,e:T,f:N}=de.getTransform().invertSelf();return[W,A,v,_,T,N]},d.getFilenameFromUrl=function Y(de,W=!1){return W||([de]=de.split(/[#?]/,1)),de.substring(de.lastIndexOf("/")+1)},d.getPdfFilenameFromUrl=function j(de,W="document.pdf"){if("string"!=typeof de)return W;if(k(de))return(0,S.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),W;const v=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,_=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(de);let T=v.exec(_[1])||v.exec(_[2])||v.exec(_[3]);if(T&&(T=T[0],T.includes("%")))try{T=v.exec(decodeURIComponent(T))[0]}catch{}return T||W},d.getRGB=fe,d.getXfaPageViewport=function oe(de,{scale:W=1,rotation:A=0}){const{width:v,height:_}=de.attributes.style,T=[0,0,parseInt(v),parseInt(_)];return new O({viewBox:T,scale:W,rotation:A})},d.isDataScheme=k,d.isPdfFile=function V(de){return"string"==typeof de&&/\.pdf$/i.test(de)},d.isValidFetchUrl=w,d.loadScript=function $(de,W=!1){return new Promise((A,v)=>{const _=document.createElement("script");_.src=de,_.onload=function(T){W&&_.remove(),A(T)},_.onerror=function(){v(new Error(`Cannot load script at: ${_.src}`))},(document.head||document.documentElement).append(_)})},d.setLayerDimensions=function _e(de,W,A=!1,v=!0){if(W instanceof O){const{pageWidth:_,pageHeight:T}=W.rawDims,{style:N}=de,u=`calc(var(--scale-factor) * ${_}px)`,y=`calc(var(--scale-factor) * ${T}px)`;A&&W.rotation%180!=0?(N.width=y,N.height=u):(N.width=u,N.height=y)}v&&de.setAttribute("data-main-rotation",W.rotation)};var m=H(7),S=H(1);const z="http://www.w3.org/2000/svg";function h(de){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(function*(de,W=!1){if(w(de,document.baseURI)){const A=yield fetch(de);if(!A.ok)throw new Error(A.statusText);return W?new Uint8Array(yield A.arrayBuffer()):(0,S.stringToBytes)(yield A.text())}return new Promise((A,v)=>{const _=new XMLHttpRequest;_.open("GET",de,!0),W&&(_.responseType="arraybuffer"),_.onreadystatechange=()=>{if(_.readyState===XMLHttpRequest.DONE){if(200===_.status||0===_.status){let T;if(W&&_.response?T=new Uint8Array(_.response):!W&&_.responseText&&(T=(0,S.stringToBytes)(_.responseText)),T)return void A(T)}v(new Error(_.statusText))}},_.send(null)})})).apply(this,arguments)}d.AnnotationPrefix="pdfjs_internal_id_",d.PixelsPerInch=class Z{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},d.DOMFilterFactory=class x extends m.BaseFilterFactory{#e;#t;#n;#r;#s;#d;#c;#i=0;constructor({docId:W,ownerDocument:A=globalThis.document}={}){super(),this.#n=W,this.#r=A}get#o(){return this.#e||=new Map}get#u(){if(!this.#t){const W=this.#r.createElement("div"),{style:A}=W;A.visibility="hidden",A.contain="strict",A.width=A.height=0,A.position="absolute",A.top=A.left=0,A.zIndex=-1;const v=this.#r.createElementNS(z,"svg");v.setAttribute("width",0),v.setAttribute("height",0),this.#t=this.#r.createElementNS(z,"defs"),W.append(v),v.append(this.#t),this.#r.body.append(W)}return this.#t}#l(W,A,v){const _=this.#r.createElementNS(z,A);_.setAttribute("type","discrete"),_.setAttribute("tableValues",v),W.append(_)}addFilter(W){if(!W)return"none";let v,_,T,N,A=this.#o.get(W);if(A)return A;if(1===W.length){const P=W[0],B=new Array(256);for(let G=0;G<256;G++)B[G]=P[G]/255;N=v=_=T=B.join(",")}else{const[P,B,G]=W,q=new Array(256),le=new Array(256),te=new Array(256);for(let ae=0;ae<256;ae++)q[ae]=P[ae]/255,le[ae]=B[ae]/255,te[ae]=G[ae]/255;v=q.join(","),_=le.join(","),T=te.join(","),N=`${v}${_}${T}`}if(A=this.#o.get(N),A)return this.#o.set(W,A),A;const u=`g_${this.#n}_transfer_map_${this.#i++}`,y=`url(#${u})`;this.#o.set(W,y),this.#o.set(N,y);const D=this.#r.createElementNS(z,"filter",z);D.setAttribute("id",u),D.setAttribute("color-interpolation-filters","sRGB");const R=this.#r.createElementNS(z,"feComponentTransfer");return D.append(R),this.#l(R,"feFuncR",v),this.#l(R,"feFuncG",_),this.#l(R,"feFuncB",T),this.#u.append(D),y}addHCMFilter(W,A){const v=`${W}-${A}`;if(this.#d===v)return this.#c;if(this.#d=v,this.#c="none",this.#s?.remove(),!W||!A)return this.#c;this.#u.style.color=W;const _=fe(W=getComputedStyle(this.#u).getPropertyValue("color"));W=S.Util.makeHexColor(..._),this.#u.style.color=A;const T=fe(A=getComputedStyle(this.#u).getPropertyValue("color"));if(A=S.Util.makeHexColor(...T),this.#u.style.color="","#000000"===W&&"#ffffff"===A||W===A)return this.#c;const N=new Array(256);for(let G=0;G<=255;G++){const q=G/255;N[G]=q<=.03928?q/12.92:((q+.055)/1.055)**2.4}const u=N.join(","),y=`g_${this.#n}_hcm_filter`,D=this.#s=this.#r.createElementNS(z,"filter",z);D.setAttribute("id",y),D.setAttribute("color-interpolation-filters","sRGB");let R=this.#r.createElementNS(z,"feComponentTransfer");D.append(R),this.#l(R,"feFuncR",u),this.#l(R,"feFuncG",u),this.#l(R,"feFuncB",u);const P=this.#r.createElementNS(z,"feColorMatrix");P.setAttribute("type","matrix"),P.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),D.append(P),R=this.#r.createElementNS(z,"feComponentTransfer"),D.append(R);const B=(G,q)=>{const le=_[G]/255,te=T[G]/255,ae=new Array(q+1);for(let ye=0;ye<=q;ye++)ae[ye]=le+ye/q*(te-le);return ae.join(",")};return this.#l(R,"feFuncR",B(0,5)),this.#l(R,"feFuncG",B(1,5)),this.#l(R,"feFuncB",B(2,5)),this.#u.append(D),this.#c=`url(#${y})`,this.#c}destroy(W=!1){W&&this.#c||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#i=0)}},d.DOMCanvasFactory=class E extends m.BaseCanvasFactory{constructor({ownerDocument:W=globalThis.document}={}){super(),this._document=W}_createCanvas(W,A){const v=this._document.createElement("canvas");return v.width=W,v.height=A,v}},d.DOMCMapReaderFactory=class I extends m.BaseCMapReaderFactory{_fetchData(W,A){return h(W,this.isCompressed).then(v=>({cMapData:v,compressionType:A}))}},d.DOMStandardFontDataFactory=class p extends m.BaseStandardFontDataFactory{_fetchData(W){return h(W,!0)}},d.DOMSVGFactory=class M extends m.BaseSVGFactory{_createSVG(W){return document.createElementNS(z,W)}};class O{constructor({viewBox:W,scale:A,rotation:v,offsetX:_=0,offsetY:T=0,dontFlip:N=!1}){this.viewBox=W,this.scale=A,this.rotation=v,this.offsetX=_,this.offsetY=T;const u=(W[2]+W[0])/2,y=(W[3]+W[1])/2;let D,R,P,B,G,q,le,te;switch((v%=360)<0&&(v+=360),v){case 180:D=-1,R=0,P=0,B=1;break;case 90:D=0,R=1,P=1,B=0;break;case 270:D=0,R=-1,P=-1,B=0;break;case 0:D=1,R=0,P=0,B=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}N&&(P=-P,B=-B),0===D?(G=Math.abs(y-W[1])*A+_,q=Math.abs(u-W[0])*A+T,le=(W[3]-W[1])*A,te=(W[2]-W[0])*A):(G=Math.abs(u-W[0])*A+_,q=Math.abs(y-W[1])*A+T,le=(W[2]-W[0])*A,te=(W[3]-W[1])*A),this.transform=[D*A,R*A,P*A,B*A,G-D*A*u-P*A*y,q-R*A*u-B*A*y],this.width=le,this.height=te}get rawDims(){const{viewBox:W}=this;return(0,S.shadow)(this,"rawDims",{pageWidth:W[2]-W[0],pageHeight:W[3]-W[1],pageX:W[0],pageY:W[1]})}clone({scale:W=this.scale,rotation:A=this.rotation,offsetX:v=this.offsetX,offsetY:_=this.offsetY,dontFlip:T=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:W,rotation:A,offsetX:v,offsetY:_,dontFlip:T})}convertToViewportPoint(W,A){return S.Util.applyTransform([W,A],this.transform)}convertToViewportRectangle(W){const A=S.Util.applyTransform([W[0],W[1]],this.transform),v=S.Util.applyTransform([W[2],W[3]],this.transform);return[A[0],A[1],v[0],v[1]]}convertToPdfPoint(W,A){return S.Util.applyInverseTransform([W,A],this.transform)}}function k(de){const W=de.length;let A=0;for(;A<W&&""===de[A].trim();)A++;return"data:"===de.substring(A,A+5).toLowerCase()}function w(de,W){try{const{protocol:A}=W?new URL(de,W):new URL(de);return"http:"===A||"https:"===A}catch{return!1}}let K;function fe(de){if(de.startsWith("#")){const W=parseInt(de.slice(1),16);return[(16711680&W)>>16,(65280&W)>>8,255&W]}return de.startsWith("rgb(")?de.slice(4,-1).split(",").map(W=>parseInt(W)):de.startsWith("rgba(")?de.slice(5,-1).split(",").map(W=>parseInt(W)).slice(0,3):((0,S.warn)(`Not a valid color format: "${de}"`),[0,0,0])}d.PageViewport=O,d.RenderingCancelledException=class F extends S.BaseException{constructor(W,A,v=0){super(W,"RenderingCancelledException"),this.type=A,this.extraDelay=v}},d.StatTimer=class b{started=Object.create(null);times=[];time(W){W in this.started&&(0,S.warn)(`Timer is already running for ${W}`),this.started[W]=Date.now()}timeEnd(W){W in this.started||(0,S.warn)(`Timer has not been started for ${W}`),this.times.push({name:W,start:this.started[W],end:Date.now()}),delete this.started[W]}toString(){const W=[];let A=0;for(const{name:v}of this.times)A=Math.max(v.length,A);for(const{name:v,start:_,end:T}of this.times)W.push(`${v.padEnd(A)} ${T-_}ms\n`);return W.join("")}},d.PDFDateString=class ee{static toDateObject(W){if(!W||"string"!=typeof W)return null;K||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const A=K.exec(W);if(!A)return null;const v=parseInt(A[1],10);let _=parseInt(A[2],10);_=_>=1&&_<=12?_-1:0;let T=parseInt(A[3],10);T=T>=1&&T<=31?T:1;let N=parseInt(A[4],10);N=N>=0&&N<=23?N:0;let u=parseInt(A[5],10);u=u>=0&&u<=59?u:0;let y=parseInt(A[6],10);y=y>=0&&y<=59?y:0;const D=A[7]||"Z";let R=parseInt(A[8],10);R=R>=0&&R<=23?R:0;let P=parseInt(A[9],10)||0;return P=P>=0&&P<=59?P:0,"-"===D?(N+=R,u+=P):"+"===D&&(N-=R,u-=P),new Date(Date.UTC(v,_,T,N,u,y))}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseStandardFontDataFactory=d.BaseSVGFactory=d.BaseFilterFactory=d.BaseCanvasFactory=d.BaseCMapReaderFactory=void 0;var m=H(1);class S{constructor(){this.constructor===S&&(0,m.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(h){return"none"}addHCMFilter(h,f){return"none"}destroy(h=!1){}}d.BaseFilterFactory=S;class z{constructor(){this.constructor===z&&(0,m.unreachable)("Cannot initialize BaseCanvasFactory.")}create(h,f){if(h<=0||f<=0)throw new Error("Invalid canvas size");const I=this._createCanvas(h,f);return{canvas:I,context:I.getContext("2d")}}reset(h,f,I){if(!h.canvas)throw new Error("Canvas is not specified");if(f<=0||I<=0)throw new Error("Invalid canvas size");h.canvas.width=f,h.canvas.height=I}destroy(h){if(!h.canvas)throw new Error("Canvas is not specified");h.canvas.width=0,h.canvas.height=0,h.canvas=null,h.context=null}_createCanvas(h,f){(0,m.unreachable)("Abstract method `_createCanvas` called.")}}d.BaseCanvasFactory=z;class U{constructor({baseUrl:h=null,isCompressed:f=!0}){this.constructor===U&&(0,m.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=h,this.isCompressed=f}fetch({name:h}){var f=this;return _asyncToGenerator(function*(){if(!f.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!h)throw new Error("CMap name must be specified.");const I=f.baseUrl+h+(f.isCompressed?".bcmap":"");return f._fetchData(I,f.isCompressed?m.CMapCompressionType.BINARY:m.CMapCompressionType.NONE).catch(M=>{throw new Error(`Unable to load ${f.isCompressed?"binary ":""}CMap at: ${I}`)})})()}_fetchData(h,f){(0,m.unreachable)("Abstract method `_fetchData` called.")}}d.BaseCMapReaderFactory=U;class Z{constructor({baseUrl:h=null}){this.constructor===Z&&(0,m.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=h}fetch({filename:h}){var f=this;return _asyncToGenerator(function*(){if(!f.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!h)throw new Error("Font filename must be specified.");const I=`${f.baseUrl}${h}`;return f._fetchData(I).catch(p=>{throw new Error(`Unable to load font data at: ${I}`)})})()}_fetchData(h){(0,m.unreachable)("Abstract method `_fetchData` called.")}}d.BaseStandardFontDataFactory=Z;class x{constructor(){this.constructor===x&&(0,m.unreachable)("Cannot initialize BaseSVGFactory.")}create(h,f,I=!1){if(h<=0||f<=0)throw new Error("Invalid SVG dimensions");const p=this._createSVG("svg:svg");return p.setAttribute("version","1.1"),I||(p.setAttribute("width",`${h}px`),p.setAttribute("height",`${f}px`)),p.setAttribute("preserveAspectRatio","none"),p.setAttribute("viewBox",`0 0 ${h} ${f}`),p}createElement(h){if("string"!=typeof h)throw new Error("Invalid SVG element type");return this._createSVG(h)}_createSVG(h){(0,m.unreachable)("Abstract method `_createSVG` called.")}}d.BaseSVGFactory=x},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MurmurHash3_64=void 0;var m=H(1);const S=3285377520,z=4294901760,U=65535;d.MurmurHash3_64=class Z{constructor(E){this.h1=E?4294967295&E:S,this.h2=E?4294967295&E:S}update(E){let h,f;if("string"==typeof E){h=new Uint8Array(2*E.length),f=0;for(let $=0,J=E.length;$<J;$++){const K=E.charCodeAt($);K<=255?h[f++]=K:(h[f++]=K>>>8,h[f++]=255&K)}}else{if(!(0,m.isArrayBuffer)(E))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");h=E.slice(),f=h.byteLength}const I=f>>2,p=f-4*I,M=new Uint32Array(h.buffer,0,I);let O=0,F=0,k=this.h1,V=this.h2;const Y=3432918353,j=461845907,b=Y&U,w=j&U;for(let $=0;$<I;$++)1&$?(O=M[$],O=O*Y&z|O*b&U,O=O<<15|O>>>17,O=O*j&z|O*w&U,k^=O,k=k<<13|k>>>19,k=5*k+3864292196):(F=M[$],F=F*Y&z|F*b&U,F=F<<15|F>>>17,F=F*j&z|F*w&U,V^=F,V=V<<13|V>>>19,V=5*V+3864292196);switch(O=0,p){case 3:O^=h[4*I+2]<<16;case 2:O^=h[4*I+1]<<8;case 1:O^=h[4*I],O=O*Y&z|O*b&U,O=O<<15|O>>>17,O=O*j&z|O*w&U,1&I?k^=O:V^=O}this.h1=k,this.h2=V}hexdigest(){let E=this.h1,h=this.h2;return E^=h>>>1,E=3981806797*E&z|36045*E&U,h=4283543511*h&z|(2950163797*(h<<16|E>>>16)&z)>>>16,E^=h>>>1,E=444984403*E&z|60499*E&U,h=3301882366*h&z|(3120437893*(h<<16|E>>>16)&z)>>>16,E^=h>>>1,(E>>>0).toString(16).padStart(8,"0")+(h>>>0).toString(16).padStart(8,"0")}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FontLoader=d.FontFaceObject=void 0;var m=H(1),S=H(10);d.FontLoader=class z{#e=new Set;constructor({ownerDocument:x=globalThis.document,styleElement:E=null}){this._document=x,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(x){this.nativeFontFaces.add(x),this._document.fonts.add(x)}removeNativeFontFace(x){this.nativeFontFaces.delete(x),this._document.fonts.delete(x)}insertRule(x){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const E=this.styleElement.sheet;E.insertRule(x,E.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(x){var E=this;return _asyncToGenerator(function*(){if(x&&!E.#e.has(x.loadedName)){if((0,m.assert)(!E.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),E.isFontLoadingAPISupported){const{loadedName:h,src:f,style:I}=x,p=new FontFace(h,f,I);E.addNativeFontFace(p);try{yield p.load(),E.#e.add(h)}catch{(0,m.warn)(`Cannot load system font: ${x.baseFontName}, installing it could help to improve PDF rendering.`),E.removeNativeFontFace(p)}return}(0,m.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}})()}bind(x){var E=this;return _asyncToGenerator(function*(){if(x.attached||x.missingFile&&!x.systemFontInfo)return;if(x.attached=!0,x.systemFontInfo)return void(yield E.loadSystemFont(x.systemFontInfo));if(E.isFontLoadingAPISupported){const f=x.createNativeFontFace();if(f){E.addNativeFontFace(f);try{yield f.loaded}catch(I){throw(0,m.warn)(`Failed to load font '${f.family}': '${I}'.`),x.disableFontFace=!0,I}}return}const h=x.createFontFaceRule();if(h){if(E.insertRule(h),E.isSyncFontLoadingSupported)return;yield new Promise(f=>{const I=E._queueLoadingCallback(f);E._prepareFontLoadEvent(x,I)})}})()}get isFontLoadingAPISupported(){return(0,m.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){let x=!1;return(S.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(x=!0),(0,m.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){const{loadingRequests:h}=this,f={done:!1,complete:function E(){for((0,m.assert)(!f.done,"completeRequest() cannot be called twice."),f.done=!0;h.length>0&&h[0].done;){const I=h.shift();setTimeout(I.callback,0)}},callback:x};return h.push(f),f}get _loadTestFont(){const x=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,m.shadow)(this,"_loadTestFont",x)}_prepareFontLoadEvent(x,E){function h(oe,fe){return oe.charCodeAt(fe)<<24|oe.charCodeAt(fe+1)<<16|oe.charCodeAt(fe+2)<<8|255&oe.charCodeAt(fe+3)}function f(oe,fe,xe,ve){return oe.substring(0,fe)+ve+oe.substring(fe+xe)}let I,p;const M=this._document.createElement("canvas");M.width=1,M.height=1;const O=M.getContext("2d");let F=0;const V=`lt${Date.now()}${this.loadTestFontId++}`;let Y=this._loadTestFont;Y=f(Y,976,V.length,V);const w=1482184792;let $=h(Y,16);for(I=0,p=V.length-3;I<p;I+=4)$=$-w+h(V,I)|0;I<V.length&&($=$-w+h(V+"XXX",I)|0),Y=f(Y,16,4,(0,m.string32)($));const J=`url(data:font/opentype;base64,${btoa(Y)});`;this.insertRule(`@font-face {font-family:"${V}";src:${J}}`);const ee=this._document.createElement("div");ee.style.visibility="hidden",ee.style.width=ee.style.height="10px",ee.style.position="absolute",ee.style.top=ee.style.left="0px";for(const oe of[x.loadedName,V]){const fe=this._document.createElement("span");fe.textContent="Hi",fe.style.fontFamily=oe,ee.append(fe)}this._document.body.append(ee),function k(oe,fe){if(++F>30)return(0,m.warn)("Load test font never loaded."),void fe();O.font="30px "+oe,O.fillText(".",0,20),O.getImageData(0,0,1,1).data[3]>0?fe():setTimeout(k.bind(null,oe,fe))}(V,()=>{ee.remove(),E.complete()})}},d.FontFaceObject=class U{constructor(x,{isEvalSupported:E=!0,disableFontFace:h=!1,ignoreErrors:f=!1,inspectFont:I=null}){this.compiledGlyphs=Object.create(null);for(const p in x)this[p]=x[p];this.isEvalSupported=!1!==E,this.disableFontFace=!0===h,this.ignoreErrors=!0===f,this._inspectFont=I}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(this.cssFontInfo){const E={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(E.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,E)}else x=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,m.bytesToString)(this.data),E=`url(data:${this.mimetype};base64,${btoa(x)});`;let h;if(this.cssFontInfo){let f=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(f+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),h=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${f}src:${E}}`}else h=`@font-face {font-family:"${this.loadedName}";src:${E}}`;return this._inspectFont?.(this,E),h}getPathGenerator(x,E){if(void 0!==this.compiledGlyphs[E])return this.compiledGlyphs[E];let h;try{h=x.get(this.loadedName+"_path_"+E)}catch(f){if(!this.ignoreErrors)throw f;return(0,m.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[E]=function(I,p){}}if(this.isEvalSupported&&m.FeatureTest.isEvalSupported){const f=[];for(const I of h){const p=void 0!==I.args?I.args.join(","):"";f.push("c.",I.cmd,"(",p,");\n")}return this.compiledGlyphs[E]=new Function("c","size",f.join(""))}return this.compiledGlyphs[E]=function(f,I){for(const p of h)"scale"===p.cmd&&(p.args=[I,-I]),f[p.cmd].apply(f,p.args)}}}},(Q,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.isNodeJS=void 0;const H=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);d.isNodeJS=H},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CanvasGraphics=void 0;var m=H(1),S=H(6),z=H(12),U=H(13),Z=H(10);const h=4096,M=16;class F{constructor(v){this.canvasFactory=v,this.cache=Object.create(null)}getCanvas(v,_,T){let N;return void 0!==this.cache[v]?(N=this.cache[v],this.canvasFactory.reset(N,_,T)):(N=this.canvasFactory.create(_,T),this.cache[v]=N),N}delete(v){delete this.cache[v]}clear(){for(const v in this.cache)this.canvasFactory.destroy(this.cache[v]),delete this.cache[v]}}function k(A,v,_,T,N,u,y,D,R,P){const[B,G,q,le,te,ae]=(0,S.getCurrentTransform)(A);if(0===G&&0===q){const we=Math.round(y*B+te),ke=Math.round(D*le+ae),Qe=Math.abs(Math.round((y+R)*B+te)-we)||1,Bt=Math.abs(Math.round((D+P)*le+ae)-ke)||1;return A.setTransform(Math.sign(B),0,0,Math.sign(le),we,ke),A.drawImage(v,_,T,N,u,0,0,Qe,Bt),A.setTransform(B,G,q,le,te,ae),[Qe,Bt]}if(0===B&&0===le){const we=Math.round(D*q+te),ke=Math.round(y*G+ae),Qe=Math.abs(Math.round((D+P)*q+te)-we)||1,Bt=Math.abs(Math.round((y+R)*G+ae)-ke)||1;return A.setTransform(0,Math.sign(G),Math.sign(q),0,we,ke),A.drawImage(v,_,T,N,u,0,0,Bt,Qe),A.setTransform(B,G,q,le,te,ae),[Bt,Qe]}return A.drawImage(v,_,T,N,u,y,D,R,P),[Math.hypot(B,G)*R,Math.hypot(q,le)*P]}class Y{constructor(v,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=m.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=m.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=m.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,v,_])}clone(){const v=Object.create(this);return v.clipBox=this.clipBox.slice(),v}setCurrentPoint(v,_){this.x=v,this.y=_}updatePathMinMax(v,_,T){[_,T]=m.Util.applyTransform([_,T],v),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,T),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,T)}updateRectMinMax(v,_){const T=m.Util.applyTransform(_,v),N=m.Util.applyTransform(_.slice(2),v);this.minX=Math.min(this.minX,T[0],N[0]),this.minY=Math.min(this.minY,T[1],N[1]),this.maxX=Math.max(this.maxX,T[0],N[0]),this.maxY=Math.max(this.maxY,T[1],N[1])}updateScalingPathMinMax(v,_){m.Util.scaleMinMax(v,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(v,_,T,N,u,y,D,R,P,B){const G=m.Util.bezierBoundingBox(_,T,N,u,y,D,R,P);if(B)return B[0]=Math.min(B[0],G[0],G[2]),B[1]=Math.max(B[1],G[0],G[2]),B[2]=Math.min(B[2],G[1],G[3]),void(B[3]=Math.max(B[3],G[1],G[3]));this.updateRectMinMax(v,G)}getPathBoundingBox(v=z.PathType.FILL,_=null){const T=[this.minX,this.minY,this.maxX,this.maxY];if(v===z.PathType.STROKE){_||(0,m.unreachable)("Stroke bounding box must include transform.");const N=m.Util.singularValueDecompose2dScale(_),u=N[0]*this.lineWidth/2,y=N[1]*this.lineWidth/2;T[0]-=u,T[1]-=y,T[2]+=u,T[3]+=y}return T}updateClipFromPath(){const v=m.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(v||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(v){this.clipBox=v,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(v=z.PathType.FILL,_=null){return m.Util.intersect(this.clipBox,this.getPathBoundingBox(v,_))}}function j(A,v){if(typeof ImageData<"u"&&v instanceof ImageData)return void A.putImageData(v,0,0);const _=v.height,T=v.width,N=_%M,u=(_-N)/M,y=0===N?u:u+1,D=A.createImageData(T,M);let P,R=0;const B=v.data,G=D.data;let q,le,te,ae;if(v.kind===m.ImageKind.GRAYSCALE_1BPP){const ye=B.byteLength,he=new Uint32Array(G.buffer,0,G.byteLength>>2),Ee=he.length,we=T+7>>3,Ce=4294967295,ke=m.FeatureTest.isLittleEndian?4278190080:255;for(q=0;q<y;q++){for(te=q<u?M:N,P=0,le=0;le<te;le++){const Xe=ye-R;let Qe=0;const Ze=Xe>we?T:8*Xe-7,Bt=-8&Ze;let Mt=0,ft=0;for(;Qe<Bt;Qe+=8)ft=B[R++],he[P++]=128&ft?Ce:ke,he[P++]=64&ft?Ce:ke,he[P++]=32&ft?Ce:ke,he[P++]=16&ft?Ce:ke,he[P++]=8&ft?Ce:ke,he[P++]=4&ft?Ce:ke,he[P++]=2&ft?Ce:ke,he[P++]=1&ft?Ce:ke;for(;Qe<Ze;Qe++)0===Mt&&(ft=B[R++],Mt=128),he[P++]=ft&Mt?Ce:ke,Mt>>=1}for(;P<Ee;)he[P++]=0;A.putImageData(D,0,q*M)}}else if(v.kind===m.ImageKind.RGBA_32BPP){for(le=0,ae=T*M*4,q=0;q<u;q++)G.set(B.subarray(R,R+ae)),R+=ae,A.putImageData(D,0,le),le+=M;q<y&&(ae=T*N*4,G.set(B.subarray(R,R+ae)),A.putImageData(D,0,le))}else{if(v.kind!==m.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${v.kind}`);for(te=M,ae=T*te,q=0;q<y;q++){for(q>=u&&(te=N,ae=T*te),P=0,le=ae;le--;)G[P++]=B[R++],G[P++]=B[R++],G[P++]=B[R++],G[P++]=255;A.putImageData(D,0,q*M)}}}function b(A,v){if(v.bitmap)return void A.drawImage(v.bitmap,0,0);const _=v.height,T=v.width,N=_%M,u=(_-N)/M,y=0===N?u:u+1,D=A.createImageData(T,M);let R=0;const P=v.data,B=D.data;for(let G=0;G<y;G++){const q=G<u?M:N;({srcPos:R}=(0,U.convertBlackAndWhiteToRGBA)({src:P,srcPos:R,dest:B,width:T,height:q,nonBlackColor:0})),A.putImageData(D,0,G*M)}}function w(A,v){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const T of _)void 0!==A[T]&&(v[T]=A[T]);void 0!==A.setLineDash&&(v.setLineDash(A.getLineDash()),v.lineDashOffset=A.lineDashOffset)}function $(A){A.strokeStyle=A.fillStyle="#000000",A.fillRule="nonzero",A.globalAlpha=1,A.lineWidth=1,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=10,A.globalCompositeOperation="source-over",A.font="10px sans-serif",void 0!==A.setLineDash&&(A.setLineDash([]),A.lineDashOffset=0),Z.isNodeJS||(A.filter="none")}function J(A,v,_,T){const N=A.length;for(let u=3;u<N;u+=4){const y=A[u];if(0===y)A[u-3]=v,A[u-2]=_,A[u-1]=T;else if(y<255){const D=255-y;A[u-3]=A[u-3]*y+v*D>>8,A[u-2]=A[u-2]*y+_*D>>8,A[u-1]=A[u-1]*y+T*D>>8}}}function K(A,v,_){const T=A.length;for(let u=3;u<T;u+=4)v[u]=v[u]*(_?_[A[u]]:A[u])*.00392156862745098|0}function ee(A,v,_){const T=A.length;for(let N=3;N<T;N+=4){const u=77*A[N-3]+152*A[N-2]+28*A[N-1];v[N]=_?v[N]*_[u>>8]>>8:v[N]*u>>16}}function xe(A,v){const _=m.Util.singularValueDecompose2dScale(A);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const T=Math.fround((globalThis.devicePixelRatio||1)*S.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==v?v:_[0]<=T||_[1]<=T}const ve=["butt","round","square"],be=["miter","round","bevel"],_e={},de={};class W{constructor(v,_,T,N,u,{optionalContentConfig:y,markedContentStack:D=null},R,P){this.ctx=v,this.current=new Y(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=T,this.canvasFactory=N,this.filterFactory=u,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=D||[],this.optionalContentConfig=y,this.cachedCanvases=new F(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=R,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=P,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(v,_=null){return"string"==typeof v?v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v):_}beginDrawing({transform:v,viewport:_,transparency:T=!1,background:N=null}){const u=this.ctx.canvas.width,y=this.ctx.canvas.height,D=this.ctx.fillStyle;if(this.ctx.fillStyle=N||"#ffffff",this.ctx.fillRect(0,0,u,y),this.ctx.fillStyle=D,T){const R=this.cachedCanvases.getCanvas("transparent",u,y);this.compositeCtx=this.ctx,this.transparentCanvas=R.canvas,this.ctx=R.context,this.ctx.save(),this.ctx.transform(...(0,S.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),$(this.ctx),v&&(this.ctx.transform(...v),this.outputScaleX=v[0],this.outputScaleY=v[0]),this.ctx.transform(..._.transform),this.viewportScale=_.scale,this.baseTransform=(0,S.getCurrentTransform)(this.ctx)}executeOperatorList(v,_,T,N){const u=v.argsArray,y=v.fnArray;let D=_||0;const R=u.length;if(R===D)return D;const P=R-D>10&&"function"==typeof T,B=P?Date.now()+15:0;let G=0;const q=this.commonObjs,le=this.objs;let te;for(;;){if(void 0!==N&&D===N.nextBreakPoint)return N.breakIt(D,T),D;if(te=y[D],te!==m.OPS.dependency)this[te].apply(this,u[D]);else for(const ae of u[D]){const ye=ae.startsWith("g_")?q:le;if(!ye.has(ae))return ye.get(ae,T),D}if(D++,D===R)return D;if(P&&++G>10){if(Date.now()>B)return T(),D;G=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const v of this._cachedBitmapsMap.values()){for(const _ of v.values())typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);v.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const v=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==v){const _=this.ctx.filter;this.ctx.filter=v,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_}}}_scaleImage(v,_){const T=v.width,N=v.height;let B,G,u=Math.max(Math.hypot(_[0],_[1]),1),y=Math.max(Math.hypot(_[2],_[3]),1),D=T,R=N,P="prescale1";for(;u>2&&D>1||y>2&&R>1;){let q=D,le=R;u>2&&D>1&&(q=D>=16384?Math.floor(D/2)-1||1:Math.ceil(D/2),u/=D/q),y>2&&R>1&&(le=R>=16384?Math.floor(R/2)-1||1:Math.ceil(R)/2,y/=R/le),B=this.cachedCanvases.getCanvas(P,q,le),G=B.context,G.clearRect(0,0,q,le),G.drawImage(v,0,0,D,R,0,0,q,le),v=B.canvas,D=q,R=le,P="prescale1"===P?"prescale2":"prescale1"}return{img:v,paintWidth:D,paintHeight:R}}_createMaskCanvas(v){const _=this.ctx,{width:T,height:N}=v,u=this.current.fillColor,y=this.current.patternFill,D=(0,S.getCurrentTransform)(_);let R,P,B,G;if((v.bitmap||v.data)&&v.count>1){const Qe=v.bitmap||v.data.buffer;P=JSON.stringify(y?D:[D.slice(0,4),u]),R=this._cachedBitmapsMap.get(Qe),R||(R=new Map,this._cachedBitmapsMap.set(Qe,R));const Ze=R.get(P);if(Ze&&!y)return{canvas:Ze,offsetX:Math.round(Math.min(D[0],D[2])+D[4]),offsetY:Math.round(Math.min(D[1],D[3])+D[5])};B=Ze}B||(G=this.cachedCanvases.getCanvas("maskCanvas",T,N),b(G.context,v));let q=m.Util.transform(D,[1/T,0,0,-1/N,0,0]);q=m.Util.transform(q,[1,0,0,1,0,-N]);const le=m.Util.applyTransform([0,0],q),te=m.Util.applyTransform([T,N],q),ae=m.Util.normalizeRect([le[0],le[1],te[0],te[1]]),ye=Math.round(ae[2]-ae[0])||1,he=Math.round(ae[3]-ae[1])||1,Ee=this.cachedCanvases.getCanvas("fillCanvas",ye,he),we=Ee.context,Ce=Math.min(le[0],te[0]),ke=Math.min(le[1],te[1]);we.translate(-Ce,-ke),we.transform(...q),B||(B=this._scaleImage(G.canvas,(0,S.getCurrentTransformInverse)(we)),B=B.img,R&&y&&R.set(P,B)),we.imageSmoothingEnabled=xe((0,S.getCurrentTransform)(we),v.interpolate),k(we,B,0,0,B.width,B.height,0,0,T,N),we.globalCompositeOperation="source-in";const Xe=m.Util.transform((0,S.getCurrentTransformInverse)(we),[1,0,0,1,-Ce,-ke]);return we.fillStyle=y?u.getPattern(_,this,Xe,z.PathType.FILL):u,we.fillRect(0,0,T,N),R&&!y&&(this.cachedCanvases.delete("fillCanvas"),R.set(P,Ee.canvas)),{canvas:Ee.canvas,offsetX:Math.round(Ce),offsetY:Math.round(ke)}}setLineWidth(v){v!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=v,this.ctx.lineWidth=v}setLineCap(v){this.ctx.lineCap=ve[v]}setLineJoin(v){this.ctx.lineJoin=be[v]}setMiterLimit(v){this.ctx.miterLimit=v}setDash(v,_){const T=this.ctx;void 0!==T.setLineDash&&(T.setLineDash(v),T.lineDashOffset=_)}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(const[_,T]of v)switch(_){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T[0],T[1]);break;case"CA":this.current.strokeAlpha=T;break;case"ca":this.current.fillAlpha=T,this.ctx.globalAlpha=T;break;case"BM":this.ctx.globalCompositeOperation=T;break;case"SMask":this.current.activeSMask=T?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(T)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const v=this.inSMaskMode;this.current.activeSMask&&!v?this.beginSMaskMode():!this.current.activeSMask&&v&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const N=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=N.context;const u=this.ctx;u.setTransform(...(0,S.getCurrentTransform)(this.suspendedCtx)),w(this.suspendedCtx,u),function O(A,v){if(A._removeMirroring)throw new Error("Context is already forwarding operations.");A.__originalSave=A.save,A.__originalRestore=A.restore,A.__originalRotate=A.rotate,A.__originalScale=A.scale,A.__originalTranslate=A.translate,A.__originalTransform=A.transform,A.__originalSetTransform=A.setTransform,A.__originalResetTransform=A.resetTransform,A.__originalClip=A.clip,A.__originalMoveTo=A.moveTo,A.__originalLineTo=A.lineTo,A.__originalBezierCurveTo=A.bezierCurveTo,A.__originalRect=A.rect,A.__originalClosePath=A.closePath,A.__originalBeginPath=A.beginPath,A._removeMirroring=()=>{A.save=A.__originalSave,A.restore=A.__originalRestore,A.rotate=A.__originalRotate,A.scale=A.__originalScale,A.translate=A.__originalTranslate,A.transform=A.__originalTransform,A.setTransform=A.__originalSetTransform,A.resetTransform=A.__originalResetTransform,A.clip=A.__originalClip,A.moveTo=A.__originalMoveTo,A.lineTo=A.__originalLineTo,A.bezierCurveTo=A.__originalBezierCurveTo,A.rect=A.__originalRect,A.closePath=A.__originalClosePath,A.beginPath=A.__originalBeginPath,delete A._removeMirroring},A.save=function(){v.save(),this.__originalSave()},A.restore=function(){v.restore(),this.__originalRestore()},A.translate=function(T,N){v.translate(T,N),this.__originalTranslate(T,N)},A.scale=function(T,N){v.scale(T,N),this.__originalScale(T,N)},A.transform=function(T,N,u,y,D,R){v.transform(T,N,u,y,D,R),this.__originalTransform(T,N,u,y,D,R)},A.setTransform=function(T,N,u,y,D,R){v.setTransform(T,N,u,y,D,R),this.__originalSetTransform(T,N,u,y,D,R)},A.resetTransform=function(){v.resetTransform(),this.__originalResetTransform()},A.rotate=function(T){v.rotate(T),this.__originalRotate(T)},A.clip=function(T){v.clip(T),this.__originalClip(T)},A.moveTo=function(_,T){v.moveTo(_,T),this.__originalMoveTo(_,T)},A.lineTo=function(_,T){v.lineTo(_,T),this.__originalLineTo(_,T)},A.bezierCurveTo=function(_,T,N,u,y,D){v.bezierCurveTo(_,T,N,u,y,D),this.__originalBezierCurveTo(_,T,N,u,y,D)},A.rect=function(_,T,N,u){v.rect(_,T,N,u),this.__originalRect(_,T,N,u)},A.closePath=function(){v.closePath(),this.__originalClosePath()},A.beginPath=function(){v.beginPath(),this.__originalBeginPath()}}(u,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),w(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(v){this.current.activeSMask&&(v?(v[0]=Math.floor(v[0]),v[1]=Math.floor(v[1]),v[2]=Math.ceil(v[2]),v[3]=Math.ceil(v[3])):v=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function fe(A,v,_,T){const N=T[0],u=T[1],y=T[2]-N,D=T[3]-u;0===y||0===D||(function oe(A,v,_,T,N,u,y,D,R,P,B){const G=!!u,q=G?u[0]:0,le=G?u[1]:0,te=G?u[2]:0;let ae;ae="Luminosity"===N?ee:K;const he=Math.min(T,Math.ceil(1048576/_));for(let Ee=0;Ee<T;Ee+=he){const we=Math.min(he,T-Ee),Ce=A.getImageData(D-P,Ee+(R-B),_,we),ke=v.getImageData(D,Ee+R,_,we);G&&J(Ce.data,q,le,te),ae(Ce.data,ke.data,y),v.putImageData(ke,D,Ee+R)}}(v.context,_,y,D,v.subtype,v.backdrop,v.transferMap,N,u,v.offsetX,v.offsetY),A.save(),A.globalAlpha=1,A.globalCompositeOperation="source-over",A.setTransform(1,0,0,1,0,0),A.drawImage(_.canvas,0,0),A.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,v),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(w(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const v=this.current;this.stateStack.push(v),this.current=v.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),w(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(v,_,T,N,u,y){this.ctx.transform(v,_,T,N,u,y),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(v,_,T){const N=this.ctx,u=this.current;let R,P,y=u.x,D=u.y;const B=(0,S.getCurrentTransform)(N),G=0===B[0]&&0===B[3]||0===B[1]&&0===B[2],q=G?T.slice(0):null;for(let le=0,te=0,ae=v.length;le<ae;le++)switch(0|v[le]){case m.OPS.rectangle:y=_[te++],D=_[te++];const ye=_[te++],he=_[te++],Ee=y+ye,we=D+he;N.moveTo(y,D),0===ye||0===he?N.lineTo(Ee,we):(N.lineTo(Ee,D),N.lineTo(Ee,we),N.lineTo(y,we)),G||u.updateRectMinMax(B,[y,D,Ee,we]),N.closePath();break;case m.OPS.moveTo:y=_[te++],D=_[te++],N.moveTo(y,D),G||u.updatePathMinMax(B,y,D);break;case m.OPS.lineTo:y=_[te++],D=_[te++],N.lineTo(y,D),G||u.updatePathMinMax(B,y,D);break;case m.OPS.curveTo:R=y,P=D,y=_[te+4],D=_[te+5],N.bezierCurveTo(_[te],_[te+1],_[te+2],_[te+3],y,D),u.updateCurvePathMinMax(B,R,P,_[te],_[te+1],_[te+2],_[te+3],y,D,q),te+=6;break;case m.OPS.curveTo2:R=y,P=D,N.bezierCurveTo(y,D,_[te],_[te+1],_[te+2],_[te+3]),u.updateCurvePathMinMax(B,R,P,y,D,_[te],_[te+1],_[te+2],_[te+3],q),y=_[te+2],D=_[te+3],te+=4;break;case m.OPS.curveTo3:R=y,P=D,y=_[te+2],D=_[te+3],N.bezierCurveTo(_[te],_[te+1],y,D,y,D),u.updateCurvePathMinMax(B,R,P,_[te],_[te+1],y,D,y,D,q),te+=4;break;case m.OPS.closePath:N.closePath()}G&&u.updateScalingPathMinMax(B,q),u.setCurrentPoint(y,D)}closePath(){this.ctx.closePath()}stroke(v=!0){const _=this.ctx,T=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof T&&T?.getPattern?(_.save(),_.strokeStyle=T.getPattern(_,this,(0,S.getCurrentTransformInverse)(_),z.PathType.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),v&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(v=!0){const _=this.ctx,T=this.current.fillColor;let u=!1;this.current.patternFill&&(_.save(),_.fillStyle=T.getPattern(_,this,(0,S.getCurrentTransformInverse)(_),z.PathType.FILL),u=!0);const y=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==y&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),u&&_.restore(),v&&this.consumePath(y)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=_e}eoClip(){this.pendingClip=de}beginText(){this.current.textMatrix=m.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const v=this.pendingTextPaths,_=this.ctx;if(void 0!==v){_.save(),_.beginPath();for(const T of v)_.setTransform(...T.transform),_.translate(T.x,T.y),T.addToPath(_,T.fontSize);_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}else _.beginPath()}setCharSpacing(v){this.current.charSpacing=v}setWordSpacing(v){this.current.wordSpacing=v}setHScale(v){this.current.textHScale=v/100}setLeading(v){this.current.leading=-v}setFont(v,_){const T=this.commonObjs.get(v),N=this.current;if(!T)throw new Error(`Can't find font for ${v}`);if(N.fontMatrix=T.fontMatrix||m.FONT_IDENTITY_MATRIX,(0===N.fontMatrix[0]||0===N.fontMatrix[3])&&(0,m.warn)("Invalid font matrix for font "+v),_<0?(_=-_,N.fontDirection=-1):N.fontDirection=1,this.current.font=T,this.current.fontSize=_,T.isType3Font)return;const u=T.loadedName||"sans-serif",y=T.systemFontInfo?.css||`"${u}", ${T.fallbackName}`;let D="normal";T.black?D="900":T.bold&&(D="bold");const R=T.italic?"italic":"normal";let P=_;_<16?P=16:_>100&&(P=100),this.current.fontSizeScale=_/P,this.ctx.font=`${R} ${D} ${P}px ${y}`}setTextRenderingMode(v){this.current.textRenderingMode=v}setTextRise(v){this.current.textRise=v}moveText(v,_){this.current.x=this.current.lineX+=v,this.current.y=this.current.lineY+=_}setLeadingMoveText(v,_){this.setLeading(-_),this.moveText(v,_)}setTextMatrix(v,_,T,N,u,y){this.current.textMatrix=[v,_,T,N,u,y],this.current.textMatrixScale=Math.hypot(v,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(v,_,T,N){const u=this.ctx,y=this.current,D=y.font,R=y.textRenderingMode,P=y.fontSize/y.fontSizeScale,B=R&m.TextRenderingMode.FILL_STROKE_MASK,G=!!(R&m.TextRenderingMode.ADD_TO_PATH_FLAG),q=y.patternFill&&!D.missingFile;let le;(D.disableFontFace||G||q)&&(le=D.getPathGenerator(this.commonObjs,v)),D.disableFontFace||q?(u.save(),u.translate(_,T),u.beginPath(),le(u,P),N&&u.setTransform(...N),(B===m.TextRenderingMode.FILL||B===m.TextRenderingMode.FILL_STROKE)&&u.fill(),(B===m.TextRenderingMode.STROKE||B===m.TextRenderingMode.FILL_STROKE)&&u.stroke(),u.restore()):((B===m.TextRenderingMode.FILL||B===m.TextRenderingMode.FILL_STROKE)&&u.fillText(v,_,T),(B===m.TextRenderingMode.STROKE||B===m.TextRenderingMode.FILL_STROKE)&&u.strokeText(v,_,T)),G&&(this.pendingTextPaths||=[]).push({transform:(0,S.getCurrentTransform)(u),x:_,y:T,fontSize:P,addToPath:le})}get isFontSubpixelAAEnabled(){const{context:v}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);v.scale(1.5,1),v.fillText("I",0,10);const _=v.getImageData(0,0,10,10).data;let T=!1;for(let N=3;N<_.length;N+=4)if(_[N]>0&&_[N]<255){T=!0;break}return(0,m.shadow)(this,"isFontSubpixelAAEnabled",T)}showText(v){const _=this.current,T=_.font;if(T.isType3Font)return this.showType3Text(v);const N=_.fontSize;if(0===N)return;const u=this.ctx,y=_.fontSizeScale,D=_.charSpacing,R=_.wordSpacing,P=_.fontDirection,B=_.textHScale*P,G=v.length,q=T.vertical,le=q?1:-1,te=T.defaultVMetrics,ae=N*_.fontMatrix[0],ye=_.textRenderingMode===m.TextRenderingMode.FILL&&!T.disableFontFace&&!_.patternFill;let he;if(u.save(),u.transform(..._.textMatrix),u.translate(_.x,_.y+_.textRise),u.scale(B,P>0?-1:1),_.patternFill){u.save();const Xe=_.fillColor.getPattern(u,this,(0,S.getCurrentTransformInverse)(u),z.PathType.FILL);he=(0,S.getCurrentTransform)(u),u.restore(),u.fillStyle=Xe}let Ee=_.lineWidth;const we=_.textMatrixScale;if(0===we||0===Ee){const Xe=_.textRenderingMode&m.TextRenderingMode.FILL_STROKE_MASK;(Xe===m.TextRenderingMode.STROKE||Xe===m.TextRenderingMode.FILL_STROKE)&&(Ee=this.getSinglePixelWidth())}else Ee/=we;if(1!==y&&(u.scale(y,y),Ee/=y),u.lineWidth=Ee,T.isInvalidPDFjsFont){const Xe=[];let Qe=0;for(const Ze of v)Xe.push(Ze.unicode),Qe+=Ze.width;return u.fillText(Xe.join(""),0,0),_.x+=Qe*ae*B,u.restore(),void this.compose()}let ke,Ce=0;for(ke=0;ke<G;++ke){const Xe=v[ke];if("number"==typeof Xe){Ce+=le*Xe*N/1e3;continue}let Qe=!1;const Ze=(Xe.isSpace?R:0)+D,Bt=Xe.fontChar,Mt=Xe.accent;let ft,xn,Yr,Yt=Xe.width;if(q){const Kt=Xe.vmetric||te,En=-(Xe.vmetric?Kt[1]:.5*Yt)*ae;Yt=Kt?-Kt[0]:Yt,ft=En/y,xn=(Ce+Kt[2]*ae)/y}else ft=Ce/y,xn=0;if(T.remeasure&&Yt>0){const Kt=1e3*u.measureText(Bt).width/N*y;if(Yt<Kt&&this.isFontSubpixelAAEnabled){const En=Yt/Kt;Qe=!0,u.save(),u.scale(En,1),ft/=En}else Yt!==Kt&&(ft+=(Yt-Kt)/2e3*N/y)}this.contentVisible&&(Xe.isInFont||T.missingFile)&&(ye&&!Mt?u.fillText(Bt,ft,xn):(this.paintChar(Bt,ft,xn,he),Mt&&this.paintChar(Mt.fontChar,ft+N*Mt.offset.x/y,xn-N*Mt.offset.y/y,he))),Yr=q?Yt*ae-Ze*P:Yt*ae+Ze*P,Ce+=Yr,Qe&&u.restore()}q?_.y-=Ce:_.x+=Ce*B,u.restore(),this.compose()}showType3Text(v){const _=this.ctx,T=this.current,N=T.font,u=T.fontSize,y=T.fontDirection,D=N.vertical?1:-1,R=T.charSpacing,P=T.wordSpacing,B=T.textHScale*y,G=T.fontMatrix||m.FONT_IDENTITY_MATRIX,q=v.length;let te,ae,ye,he;if(T.textRenderingMode!==m.TextRenderingMode.INVISIBLE&&0!==u){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_.save(),_.transform(...T.textMatrix),_.translate(T.x,T.y),_.scale(B,y),te=0;te<q;++te){if(ae=v[te],"number"==typeof ae){he=D*ae*u/1e3,this.ctx.translate(he,0),T.x+=he*B;continue}const Ee=(ae.isSpace?P:0)+R,we=N.charProcOperatorList[ae.operatorListId];we?(this.contentVisible&&(this.processingType3=ae,this.save(),_.scale(u,u),_.transform(...G),this.executeOperatorList(we),this.restore()),ye=m.Util.applyTransform([ae.width,0],G)[0]*u+Ee,_.translate(ye,0),T.x+=ye*B):(0,m.warn)(`Type3 character "${ae.operatorListId}" is not available.`)}_.restore(),this.processingType3=null}}setCharWidth(v,_){}setCharWidthAndBounds(v,_,T,N,u,y){this.ctx.rect(T,N,u-T,y-N),this.ctx.clip(),this.endPath()}getColorN_Pattern(v){let _;if("TilingPattern"===v[0]){const T=v[1],N=this.baseTransform||(0,S.getCurrentTransform)(this.ctx);_=new z.TilingPattern(v,T,this.ctx,{createCanvasGraphics:y=>new W(y,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})},N)}else _=this._getPattern(v[1],v[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(v,_,T){const N=m.Util.makeHexColor(v,_,T);this.ctx.strokeStyle=N,this.current.strokeColor=N}setFillRGBColor(v,_,T){const N=m.Util.makeHexColor(v,_,T);this.ctx.fillStyle=N,this.current.fillColor=N,this.current.patternFill=!1}_getPattern(v,_=null){let T;return this.cachedPatterns.has(v)?T=this.cachedPatterns.get(v):(T=(0,z.getShadingPattern)(this.getObject(v)),this.cachedPatterns.set(v,T)),_&&(T.matrix=_),T}shadingFill(v){if(!this.contentVisible)return;const _=this.ctx;this.save();const T=this._getPattern(v);_.fillStyle=T.getPattern(_,this,(0,S.getCurrentTransformInverse)(_),z.PathType.SHADING);const N=(0,S.getCurrentTransformInverse)(_);if(N){const u=_.canvas,y=u.width,D=u.height,R=m.Util.applyTransform([0,0],N),P=m.Util.applyTransform([0,D],N),B=m.Util.applyTransform([y,0],N),G=m.Util.applyTransform([y,D],N),q=Math.min(R[0],P[0],B[0],G[0]),le=Math.min(R[1],P[1],B[1],G[1]),te=Math.max(R[0],P[0],B[0],G[0]),ae=Math.max(R[1],P[1],B[1],G[1]);this.ctx.fillRect(q,le,te-q,ae-le)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,m.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,m.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(v,_){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(v)&&6===v.length&&this.transform(...v),this.baseTransform=(0,S.getCurrentTransform)(this.ctx),_)&&(this.ctx.rect(_[0],_[1],_[2]-_[0],_[3]-_[1]),this.current.updateRectMinMax((0,S.getCurrentTransform)(this.ctx),_),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(v){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;v.isolated||(0,m.info)("TODO: Support non-isolated groups."),v.knockout&&(0,m.warn)("Knockout groups not supported.");const T=(0,S.getCurrentTransform)(_);if(v.matrix&&_.transform(...v.matrix),!v.bbox)throw new Error("Bounding box is required.");let N=m.Util.getAxialAlignedBoundingBox(v.bbox,(0,S.getCurrentTransform)(_));N=m.Util.intersect(N,[0,0,_.canvas.width,_.canvas.height])||[0,0,0,0];const y=Math.floor(N[0]),D=Math.floor(N[1]);let R=Math.max(Math.ceil(N[2])-y,1),P=Math.max(Math.ceil(N[3])-D,1),B=1,G=1;R>h&&(B=R/h,R=h),P>h&&(G=P/h,P=h),this.current.startNewPathAndClipBox([0,0,R,P]);let q="groupAt"+this.groupLevel;v.smask&&(q+="_smask_"+this.smaskCounter++%2);const le=this.cachedCanvases.getCanvas(q,R,P),te=le.context;te.scale(1/B,1/G),te.translate(-y,-D),te.transform(...T),v.smask?this.smaskStack.push({canvas:le.canvas,context:te,offsetX:y,offsetY:D,scaleX:B,scaleY:G,subtype:v.smask.subtype,backdrop:v.smask.backdrop,transferMap:v.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(y,D),_.scale(B,G),_.save()),w(_,te),this.ctx=te,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(v){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,T=this.groupStack.pop();if(this.ctx=T,this.ctx.imageSmoothingEnabled=!1,v.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const N=(0,S.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...N);const u=m.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],N);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(u)}}beginAnnotation(v,_,T,N,u){if(this.#e(),$(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_)&&4===_.length){const y=_[2]-_[0],D=_[3]-_[1];if(u&&this.annotationCanvasMap){(T=T.slice())[4]-=_[0],T[5]-=_[1],(_=_.slice())[0]=_[1]=0,_[2]=y,_[3]=D;const[R,P]=m.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(this.ctx)),{viewportScale:B}=this,G=Math.ceil(y*this.outputScaleX*B),q=Math.ceil(D*this.outputScaleY*B);this.annotationCanvas=this.canvasFactory.create(G,q);const{canvas:le,context:te}=this.annotationCanvas;this.annotationCanvasMap.set(v,le),this.annotationCanvas.savedCtx=this.ctx,this.ctx=te,this.ctx.save(),this.ctx.setTransform(R,0,0,-P,0,D*P),$(this.ctx)}else $(this.ctx),this.ctx.rect(_[0],_[1],y,D),this.ctx.clip(),this.endPath()}this.current=new Y(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...T),this.transform(...N)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(v){if(!this.contentVisible)return;const _=v.count;(v=this.getObject(v.data,v)).count=_;const T=this.ctx,N=this.processingType3;if(N&&(void 0===N.compiled&&(N.compiled=function V(A){const{width:v,height:_}=A;if(v>1e3||_>1e3)return null;const N=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=v+1;let D,R,P,y=new Uint8Array(u*(_+1));const B=v+7&-8;let G=new Uint8Array(B*_),q=0;for(const he of A.data){let Ee=128;for(;Ee>0;)G[q++]=he&Ee?0:255,Ee>>=1}let le=0;for(q=0,0!==G[q]&&(y[0]=1,++le),R=1;R<v;R++)G[q]!==G[q+1]&&(y[R]=G[q]?2:1,++le),q++;for(0!==G[q]&&(y[R]=2,++le),D=1;D<_;D++){q=D*B,P=D*u,G[q-B]!==G[q]&&(y[P]=G[q]?1:8,++le);let he=(G[q]?4:0)+(G[q-B]?8:0);for(R=1;R<v;R++)he=(he>>2)+(G[q+1]?4:0)+(G[q-B+1]?8:0),N[he]&&(y[P+R]=N[he],++le),q++;if(G[q-B]!==G[q]&&(y[P+R]=G[q]?2:4,++le),le>1e3)return null}for(q=B*(_-1),P=D*u,0!==G[q]&&(y[P]=8,++le),R=1;R<v;R++)G[q]!==G[q+1]&&(y[P+R]=G[q]?4:8,++le),q++;if(0!==G[q]&&(y[P+R]=4,++le),le>1e3)return null;const te=new Int32Array([0,u,-1,0,-u,0,0,0,1]),ae=new Path2D;for(D=0;le&&D<=_;D++){let he=D*u;const Ee=he+v;for(;he<Ee&&!y[he];)he++;if(he===Ee)continue;ae.moveTo(he%u,D);const we=he;let Ce=y[he];do{const ke=te[Ce];do{he+=ke}while(!y[he]);const Xe=y[he];5!==Xe&&10!==Xe?(Ce=Xe,y[he]=0):(Ce=Xe&51*Ce>>4,y[he]&=Ce>>2|Ce<<2),ae.lineTo(he%u,he/u|0),y[he]||--le}while(we!==he);--D}return G=null,y=null,function(he){he.save(),he.scale(1/v,-1/_),he.translate(0,-_),he.fill(ae),he.beginPath(),he.restore()}}(v)),N.compiled))return void N.compiled(T);const u=this._createMaskCanvas(v),y=u.canvas;T.save(),T.setTransform(1,0,0,1,0,0),T.drawImage(y,u.offsetX,u.offsetY),T.restore(),this.compose()}paintImageMaskXObjectRepeat(v,_,T=0,N=0,u,y){if(!this.contentVisible)return;v=this.getObject(v.data,v);const D=this.ctx;D.save();const R=(0,S.getCurrentTransform)(D);D.transform(_,T,N,u,0,0);const P=this._createMaskCanvas(v);D.setTransform(1,0,0,1,P.offsetX-R[4],P.offsetY-R[5]);for(let B=0,G=y.length;B<G;B+=2){const q=m.Util.transform(R,[_,T,N,u,y[B],y[B+1]]),[le,te]=m.Util.applyTransform([0,0],q);D.drawImage(P.canvas,le,te)}D.restore(),this.compose()}paintImageMaskXObjectGroup(v){if(!this.contentVisible)return;const _=this.ctx,T=this.current.fillColor,N=this.current.patternFill;for(const u of v){const{data:y,width:D,height:R,transform:P}=u,B=this.cachedCanvases.getCanvas("maskCanvas",D,R),G=B.context;G.save(),b(G,this.getObject(y,u)),G.globalCompositeOperation="source-in",G.fillStyle=N?T.getPattern(G,this,(0,S.getCurrentTransformInverse)(_),z.PathType.FILL):T,G.fillRect(0,0,D,R),G.restore(),_.save(),_.transform(...P),_.scale(1,-1),k(_,B.canvas,0,0,D,R,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(v){if(!this.contentVisible)return;const _=this.getObject(v);_?this.paintInlineImageXObject(_):(0,m.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(v,_,T,N){if(!this.contentVisible)return;const u=this.getObject(v);if(!u)return void(0,m.warn)("Dependent image isn't ready yet");const y=u.width,D=u.height,R=[];for(let P=0,B=N.length;P<B;P+=2)R.push({transform:[_,0,0,T,N[P],N[P+1]],x:0,y:0,w:y,h:D});this.paintInlineImageXObjectGroup(u,R)}applyTransferMapsToCanvas(v){return"none"!==this.current.transferMaps&&(v.filter=this.current.transferMaps,v.drawImage(v.canvas,0,0),v.filter="none"),v.canvas}applyTransferMapsToBitmap(v){if("none"===this.current.transferMaps)return v.bitmap;const{bitmap:_,width:T,height:N}=v,u=this.cachedCanvases.getCanvas("inlineImage",T,N),y=u.context;return y.filter=this.current.transferMaps,y.drawImage(_,0,0),y.filter="none",u.canvas}paintInlineImageXObject(v){if(!this.contentVisible)return;const _=v.width,T=v.height,N=this.ctx;let u;if(this.save(),Z.isNodeJS||(N.filter="none"),N.scale(1/_,-1/T),v.bitmap)u=this.applyTransferMapsToBitmap(v);else if("function"==typeof HTMLElement&&v instanceof HTMLElement||!v.data)u=v;else{const R=this.cachedCanvases.getCanvas("inlineImage",_,T).context;j(R,v),u=this.applyTransferMapsToCanvas(R)}const y=this._scaleImage(u,(0,S.getCurrentTransformInverse)(N));N.imageSmoothingEnabled=xe((0,S.getCurrentTransform)(N),v.interpolate),k(N,y.img,0,0,y.paintWidth,y.paintHeight,0,-T,_,T),this.compose(),this.restore()}paintInlineImageXObjectGroup(v,_){if(!this.contentVisible)return;const T=this.ctx;let N;if(v.bitmap)N=v.bitmap;else{const R=this.cachedCanvases.getCanvas("inlineImage",v.width,v.height).context;j(R,v),N=this.applyTransferMapsToCanvas(R)}for(const u of _)T.save(),T.transform(...u.transform),T.scale(1,-1),k(T,N,u.x,u.y,u.w,u.h,0,-1,1,1),T.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(v){}markPointProps(v,_){}beginMarkedContent(v){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(v,_){this.markedContentStack.push("OC"===v?{visible:this.optionalContentConfig.isVisible(_)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(v){const _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(v);const T=this.ctx;this.pendingClip&&(_||(this.pendingClip===de?T.clip("evenodd"):T.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),T.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const v=(0,S.getCurrentTransform)(this.ctx);if(0===v[1]&&0===v[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(v[0]),Math.abs(v[3]));else{const _=Math.abs(v[0]*v[3]-v[2]*v[1]),T=Math.hypot(v[0],v[2]),N=Math.hypot(v[1],v[3]);this._cachedGetSinglePixelWidth=Math.max(T,N)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:v}=this.current,{a:_,b:T,c:N,d:u}=this.ctx.getTransform();let y,D;if(0===T&&0===N){const R=Math.abs(_),P=Math.abs(u);if(R===P)if(0===v)y=D=1/R;else{const B=R*v;y=D=B<1?1/B:1}else if(0===v)y=1/R,D=1/P;else{const B=R*v,G=P*v;y=B<1?1/B:1,D=G<1?1/G:1}}else{const R=Math.abs(_*u-T*N),P=Math.hypot(_,T),B=Math.hypot(N,u);if(0===v)y=B/R,D=P/R;else{const G=v*R;y=B>G?B/G:1,D=P>G?P/G:1}}this._cachedScaleForStroking[0]=y,this._cachedScaleForStroking[1]=D}return this._cachedScaleForStroking}rescaleAndStroke(v){const{ctx:_}=this,{lineWidth:T}=this.current,[N,u]=this.getScaleForStroking();if(_.lineWidth=T||1,1===N&&1===u)return void _.stroke();const y=_.getLineDash();if(v&&_.save(),_.scale(N,u),y.length>0){const D=Math.max(N,u);_.setLineDash(y.map(R=>R/D)),_.lineDashOffset/=D}_.stroke(),v&&_.restore()}isContentVisible(){for(let v=this.markedContentStack.length-1;v>=0;v--)if(!this.markedContentStack[v].visible)return!1;return!0}}d.CanvasGraphics=W;for(const A in m.OPS)void 0!==W.prototype[A]&&(W.prototype[m.OPS[A]]=W.prototype[A])},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TilingPattern=d.PathType=void 0,d.getShadingPattern=function p(F){switch(F[0]){case"RadialAxial":return new x(F);case"Mesh":return new f(F);case"Dummy":return new I}throw new Error(`Unknown IR type: ${F[0]}`)};var m=H(1),S=H(6);const z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function U(F,k){if(!k)return;const V=k[2]-k[0],Y=k[3]-k[1],j=new Path2D;j.rect(k[0],k[1],V,Y),F.clip(j)}d.PathType=z;class Z{constructor(){this.constructor===Z&&(0,m.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,m.unreachable)("Abstract method `getPattern` called.")}}class x extends Z{constructor(k){super(),this._type=k[1],this._bbox=k[2],this._colorStops=k[3],this._p0=k[4],this._p1=k[5],this._r0=k[6],this._r1=k[7],this.matrix=null}_createGradient(k){let V;"axial"===this._type?V=k.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(V=k.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Y of this._colorStops)V.addColorStop(Y[0],Y[1]);return V}getPattern(k,V,Y,j){let b;if(j===z.STROKE||j===z.FILL){const w=V.current.getClippedPathBoundingBox(j,(0,S.getCurrentTransform)(k))||[0,0,0,0],$=Math.ceil(w[2]-w[0])||1,J=Math.ceil(w[3]-w[1])||1,K=V.cachedCanvases.getCanvas("pattern",$,J,!0),ee=K.context;ee.clearRect(0,0,ee.canvas.width,ee.canvas.height),ee.beginPath(),ee.rect(0,0,ee.canvas.width,ee.canvas.height),ee.translate(-w[0],-w[1]),Y=m.Util.transform(Y,[1,0,0,1,w[0],w[1]]),ee.transform(...V.baseTransform),this.matrix&&ee.transform(...this.matrix),U(ee,this._bbox),ee.fillStyle=this._createGradient(ee),ee.fill(),b=k.createPattern(K.canvas,"no-repeat");const oe=new DOMMatrix(Y);b.setTransform(oe)}else U(k,this._bbox),b=this._createGradient(k);return b}}function E(F,k,V,Y,j,b,w,$){const J=k.coords,K=k.colors,ee=F.data,oe=4*F.width;let fe;J[V+1]>J[Y+1]&&(fe=V,V=Y,Y=fe,fe=b,b=w,w=fe),J[Y+1]>J[j+1]&&(fe=Y,Y=j,j=fe,fe=w,w=$,$=fe),J[V+1]>J[Y+1]&&(fe=V,V=Y,Y=fe,fe=b,b=w,w=fe);const xe=(J[V]+k.offsetX)*k.scaleX,ve=(J[V+1]+k.offsetY)*k.scaleY,be=(J[Y]+k.offsetX)*k.scaleX,_e=(J[Y+1]+k.offsetY)*k.scaleY,de=(J[j]+k.offsetX)*k.scaleX,W=(J[j+1]+k.offsetY)*k.scaleY;if(ve>=W)return;const A=K[b],v=K[b+1],_=K[b+2],T=K[w],N=K[w+1],u=K[w+2],y=K[$],D=K[$+1],R=K[$+2],P=Math.round(ve),B=Math.round(W);let G,q,le,te,ae,ye,he,Ee;for(let we=P;we<=B;we++){if(we<_e){let Ze;Ze=we<ve?0:(ve-we)/(ve-_e),G=xe-(xe-be)*Ze,q=A-(A-T)*Ze,le=v-(v-N)*Ze,te=_-(_-u)*Ze}else{let Ze;Ze=we>W?1:_e===W?0:(_e-we)/(_e-W),G=be-(be-de)*Ze,q=T-(T-y)*Ze,le=N-(N-D)*Ze,te=u-(u-R)*Ze}let Ce;Ce=we<ve?0:we>W?1:(ve-we)/(ve-W),ae=xe-(xe-de)*Ce,ye=A-(A-y)*Ce,he=v-(v-D)*Ce,Ee=_-(_-R)*Ce;const ke=Math.round(Math.min(G,ae)),Xe=Math.round(Math.max(G,ae));let Qe=oe*we+4*ke;for(let Ze=ke;Ze<=Xe;Ze++)Ce=(G-Ze)/(G-ae),Ce<0?Ce=0:Ce>1&&(Ce=1),ee[Qe++]=q-(q-ye)*Ce|0,ee[Qe++]=le-(le-he)*Ce|0,ee[Qe++]=te-(te-Ee)*Ce|0,ee[Qe++]=255}}function h(F,k,V){const Y=k.coords,j=k.colors;let b,w;switch(k.type){case"lattice":const $=k.verticesPerRow,J=Math.floor(Y.length/$)-1,K=$-1;for(b=0;b<J;b++){let ee=b*$;for(let oe=0;oe<K;oe++,ee++)E(F,V,Y[ee],Y[ee+1],Y[ee+$],j[ee],j[ee+1],j[ee+$]),E(F,V,Y[ee+$+1],Y[ee+1],Y[ee+$],j[ee+$+1],j[ee+1],j[ee+$])}break;case"triangles":for(b=0,w=Y.length;b<w;b+=3)E(F,V,Y[b],Y[b+1],Y[b+2],j[b],j[b+1],j[b+2]);break;default:throw new Error("illegal figure")}}class f extends Z{constructor(k){super(),this._coords=k[2],this._colors=k[3],this._figures=k[4],this._bounds=k[5],this._bbox=k[7],this._background=k[8],this.matrix=null}_createMeshCanvas(k,V,Y){const $=Math.floor(this._bounds[0]),J=Math.floor(this._bounds[1]),K=Math.ceil(this._bounds[2])-$,ee=Math.ceil(this._bounds[3])-J,oe=Math.min(Math.ceil(Math.abs(K*k[0]*1.1)),3e3),fe=Math.min(Math.ceil(Math.abs(ee*k[1]*1.1)),3e3),xe=K/oe,ve=ee/fe,be={coords:this._coords,colors:this._colors,offsetX:-$,offsetY:-J,scaleX:1/xe,scaleY:1/ve},W=Y.getCanvas("mesh",oe+4,fe+4,!1),A=W.context,v=A.createImageData(oe,fe);if(V){const T=v.data;for(let N=0,u=T.length;N<u;N+=4)T[N]=V[0],T[N+1]=V[1],T[N+2]=V[2],T[N+3]=255}for(const T of this._figures)h(v,T,be);return A.putImageData(v,2,2),{canvas:W.canvas,offsetX:$-2*xe,offsetY:J-2*ve,scaleX:xe,scaleY:ve}}getPattern(k,V,Y,j){let b;if(U(k,this._bbox),j===z.SHADING)b=m.Util.singularValueDecompose2dScale((0,S.getCurrentTransform)(k));else if(b=m.Util.singularValueDecompose2dScale(V.baseTransform),this.matrix){const $=m.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*$[0],b[1]*$[1]]}const w=this._createMeshCanvas(b,j===z.SHADING?null:this._background,V.cachedCanvases);return j!==z.SHADING&&(k.setTransform(...V.baseTransform),this.matrix&&k.transform(...this.matrix)),k.translate(w.offsetX,w.offsetY),k.scale(w.scaleX,w.scaleY),k.createPattern(w.canvas,"no-repeat")}}class I extends Z{getPattern(){return"hotpink"}}d.TilingPattern=(()=>{class F{static MAX_PATTERN_SIZE=3e3;constructor(V,Y,j,b,w){this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=Y,this.ctx=j,this.canvasGraphicsFactory=b,this.baseTransform=w}createPatternCanvas(V){const Y=this.operatorList,j=this.bbox,b=this.xstep,w=this.ystep,$=this.paintType,K=this.color,ee=this.canvasGraphicsFactory;(0,m.info)("TilingType: "+this.tilingType);const oe=j[0],fe=j[1],xe=j[2],ve=j[3],be=m.Util.singularValueDecompose2dScale(this.matrix),_e=m.Util.singularValueDecompose2dScale(this.baseTransform),de=[be[0]*_e[0],be[1]*_e[1]],W=this.getSizeAndScale(b,this.ctx.canvas.width,de[0]),A=this.getSizeAndScale(w,this.ctx.canvas.height,de[1]),v=V.cachedCanvases.getCanvas("pattern",W.size,A.size,!0),_=v.context,T=ee.createCanvasGraphics(_);T.groupLevel=V.groupLevel,this.setFillAndStrokeStyleToContext(T,$,K);let N=oe,u=fe,y=xe,D=ve;return oe<0&&(N=0,y+=Math.abs(oe)),fe<0&&(u=0,D+=Math.abs(fe)),_.translate(-W.scale*N,-A.scale*u),T.transform(W.scale,0,0,A.scale,0,0),_.save(),this.clipBbox(T,N,u,y,D),T.baseTransform=(0,S.getCurrentTransform)(T.ctx),T.executeOperatorList(Y),T.endDrawing(),{canvas:v.canvas,scaleX:W.scale,scaleY:A.scale,offsetX:N,offsetY:u}}getSizeAndScale(V,Y,j){V=Math.abs(V);const b=Math.max(F.MAX_PATTERN_SIZE,Y);let w=Math.ceil(V*j);return w>=b?w=b:j=w/V,{scale:j,size:w}}clipBbox(V,Y,j,b,w){V.ctx.rect(Y,j,b-Y,w-j),V.current.updateRectMinMax((0,S.getCurrentTransform)(V.ctx),[Y,j,b,w]),V.clip(),V.endPath()}setFillAndStrokeStyleToContext(V,Y,j){const b=V.ctx,w=V.current;switch(Y){case 1:const $=this.ctx;b.fillStyle=$.fillStyle,b.strokeStyle=$.strokeStyle,w.fillColor=$.fillStyle,w.strokeColor=$.strokeStyle;break;case 2:const J=m.Util.makeHexColor(j[0],j[1],j[2]);b.fillStyle=J,b.strokeStyle=J,w.fillColor=J,w.strokeColor=J;break;default:throw new m.FormatError(`Unsupported paint type: ${Y}`)}}getPattern(V,Y,j,b){let w=j;b!==z.SHADING&&(w=m.Util.transform(w,Y.baseTransform),this.matrix&&(w=m.Util.transform(w,this.matrix)));const $=this.createPatternCanvas(Y);let J=new DOMMatrix(w);J=J.translate($.offsetX,$.offsetY),J=J.scale(1/$.scaleX,1/$.scaleY);const K=V.createPattern($.canvas,"repeat");return K.setTransform(J),K}}return F})()},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.convertBlackAndWhiteToRGBA=z,d.convertToRGBA=function S(x){switch(x.kind){case m.ImageKind.GRAYSCALE_1BPP:return z(x);case m.ImageKind.RGB_24BPP:return function U({src:x,srcPos:E=0,dest:h,destPos:f=0}){let M=0;const O=x.length>>2,F=new Uint32Array(x.buffer,E,O);if(m.FeatureTest.isLittleEndian){for(;M<O-2;M+=3,f+=4){const k=F[M],V=F[M+1],Y=F[M+2];h[f]=4278190080|k,h[f+1]=k>>>24|V<<8|4278190080,h[f+2]=V>>>16|Y<<16|4278190080,h[f+3]=Y>>>8|4278190080}for(let k=4*M,V=x.length;k<V;k+=3)h[f++]=x[k]|x[k+1]<<8|x[k+2]<<16|4278190080}else{for(;M<O-2;M+=3,f+=4){const k=F[M],V=F[M+1],Y=F[M+2];h[f]=255|k,h[f+1]=k<<24|V>>>8|255,h[f+2]=V<<16|Y>>>16|255,h[f+3]=Y<<8|255}for(let k=4*M,V=x.length;k<V;k+=3)h[f++]=x[k]<<24|x[k+1]<<16|x[k+2]<<8|255}return{srcPos:E,destPos:f}}(x)}return null},d.grayToRGBA=function Z(x,E){if(m.FeatureTest.isLittleEndian)for(let h=0,f=x.length;h<f;h++)E[h]=65793*x[h]|4278190080;else for(let h=0,f=x.length;h<f;h++)E[h]=16843008*x[h]|255};var m=H(1);function z({src:x,srcPos:E=0,dest:h,width:f,height:I,nonBlackColor:p=4294967295,inverseDecode:M=!1}){const O=m.FeatureTest.isLittleEndian?4278190080:255,[F,k]=M?[p,O]:[O,p],V=f>>3,Y=7&f,j=x.length;h=new Uint32Array(h.buffer);let b=0;for(let w=0;w<I;w++){for(const J=E+V;E<J;E++){const K=E<j?x[E]:255;h[b++]=128&K?k:F,h[b++]=64&K?k:F,h[b++]=32&K?k:F,h[b++]=16&K?k:F,h[b++]=8&K?k:F,h[b++]=4&K?k:F,h[b++]=2&K?k:F,h[b++]=1&K?k:F}if(0===Y)continue;const $=E<j?x[E++]:255;for(let J=0;J<Y;J++)h[b++]=$&1<<7-J?k:F}return{srcPos:E,destPos:b}}},(Q,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GlobalWorkerOptions=void 0;const H=Object.create(null);d.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MessageHandler=void 0;var m=H(1);function U(x){switch(x instanceof Error||"object"==typeof x&&null!==x||(0,m.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new m.AbortException(x.message);case"MissingPDFException":return new m.MissingPDFException(x.message);case"PasswordException":return new m.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new m.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new m.UnknownErrorException(x.message,x.details);default:return new m.UnknownErrorException(x.message,x.toString())}}d.MessageHandler=class Z{constructor(E,h,f){this.sourceName=E,this.targetName=h,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=I=>{const p=I.data;if(p.targetName!==this.sourceName)return;if(p.stream)return void this.#t(p);if(p.callback){const O=p.callbackId,F=this.callbackCapabilities[O];if(!F)throw new Error(`Cannot resolve callback ${O}`);if(delete this.callbackCapabilities[O],1===p.callback)F.resolve(p.data);else{if(2!==p.callback)throw new Error("Unexpected callback case");F.reject(U(p.reason))}return}const M=this.actionHandler[p.action];if(!M)throw new Error(`Unknown action from worker: ${p.action}`);if(p.callbackId){const O=this.sourceName,F=p.sourceName;new Promise(function(k){k(M(p.data))}).then(function(k){f.postMessage({sourceName:O,targetName:F,callback:1,callbackId:p.callbackId,data:k})},function(k){f.postMessage({sourceName:O,targetName:F,callback:2,callbackId:p.callbackId,reason:U(k)})})}else p.streamId?this.#e(p):M(p.data)},f.addEventListener("message",this._onComObjOnMessage)}on(E,h){const f=this.actionHandler;if(f[E])throw new Error(`There is already an actionName called "${E}"`);f[E]=h}send(E,h,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,data:h},f)}sendWithPromise(E,h,f){const I=this.callbackId++,p=new m.PromiseCapability;this.callbackCapabilities[I]=p;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:E,callbackId:I,data:h},f)}catch(M){p.reject(M)}return p.promise}sendWithStream(E,h,f,I){const p=this.streamId++,M=this.sourceName,O=this.targetName,F=this.comObj;return new ReadableStream({start:k=>{const V=new m.PromiseCapability;return this.streamControllers[p]={controller:k,startCall:V,pullCall:null,cancelCall:null,isClosed:!1},F.postMessage({sourceName:M,targetName:O,action:E,streamId:p,data:h,desiredSize:k.desiredSize},I),V.promise},pull:k=>{const V=new m.PromiseCapability;return this.streamControllers[p].pullCall=V,F.postMessage({sourceName:M,targetName:O,stream:6,streamId:p,desiredSize:k.desiredSize}),V.promise},cancel:k=>{(0,m.assert)(k instanceof Error,"cancel must have a valid reason");const V=new m.PromiseCapability;return this.streamControllers[p].cancelCall=V,this.streamControllers[p].isClosed=!0,F.postMessage({sourceName:M,targetName:O,stream:1,streamId:p,reason:U(k)}),V.promise}},f)}#e(E){const h=E.streamId,f=this.sourceName,I=E.sourceName,p=this.comObj,M=this,O=this.actionHandler[E.action],F={enqueue(k,V=1,Y){if(this.isCancelled)return;const j=this.desiredSize;this.desiredSize-=V,j>0&&this.desiredSize<=0&&(this.sinkCapability=new m.PromiseCapability,this.ready=this.sinkCapability.promise),p.postMessage({sourceName:f,targetName:I,stream:4,streamId:h,chunk:k},Y)},close(){this.isCancelled||(this.isCancelled=!0,p.postMessage({sourceName:f,targetName:I,stream:3,streamId:h}),delete M.streamSinks[h])},error(k){(0,m.assert)(k instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,p.postMessage({sourceName:f,targetName:I,stream:5,streamId:h,reason:U(k)}))},sinkCapability:new m.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:E.desiredSize,ready:null};F.sinkCapability.resolve(),F.ready=F.sinkCapability.promise,this.streamSinks[h]=F,new Promise(function(k){k(O(E.data,F))}).then(function(){p.postMessage({sourceName:f,targetName:I,stream:8,streamId:h,success:!0})},function(k){p.postMessage({sourceName:f,targetName:I,stream:8,streamId:h,reason:U(k)})})}#t(E){const h=E.streamId,f=this.sourceName,I=E.sourceName,p=this.comObj,M=this.streamControllers[h],O=this.streamSinks[h];switch(E.stream){case 8:E.success?M.startCall.resolve():M.startCall.reject(U(E.reason));break;case 7:E.success?M.pullCall.resolve():M.pullCall.reject(U(E.reason));break;case 6:if(!O){p.postMessage({sourceName:f,targetName:I,stream:7,streamId:h,success:!0});break}O.desiredSize<=0&&E.desiredSize>0&&O.sinkCapability.resolve(),O.desiredSize=E.desiredSize,new Promise(function(F){F(O.onPull?.())}).then(function(){p.postMessage({sourceName:f,targetName:I,stream:7,streamId:h,success:!0})},function(F){p.postMessage({sourceName:f,targetName:I,stream:7,streamId:h,reason:U(F)})});break;case 4:if((0,m.assert)(M,"enqueue should have stream controller"),M.isClosed)break;M.controller.enqueue(E.chunk);break;case 3:if((0,m.assert)(M,"close should have stream controller"),M.isClosed)break;M.isClosed=!0,M.controller.close(),this.#n(M,h);break;case 5:(0,m.assert)(M,"error should have stream controller"),M.controller.error(U(E.reason)),this.#n(M,h);break;case 2:E.success?M.cancelCall.resolve():M.cancelCall.reject(U(E.reason)),this.#n(M,h);break;case 1:if(!O)break;new Promise(function(F){F(O.onCancel?.(U(E.reason)))}).then(function(){p.postMessage({sourceName:f,targetName:I,stream:2,streamId:h,success:!0})},function(F){p.postMessage({sourceName:f,targetName:I,stream:2,streamId:h,reason:U(F)})}),O.sinkCapability.reject(U(E.reason)),O.isCancelled=!0,delete this.streamSinks[h];break;default:throw new Error("Unexpected stream case")}}#n(E,h){var f=this;return _asyncToGenerator(function*(){yield Promise.allSettled([E.startCall?.promise,E.pullCall?.promise,E.cancelCall?.promise]),delete f.streamControllers[h]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=void 0;var m=H(1);d.Metadata=class S{#e;#t;constructor({parsedData:U,rawData:Z}){this.#e=U,this.#t=Z}getRaw(){return this.#t}get(U){return this.#e.get(U)??null}getAll(){return(0,m.objectFromMap)(this.#e)}has(U){return this.#e.has(U)}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionalContentConfig=void 0;var m=H(1),S=H(8);const z=Symbol("INTERNAL");class U{#e=!0;constructor(E,h){this.name=E,this.intent=h}get visible(){return this.#e}_setVisible(E,h){E!==z&&(0,m.unreachable)("Internal method `_setVisible` called."),this.#e=h}}d.OptionalContentConfig=class Z{#e=null;#t=new Map;#n=null;#r=null;constructor(E){if(this.name=null,this.creator=null,null!==E){this.name=E.name,this.creator=E.creator,this.#r=E.order;for(const h of E.groups)this.#t.set(h.id,new U(h.name,h.intent));if("OFF"===E.baseState)for(const h of this.#t.values())h._setVisible(z,!1);for(const h of E.on)this.#t.get(h)._setVisible(z,!0);for(const h of E.off)this.#t.get(h)._setVisible(z,!1);this.#n=this.getHash()}}#s(E){const h=E.length;if(h<2)return!0;const f=E[0];for(let I=1;I<h;I++){const p=E[I];let M;if(Array.isArray(p))M=this.#s(p);else{if(!this.#t.has(p))return(0,m.warn)(`Optional content group not found: ${p}`),!0;M=this.#t.get(p).visible}switch(f){case"And":if(!M)return!1;break;case"Or":if(M)return!0;break;case"Not":return!M;default:return!0}}return"And"===f}isVisible(E){if(0===this.#t.size)return!0;if(!E)return(0,m.warn)("Optional content group not defined."),!0;if("OCG"===E.type)return this.#t.has(E.id)?this.#t.get(E.id).visible:((0,m.warn)(`Optional content group not found: ${E.id}`),!0);if("OCMD"===E.type){if(E.expression)return this.#s(E.expression);if(!E.policy||"AnyOn"===E.policy){for(const h of E.ids){if(!this.#t.has(h))return(0,m.warn)(`Optional content group not found: ${h}`),!0;if(this.#t.get(h).visible)return!0}return!1}if("AllOn"===E.policy){for(const h of E.ids){if(!this.#t.has(h))return(0,m.warn)(`Optional content group not found: ${h}`),!0;if(!this.#t.get(h).visible)return!1}return!0}if("AnyOff"===E.policy){for(const h of E.ids){if(!this.#t.has(h))return(0,m.warn)(`Optional content group not found: ${h}`),!0;if(!this.#t.get(h).visible)return!0}return!1}if("AllOff"===E.policy){for(const h of E.ids){if(!this.#t.has(h))return(0,m.warn)(`Optional content group not found: ${h}`),!0;if(this.#t.get(h).visible)return!1}return!0}return(0,m.warn)(`Unknown optional content policy ${E.policy}.`),!0}return(0,m.warn)(`Unknown group type ${E.type}.`),!0}setVisibility(E,h=!0){this.#t.has(E)?(this.#t.get(E)._setVisible(z,!!h),this.#e=null):(0,m.warn)(`Optional content group not found: ${E}`)}get hasInitialVisibility(){return this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,m.objectFromMap)(this.#t):null}getGroup(E){return this.#t.get(E)||null}getHash(){if(null!==this.#e)return this.#e;const E=new S.MurmurHash3_64;for(const[h,f]of this.#t)E.update(`${h}:${f.visible}`);return this.#e=E.hexdigest()}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFDataTransportStream=void 0;var m=H(1),S=H(6);d.PDFDataTransportStream=class z{constructor({length:E,initialData:h,progressiveDone:f=!1,contentDispositionFilename:I=null,disableRange:p=!1,disableStream:M=!1},O){if((0,m.assert)(O,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=I,h?.length>0){const F=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;this._queuedChunks.push(F)}this._pdfDataRangeTransport=O,this._isStreamingSupported=!M,this._isRangeSupported=!p,this._contentLength=E,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((F,k)=>{this._onReceiveData({begin:F,chunk:k})}),this._pdfDataRangeTransport.addProgressListener((F,k)=>{this._onProgress({loaded:F,total:k})}),this._pdfDataRangeTransport.addProgressiveReadListener(F=>{this._onReceiveData({chunk:F})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:E,chunk:h}){const f=h instanceof Uint8Array&&h.byteLength===h.buffer.byteLength?h.buffer:new Uint8Array(h).buffer;if(void 0===E)this._fullRequestReader?this._fullRequestReader._enqueue(f):this._queuedChunks.push(f);else{const I=this._rangeReaders.some(function(p){return p._begin===E&&(p._enqueue(f),!0)});(0,m.assert)(I,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(E){void 0===E.total?this._rangeReaders[0]?.onProgress?.({loaded:E.loaded}):this._fullRequestReader?.onProgress?.({loaded:E.loaded,total:E.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(E){const h=this._rangeReaders.indexOf(E);h>=0&&this._rangeReaders.splice(h,1)}getFullReader(){(0,m.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const E=this._queuedChunks;return this._queuedChunks=null,new U(this,E,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(E,h){if(h<=this._progressiveDataLength)return null;const f=new Z(this,E,h);return this._pdfDataRangeTransport.requestDataRange(E,h),this._rangeReaders.push(f),f}cancelAllRequests(E){this._fullRequestReader?.cancel(E);for(const h of this._rangeReaders.slice(0))h.cancel(E);this._pdfDataRangeTransport.abort()}};class U{constructor(E,h,f=!1,I=null){this._stream=E,this._done=f||!1,this._filename=(0,S.isPdfFile)(I)?I:null,this._queuedChunks=h||[],this._loaded=0;for(const p of this._queuedChunks)this._loaded+=p.byteLength;this._requests=[],this._headersReady=Promise.resolve(),E._fullRequestReader=this,this.onProgress=null}_enqueue(E){this._done||(this._requests.length>0?this._requests.shift().resolve({value:E,done:!1}):this._queuedChunks.push(E),this._loaded+=E.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var E=this;return _asyncToGenerator(function*(){if(E._queuedChunks.length>0)return{value:E._queuedChunks.shift(),done:!1};if(E._done)return{value:void 0,done:!0};const h=new m.PromiseCapability;return E._requests.push(h),h.promise})()}cancel(E){this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Z{constructor(E,h,f){this._stream=E,this._begin=h,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(E){if(!this._done){if(0===this._requests.length)this._queuedChunk=E;else{this._requests.shift().resolve({value:E,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var E=this;return _asyncToGenerator(function*(){if(E._queuedChunk){const f=E._queuedChunk;return E._queuedChunk=null,{value:f,done:!1}}if(E._done)return{value:void 0,done:!0};const h=new m.PromiseCapability;return E._requests.push(h),h.promise})()}cancel(E){this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Q,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaText=void 0;class H{static textContent(S){const z=[],U={items:z,styles:Object.create(null)};return function Z(x){if(!x)return;let E=null;const h=x.name;if("#text"===h)E=x.value;else{if(!H.shouldBuildText(h))return;x?.attributes?.textContent?E=x.attributes.textContent:x.value&&(E=x.value)}if(null!==E&&z.push({str:E}),x.children)for(const f of x.children)Z(f)}(S),U}static shouldBuildText(S){return!("textarea"===S||"input"===S||"option"===S||"select"===S)}}d.XfaText=H},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NodeStandardFontDataFactory=d.NodeFilterFactory=d.NodeCanvasFactory=d.NodeCMapReaderFactory=void 0;var m=H(7);const S=function(E){return new Promise((h,f)=>{__webpack_require__(172).readFile(E,(p,M)=>{!p&&M?h(new Uint8Array(M)):f(new Error(p))})})};d.NodeFilterFactory=class z extends m.BaseFilterFactory{},d.NodeCanvasFactory=class U extends m.BaseCanvasFactory{_createCanvas(h,f){return __webpack_require__(414).createCanvas(h,f)}},d.NodeCMapReaderFactory=class Z extends m.BaseCMapReaderFactory{_fetchData(h,f){return S(h).then(I=>({cMapData:I,compressionType:f}))}},d.NodeStandardFontDataFactory=class x extends m.BaseStandardFontDataFactory{_fetchData(h){return S(h)}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNodeStream=void 0;var m=H(1),S=H(22);const z=__webpack_require__(172),U=__webpack_require__(1),Z=__webpack_require__(779),x=__webpack_require__(558),E=/^file:\/\/\/[a-zA-Z]:\//;d.PDFNodeStream=class f{constructor(j){this.source=j,this.url=function h(Y){const j=x.parse(Y);return"file:"===j.protocol||j.host?j:/^[a-z]:[/\\]/i.test(Y)?x.parse(`file:///${Y}`):(j.host||(j.protocol="file:"),j)}(j.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new k(this):new O(this),this._fullRequestReader}getRangeReader(j,b){if(b<=this._progressiveDataLength)return null;const w=this.isFsUrl?new V(this,j,b):new F(this,j,b);return this._rangeRequestReaders.push(w),w}cancelAllRequests(j){this._fullRequestReader?.cancel(j);for(const b of this._rangeRequestReaders.slice(0))b.cancel(j)}};class I{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const b=j.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=new m.PromiseCapability,this._headersCapability=new m.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){if(yield j._readCapability.promise,j._done)return{value:void 0,done:!0};if(j._storedError)throw j._storedError;const b=j._readableStream.read();return null===b?(j._readCapability=new m.PromiseCapability,j.read()):(j._loaded+=b.length,j.onProgress?.({loaded:j._loaded,total:j._contentLength}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",b=>{this._error(b)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new m.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class p{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new m.PromiseCapability,this._isStreamingSupported=!j.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var j=this;return _asyncToGenerator(function*(){if(yield j._readCapability.promise,j._done)return{value:void 0,done:!0};if(j._storedError)throw j._storedError;const b=j._readableStream.read();return null===b?(j._readCapability=new m.PromiseCapability,j.read()):(j._loaded+=b.length,j.onProgress?.({loaded:j._loaded}),{value:new Uint8Array(b).buffer,done:!1})})()}cancel(j){this._readableStream?this._readableStream.destroy(j):this._error(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",b=>{this._error(b)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function M(Y,j){return{protocol:Y.protocol,auth:Y.auth,host:Y.hostname,port:Y.port,path:Y.path,method:"GET",headers:j}}class O extends I{constructor(j){super(j);const b=w=>{if(404===w.statusCode){const ee=new m.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=ee,void this._headersCapability.reject(ee)}this._headersCapability.resolve(),this._setReadableStream(w);const $=ee=>this._readableStream.headers[ee.toLowerCase()],{allowRangeRequests:J,suggestedLength:K}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=J,this._contentLength=K||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)($)};this._request=null,this._request="http:"===this._url.protocol?U.request(M(this._url,j.httpHeaders),b):Z.request(M(this._url,j.httpHeaders),b),this._request.on("error",w=>{this._storedError=w,this._headersCapability.reject(w)}),this._request.end()}}class F extends p{constructor(j,b,w){super(j),this._httpHeaders={};for(const J in j.httpHeaders){const K=j.httpHeaders[J];void 0!==K&&(this._httpHeaders[J]=K)}this._httpHeaders.Range=`bytes=${b}-${w-1}`;const $=J=>{if(404!==J.statusCode)this._setReadableStream(J);else{const K=new m.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=K}};this._request=null,this._request="http:"===this._url.protocol?U.request(M(this._url,this._httpHeaders),$):Z.request(M(this._url,this._httpHeaders),$),this._request.on("error",J=>{this._storedError=J}),this._request.end()}}class k extends I{constructor(j){super(j);let b=decodeURIComponent(this._url.path);E.test(this._url.href)&&(b=b.replace(/^\//,"")),z.lstat(b,(w,$)=>{if(w)return"ENOENT"===w.code&&(w=new m.MissingPDFException(`Missing PDF "${b}".`)),this._storedError=w,void this._headersCapability.reject(w);this._contentLength=$.size,this._setReadableStream(z.createReadStream(b)),this._headersCapability.resolve()})}}class V extends p{constructor(j,b,w){super(j);let $=decodeURIComponent(this._url.path);E.test(this._url.href)&&($=$.replace(/^\//,"")),this._setReadableStream(z.createReadStream($,{start:b,end:w-1}))}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createResponseStatusError=function x(h,f){return 404===h||0===h&&f.startsWith("file:")?new m.MissingPDFException('Missing PDF "'+f+'".'):new m.UnexpectedResponseException(`Unexpected server response (${h}) while retrieving PDF "${f}".`,h)},d.extractFilenameFromHeader=function Z(h){const f=h("Content-Disposition");if(f){let I=(0,S.getFilenameFromContentDispositionHeader)(f);if(I.includes("%"))try{I=decodeURIComponent(I)}catch{}if((0,z.isPdfFile)(I))return I}return null},d.validateRangeRequestCapabilities=function U({getResponseHeader:h,isHttp:f,rangeChunkSize:I,disableRange:p}){const M={allowRangeRequests:!1,suggestedLength:void 0},O=parseInt(h("Content-Length"),10);return!Number.isInteger(O)||(M.suggestedLength=O,O<=2*I)||p||!f||"bytes"!==h("Accept-Ranges")||"identity"!==(h("Content-Encoding")||"identity")||(M.allowRangeRequests=!0),M},d.validateResponseStatus=function E(h){return 200===h||206===h};var m=H(1),S=H(23),z=H(6)},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getFilenameFromContentDispositionHeader=function S(z){let U=!0,Z=x("filename\\*","i").exec(z);if(Z){Z=Z[1];let O=I(Z);return O=unescape(O),O=p(O),O=M(O),h(O)}if(Z=function f(O){const F=[];let k;const V=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(k=V.exec(O));){let[,j,b,w]=k;if(j=parseInt(j,10),j in F){if(0===j)break}else F[j]=[b,w]}const Y=[];for(let j=0;j<F.length&&j in F;++j){let[b,w]=F[j];w=I(w),b&&(w=unescape(w),0===j&&(w=p(w))),Y.push(w)}return Y.join("")}(z),Z)return h(M(Z));if(Z=x("filename","i").exec(z),Z){Z=Z[1];let O=I(Z);return O=M(O),h(O)}function x(O,F){return new RegExp("(?:^|;)\\s*"+O+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',F)}function E(O,F){if(O){if(!/^[\x00-\xFF]+$/.test(F))return F;try{const k=new TextDecoder(O,{fatal:!0}),V=(0,m.stringToBytes)(F);F=k.decode(V),U=!1}catch{}}return F}function h(O){return U&&/[\x80-\xff]/.test(O)&&(O=E("utf-8",O),U&&(O=E("iso-8859-1",O))),O}function I(O){if(O.startsWith('"')){const F=O.slice(1).split('\\"');for(let k=0;k<F.length;++k){const V=F[k].indexOf('"');-1!==V&&(F[k]=F[k].slice(0,V),F.length=k+1),F[k]=F[k].replaceAll(/\\(.)/g,"$1")}O=F.join('"')}return O}function p(O){const F=O.indexOf("'");return-1===F?O:E(O.slice(0,F),O.slice(F+1).replace(/^[^']*'/,""))}function M(O){return!O.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(O)?O:O.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(F,k,V,Y){if("q"===V||"Q"===V)return E(k,Y=(Y=Y.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(j,b){return String.fromCharCode(parseInt(b,16))}));try{Y=atob(Y)}catch{}return E(k,Y)})}return""};var m=H(1)},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNetworkStream=void 0;var m=H(1),S=H(22);class x{constructor(p,M={}){this.url=p,this.isHttp=/^https?:/i.test(p),this.httpHeaders=this.isHttp&&M.httpHeaders||Object.create(null),this.withCredentials=M.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(p,M,O){const F={begin:p,end:M};for(const k in O)F[k]=O[k];return this.request(F)}requestFull(p){return this.request(p)}request(p){const M=new XMLHttpRequest,O=this.currXhrId++,F=this.pendingRequests[O]={xhr:M};M.open("GET",this.url),M.withCredentials=this.withCredentials;for(const k in this.httpHeaders){const V=this.httpHeaders[k];void 0!==V&&M.setRequestHeader(k,V)}return this.isHttp&&"begin"in p&&"end"in p?(M.setRequestHeader("Range",`bytes=${p.begin}-${p.end-1}`),F.expectedStatus=206):F.expectedStatus=200,M.responseType="arraybuffer",p.onError&&(M.onerror=function(k){p.onError(M.status)}),M.onreadystatechange=this.onStateChange.bind(this,O),M.onprogress=this.onProgress.bind(this,O),F.onHeadersReceived=p.onHeadersReceived,F.onDone=p.onDone,F.onError=p.onError,F.onProgress=p.onProgress,M.send(null),O}onProgress(p,M){const O=this.pendingRequests[p];O&&O.onProgress?.(M)}onStateChange(p,M){const O=this.pendingRequests[p];if(!O)return;const F=O.xhr;if(F.readyState>=2&&O.onHeadersReceived&&(O.onHeadersReceived(),delete O.onHeadersReceived),4!==F.readyState||!(p in this.pendingRequests))return;if(delete this.pendingRequests[p],0===F.status&&this.isHttp)return void O.onError?.(F.status);const k=F.status||200;if((200!==k||206!==O.expectedStatus)&&k!==O.expectedStatus)return void O.onError?.(F.status);const Y=function Z(I){const p=I.response;return"string"!=typeof p?p:(0,m.stringToBytes)(p).buffer}(F);if(206===k){const j=F.getResponseHeader("Content-Range"),b=/bytes (\d+)-(\d+)\/(\d+)/.exec(j);O.onDone({begin:parseInt(b[1],10),chunk:Y})}else Y?O.onDone({begin:0,chunk:Y}):O.onError?.(F.status)}getRequestXhr(p){return this.pendingRequests[p].xhr}isPendingRequest(p){return p in this.pendingRequests}abortRequest(p){const M=this.pendingRequests[p].xhr;delete this.pendingRequests[p],M.abort()}}d.PDFNetworkStream=class E{constructor(p){this._source=p,this._manager=new x(p.url,{httpHeaders:p.httpHeaders,withCredentials:p.withCredentials}),this._rangeChunkSize=p.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(p){const M=this._rangeRequestReaders.indexOf(p);M>=0&&this._rangeRequestReaders.splice(M,1)}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new h(this._manager,this._source),this._fullRequestReader}getRangeReader(p,M){const O=new f(this._manager,p,M);return O.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(O),O}cancelAllRequests(p){this._fullRequestReader?.cancel(p);for(const M of this._rangeRequestReaders.slice(0))M.cancel(p)}};class h{constructor(p,M){this._manager=p;const O={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=M.url,this._fullRequestId=p.requestFull(O),this._headersReceivedCapability=new m.PromiseCapability,this._disableRange=M.disableRange||!1,this._contentLength=M.length,this._rangeChunkSize=M.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const p=this._fullRequestId,M=this._manager.getRequestXhr(p),O=V=>M.getResponseHeader(V),{allowRangeRequests:F,suggestedLength:k}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:O,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});F&&(this._isRangeSupported=!0),this._contentLength=k||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(O),this._isRangeSupported&&this._manager.abortRequest(p),this._headersReceivedCapability.resolve()}_onDone(p){if(p&&(this._requests.length>0?this._requests.shift().resolve({value:p.chunk,done:!1}):this._cachedChunks.push(p.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(p){this._storedError=(0,S.createResponseStatusError)(p,this._url),this._headersReceivedCapability.reject(this._storedError);for(const M of this._requests)M.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(p){this.onProgress?.({loaded:p.loaded,total:p.lengthComputable?p.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var p=this;return _asyncToGenerator(function*(){if(p._storedError)throw p._storedError;if(p._cachedChunks.length>0)return{value:p._cachedChunks.shift(),done:!1};if(p._done)return{value:void 0,done:!0};const M=new m.PromiseCapability;return p._requests.push(M),M.promise})()}cancel(p){this._done=!0,this._headersReceivedCapability.reject(p);for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(p,M,O){this._manager=p;const F={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._requestId=p.requestRange(M,O,F),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(p){const M=p.chunk;this._requests.length>0?this._requests.shift().resolve({value:M,done:!1}):this._queuedChunk=M,this._done=!0;for(const O of this._requests)O.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(p){this._storedError=(0,S.createResponseStatusError)(p,this._url);for(const M of this._requests)M.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(p){this.isStreamingSupported||this.onProgress?.({loaded:p.loaded})}get isStreamingSupported(){return!1}read(){var p=this;return _asyncToGenerator(function*(){if(p._storedError)throw p._storedError;if(null!==p._queuedChunk){const O=p._queuedChunk;return p._queuedChunk=null,{value:O,done:!1}}if(p._done)return{value:void 0,done:!0};const M=new m.PromiseCapability;return p._requests.push(M),M.promise})()}cancel(p){this._done=!0;for(const M of this._requests)M.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFetchStream=void 0;var m=H(1),S=H(22);function z(f,I,p){return{method:"GET",headers:f,signal:p.signal,mode:"cors",credentials:I?"include":"same-origin",redirect:"follow"}}function U(f){const I=new Headers;for(const p in f){const M=f[p];void 0!==M&&I.append(p,M)}return I}function Z(f){return f instanceof Uint8Array?f.buffer:f instanceof ArrayBuffer?f:((0,m.warn)(`getArrayBuffer - unexpected data format: ${f}`),new Uint8Array(f).buffer)}d.PDFFetchStream=class x{constructor(I){this.source=I,this.isHttp=/^https?:/i.test(I.url),this.httpHeaders=this.isHttp&&I.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,m.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new E(this),this._fullRequestReader}getRangeReader(I,p){if(p<=this._progressiveDataLength)return null;const M=new h(this,I,p);return this._rangeRequestReaders.push(M),M}cancelAllRequests(I){this._fullRequestReader?.cancel(I);for(const p of this._rangeRequestReaders.slice(0))p.cancel(I)}};class E{constructor(I){this._stream=I,this._reader=null,this._loaded=0,this._filename=null;const p=I.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=new m.PromiseCapability,this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=U(this._stream.httpHeaders);const M=p.url;fetch(M,z(this._headers,this._withCredentials,this._abortController)).then(O=>{if(!(0,S.validateResponseStatus)(O.status))throw(0,S.createResponseStatusError)(O.status,M);this._reader=O.body.getReader(),this._headersCapability.resolve();const F=Y=>O.headers.get(Y),{allowRangeRequests:k,suggestedLength:V}=(0,S.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=V||this._contentLength,this._filename=(0,S.extractFilenameFromHeader)(F),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new m.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._headersCapability.promise;const{value:p,done:M}=yield I._reader.read();return M?{value:p,done:M}:(I._loaded+=p.byteLength,I.onProgress?.({loaded:I._loaded,total:I._contentLength}),{value:Z(p),done:!1})})()}cancel(I){this._reader?.cancel(I),this._abortController.abort()}}class h{constructor(I,p,M){this._stream=I,this._reader=null,this._loaded=0;const O=I.source;this._withCredentials=O.withCredentials||!1,this._readCapability=new m.PromiseCapability,this._isStreamingSupported=!O.disableStream,this._abortController=new AbortController,this._headers=U(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${M-1}`);const F=O.url;fetch(F,z(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,S.validateResponseStatus)(k.status))throw(0,S.createResponseStatusError)(k.status,F);this._readCapability.resolve(),this._reader=k.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var I=this;return _asyncToGenerator(function*(){yield I._readCapability.promise;const{value:p,done:M}=yield I._reader.read();return M?{value:p,done:M}:(I._loaded+=p.byteLength,I.onProgress?.({loaded:I._loaded}),{value:Z(p),done:!1})})()}cancel(I){this._reader?.cancel(I),this._abortController.abort()}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerRenderTask=void 0,d.renderTextLayer=function O(k){!k.textContentSource&&(k.textContent||k.textContentStream)&&((0,S.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),k.textContentSource=k.textContent||k.textContentStream);const{container:V,viewport:Y}=k,j=getComputedStyle(V),b=j.getPropertyValue("visibility"),w=parseFloat(j.getPropertyValue("--scale-factor"));"visible"===b&&(!w||Math.abs(w-Y.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $=new M(k);return $._render(),$},d.updateTextLayer=function F({container:k,viewport:V,textDivs:Y,textDivProperties:j,isOffscreenCanvasSupported:b,mustRotate:w=!0,mustRescale:$=!0}){if(w&&(0,S.setLayerDimensions)(k,{rotation:V.rotation}),$){const J=E(0,b),ee={prevFontSize:null,prevFontFamily:null,div:null,scale:V.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:J};for(const oe of Y)ee.properties=j.get(oe),ee.div=oe,I(ee)}};var m=H(1),S=H(6);const U=30,x=new Map;function E(k,V){let Y;if(V&&m.FeatureTest.isOffscreenCanvasSupported)Y=new OffscreenCanvas(k,k).getContext("2d",{alpha:!1});else{const j=document.createElement("canvas");j.width=j.height=k,Y=j.getContext("2d",{alpha:!1})}return Y}function f(k,V,Y){const j=document.createElement("span"),b={angle:0,canvasWidth:0,hasText:""!==V.str,hasEOL:V.hasEOL,fontSize:0};k._textDivs.push(j);const w=m.Util.transform(k._transform,V.transform);let $=Math.atan2(w[1],w[0]);const J=Y[V.fontName];J.vertical&&($+=Math.PI/2);const K=Math.hypot(w[2],w[3]),ee=K*function h(k,V){const Y=x.get(k);if(Y)return Y;const j=E(U,V);j.font=`30px ${k}`;const b=j.measureText("");let w=b.fontBoundingBoxAscent,$=Math.abs(b.fontBoundingBoxDescent);if(w){const K=w/(w+$);return x.set(k,K),j.canvas.width=j.canvas.height=0,K}j.strokeStyle="red",j.clearRect(0,0,U,U),j.strokeText("g",0,0);let J=j.getImageData(0,0,U,U).data;$=0;for(let K=J.length-1-3;K>=0;K-=4)if(J[K]>0){$=Math.ceil(K/4/U);break}j.clearRect(0,0,U,U),j.strokeText("A",0,U),J=j.getImageData(0,0,U,U).data,w=0;for(let K=0,ee=J.length;K<ee;K+=4)if(J[K]>0){w=U-Math.floor(K/4/U);break}if(j.canvas.width=j.canvas.height=0,w){const K=w/(w+$);return x.set(k,K),K}return x.set(k,.8),.8}(J.fontFamily,k._isOffscreenCanvasSupported);let oe,fe;0===$?(oe=w[4],fe=w[5]-ee):(oe=w[4]+ee*Math.sin($),fe=w[5]-ee*Math.cos($));const xe="calc(var(--scale-factor)*",ve=j.style;k._container===k._rootContainer?(ve.left=`${(100*oe/k._pageWidth).toFixed(2)}%`,ve.top=`${(100*fe/k._pageHeight).toFixed(2)}%`):(ve.left=`${xe}${oe.toFixed(2)}px)`,ve.top=`${xe}${fe.toFixed(2)}px)`),ve.fontSize=`${xe}${K.toFixed(2)}px)`,ve.fontFamily=J.fontFamily,b.fontSize=K,j.setAttribute("role","presentation"),j.textContent=V.str,j.dir=V.dir,k._fontInspectorEnabled&&(j.dataset.fontName=V.fontName),0!==$&&(b.angle=$*(180/Math.PI));let be=!1;if(V.str.length>1)be=!0;else if(" "!==V.str&&V.transform[0]!==V.transform[3]){const _e=Math.abs(V.transform[0]),de=Math.abs(V.transform[3]);_e!==de&&Math.max(_e,de)/Math.min(_e,de)>1.5&&(be=!0)}be&&(b.canvasWidth=J.vertical?V.height:V.width),k._textDivProperties.set(j,b),k._isReadableStream&&k._layoutText(j)}function I(k){const{div:V,scale:Y,properties:j,ctx:b,prevFontSize:w,prevFontFamily:$}=k,{style:J}=V;let K="";if(0!==j.canvasWidth&&j.hasText){const{fontFamily:ee}=J,{canvasWidth:oe,fontSize:fe}=j;(w!==fe||$!==ee)&&(b.font=`${fe*Y}px ${ee}`,k.prevFontSize=fe,k.prevFontFamily=ee);const{width:xe}=b.measureText(V.textContent);xe>0&&(K=`scaleX(${oe*Y/xe})`)}0!==j.angle&&(K=`rotate(${j.angle}deg) ${K}`),K.length>0&&(J.transform=K)}class M{constructor({textContentSource:V,container:Y,viewport:j,textDivs:b,textDivProperties:w,textContentItemsStr:$,isOffscreenCanvasSupported:J}){this._textContentSource=V,this._isReadableStream=V instanceof ReadableStream,this._container=this._rootContainer=Y,this._textDivs=b||[],this._textContentItemsStr=$||[],this._isOffscreenCanvasSupported=J,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=w||new WeakMap,this._canceled=!1,this._capability=new m.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:j.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:E(0,J)};const{pageWidth:K,pageHeight:ee,pageX:oe,pageY:fe}=j.rawDims;this._transform=[1,0,0,-1,-oe,fe+ee],this._pageWidth=K,this._pageHeight=ee,(0,S.setLayerDimensions)(Y,j),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new m.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new m.AbortException("TextLayer task cancelled."))}_processItems(V,Y){for(const j of V)if(void 0!==j.str)this._textContentItemsStr.push(j.str),f(this,j,Y);else if("beginMarkedContentProps"===j.type||"beginMarkedContent"===j.type){const b=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==j.id&&this._container.setAttribute("id",`${j.id}`),b.append(this._container)}else"endMarkedContent"===j.type&&(this._container=this._container.parentNode)}_layoutText(V){const Y=this._layoutTextParams.properties=this._textDivProperties.get(V);if(this._layoutTextParams.div=V,I(this._layoutTextParams),Y.hasText&&this._container.append(V),Y.hasEOL){const j=document.createElement("br");j.setAttribute("role","presentation"),this._container.append(j)}}_render(){const V=new m.PromiseCapability;let Y=Object.create(null);if(this._isReadableStream){const j=()=>{this._reader.read().then(({value:b,done:w})=>{w?V.resolve():(Object.assign(Y,b.styles),this._processItems(b.items,Y),j())},V.reject)};this._reader=this._textContentSource.getReader(),j()}else{if(!this._textContentSource)throw new Error('No "textContentSource" parameter specified.');{const{items:j,styles:b}=this._textContentSource;this._processItems(j,b),V.resolve()}}V.promise.then(()=>{Y=null,function p(k){if(k._canceled)return;const V=k._textDivs,Y=k._capability;if(V.length>1e5)Y.resolve();else{if(!k._isReadableStream)for(const b of V)k._layoutText(b);Y.resolve()}}(this)},this._capability.reject)}}d.TextLayerRenderTask=M},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayer=void 0;var m=H(1),S=H(5),z=H(28),U=H(29),Z=H(6);d.AnnotationEditorLayer=(()=>{class E{#e;#t=!1;#n=this.pointerup.bind(this);#r=this.pointerdown.bind(this);#s=new Map;#d=!1;#c=!1;#i;static _initialized=!1;constructor(f){E._initialized||(E._initialized=!0,z.FreeTextEditor.initialize(f.l10n),U.InkEditor.initialize(f.l10n)),f.uiManager.registerEditorTypes([z.FreeTextEditor,U.InkEditor]),this.#i=f.uiManager,this.pageIndex=f.pageIndex,this.div=f.div,this.#e=f.accessibilityManager,this.#i.addLayer(this)}get isEmpty(){return 0===this.#s.size}updateToolbar(f){this.#i.updateToolbar(f)}updateMode(f=this.#i.getMode()){this.#h(),f===m.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#i.unselectAll(),f!==m.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",f===m.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",f===m.AnnotationEditorType.INK),this.div.hidden=!1)}addInkEditorIfNeeded(f){if(f||this.#i.getMode()===m.AnnotationEditorType.INK){if(!f)for(const p of this.#s.values())if(p.isEmpty())return void p.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(f){this.#i.setEditingState(f)}addCommands(f){this.#i.addCommands(f)}enable(){this.div.style.pointerEvents="auto";for(const f of this.#s.values())f.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const f of this.#s.values())f.disableEditing();this.#h(),this.isEmpty&&(this.div.hidden=!0)}setActiveEditor(f){this.#i.getActive()!==f&&this.#i.setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",this.#r),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#n)}attach(f){this.#s.set(f.id,f)}detach(f){this.#s.delete(f.id),this.#e?.removePointerInTextLayer(f.contentDiv)}remove(f){this.#i.removeEditor(f),this.detach(f),f.div.style.display="none",setTimeout(()=>{f.div.style.display="",f.div.remove(),f.isAttachedToDOM=!1,document.activeElement===document.body&&this.#i.focusMainContainer()},0),this.#c||this.addInkEditorIfNeeded(!1)}#o(f){f.parent!==this&&(this.attach(f),f.parent?.detach(f),f.setParent(this),f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.#o(f),this.#i.addEditor(f),this.attach(f),!f.isAttachedToDOM){const I=f.render();this.div.append(I),f.isAttachedToDOM=!0}this.moveEditorInDOM(f),f.onceAdded(),this.#i.addToAnnotationStorage(f)}moveEditorInDOM(f){this.#e?.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addANewEditor(f){this.addCommands({cmd:()=>{this.addOrRebuild(f)},undo:()=>{f.remove()},mustExec:!0})}addUndoableEditor(f){this.addCommands({cmd:()=>{this.addOrRebuild(f)},undo:()=>{f.remove()},mustExec:!1})}getNextId(){return this.#i.getId()}#u(f){switch(this.#i.getMode()){case m.AnnotationEditorType.FREETEXT:return new z.FreeTextEditor(f);case m.AnnotationEditorType.INK:return new U.InkEditor(f)}return null}deserialize(f){switch(f.annotationType){case m.AnnotationEditorType.FREETEXT:return z.FreeTextEditor.deserialize(f,this,this.#i);case m.AnnotationEditorType.INK:return U.InkEditor.deserialize(f,this,this.#i)}return null}#l(f){const I=this.getNextId(),p=this.#u({parent:this,id:I,x:f.offsetX,y:f.offsetY,uiManager:this.#i});return p&&this.add(p),p}setSelected(f){this.#i.setSelected(f)}toggleSelected(f){this.#i.toggleSelected(f)}isSelected(f){return this.#i.isSelected(f)}unselect(f){this.#i.unselect(f)}pointerup(f){const{isMac:I}=m.FeatureTest.platform;if(!(0!==f.button||f.ctrlKey&&I)&&f.target===this.div&&this.#d){if(this.#d=!1,!this.#t)return void(this.#t=!0);this.#l(f)}}pointerdown(f){const{isMac:I}=m.FeatureTest.platform;if(0!==f.button||f.ctrlKey&&I||f.target!==this.div)return;this.#d=!0;const p=this.#i.getActive();this.#t=!p||p.isEmpty()}drop(f){const I=f.dataTransfer.getData("text/plain"),p=this.#i.getEditor(I);if(!p)return;f.preventDefault(),f.dataTransfer.dropEffect="move",this.#o(p);const M=this.div.getBoundingClientRect();p.translate(f.clientX-M.x-p.startX,f.clientY-M.y-p.startY),this.moveEditorInDOM(p),p.div.focus()}dragover(f){f.preventDefault()}destroy(){this.#i.getActive()?.parent===this&&this.#i.setActiveEditor(null);for(const f of this.#s.values())this.#e?.removePointerInTextLayer(f.contentDiv),f.setParent(null),f.isAttachedToDOM=!1,f.div.remove();this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#h(){this.#c=!0;for(const f of this.#s.values())f.isEmpty()&&f.remove();this.#c=!1}render({viewport:f}){this.viewport=f,(0,Z.setLayerDimensions)(this.div,f),(0,S.bindEvents)(this,this.div,["dragover","drop"]);for(const I of this.#i.getEditors(this.pageIndex))this.add(I);this.updateMode()}update({viewport:f}){this.#i.commitOrRemove(),this.viewport=f,(0,Z.setLayerDimensions)(this.div,{rotation:f.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:f,pageHeight:I}=this.viewport.rawDims;return[f,I]}}return E})()},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FreeTextEditor=void 0;var m=H(1),S=H(5),z=H(4);class U extends z.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#s;#d="";#c=`${this.id}-editor`;#i=!1;#o;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new S.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],U.prototype.commitOrRemove]]);static _type="freetext";constructor(x){super({...x,name:"freeTextEditor"}),this.#s=x.color||U._defaultColor||z.AnnotationEditor._defaultLineColor,this.#o=x.fontSize||U._defaultFontSize}static initialize(x){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(h=>[h,x.get(h)]));const E=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(E.getPropertyValue("--freetext-padding"))}static updateDefaultParams(x,E){switch(x){case m.AnnotationEditorParamsType.FREETEXT_SIZE:U._defaultFontSize=E;break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:U._defaultColor=E}}updateParams(x,E){switch(x){case m.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(E);break;case m.AnnotationEditorParamsType.FREETEXT_COLOR:this.#l(E)}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,U._defaultFontSize],[m.AnnotationEditorParamsType.FREETEXT_COLOR,U._defaultColor||z.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.FREETEXT_SIZE,this.#o],[m.AnnotationEditorParamsType.FREETEXT_COLOR,this.#s]]}#u(x){const E=f=>{this.editorDiv.style.fontSize=`calc(${f}px * var(--scale-factor))`,this.translate(0,-(f-this.#o)*this.parentScale),this.#o=f,this.#a()},h=this.#o;this.addCommands({cmd:()=>{E(x)},undo:()=>{E(h)},mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#l(x){const E=this.#s;this.addCommands({cmd:()=>{this.#s=this.editorDiv.style.color=x},undo:()=>{this.#s=this.editorDiv.style.color=E},mustExec:!0,type:m.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){const x=this.parentScale;return[-U._internalPadding*x,-(U._internalPadding+this.#o)*x]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(m.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#c),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(x){super.focusin(x),x.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}#h(){const x=this.editorDiv.getElementsByTagName("div");if(0===x.length)return this.editorDiv.innerText;const E=[];for(const h of x)E.push(h.innerText.replace(/\r\n?|\n/,""));return E.join("\n")}#a(){const[x,E]=this.parentDimensions;let h;if(this.isAttachedToDOM)h=this.div.getBoundingClientRect();else{const{currentLayer:f,div:I}=this,p=I.style.display;I.style.display="hidden",f.div.append(this.div),h=I.getBoundingClientRect(),I.remove(),I.style.display=p}this.width=h.width/x,this.height=h.height/E}commit(){this.isInEditMode()&&(super.commit(),this.#i||(this.#i=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#d=this.#h().trimEnd(),this.#a())}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(x){this.enableEditMode(),this.editorDiv.focus()}keydown(x){x.target===this.div&&"Enter"===x.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(x){U._keyboardManager.exec(this,x)}editorDivFocus(x){this.isEditing=!0}editorDivBlur(x){this.isEditing=!1}editorDivInput(x){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let x,E;this.width&&(x=this.x,E=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#c),this.enableEditing(),U._l10nPromise.get("editor_free_text2_aria_label").then(f=>this.editorDiv?.setAttribute("aria-label",f)),U._l10nPromise.get("free_text2_default_content").then(f=>this.editorDiv?.setAttribute("default-content",f)),this.editorDiv.contentEditable=!0;const{style:h}=this.editorDiv;if(h.fontSize=`calc(${this.#o}px * var(--scale-factor))`,h.color=this.#s,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,S.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[f,I]=this.parentDimensions;this.setAt(x*f,E*I,this.width*f,this.height*I);for(const p of this.#d.split("\n")){const M=document.createElement("div");M.append(p?document.createTextNode(p):document.createElement("br")),this.editorDiv.append(M)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(x,E,h){const f=super.deserialize(x,E,h);return f.#o=x.fontSize,f.#s=m.Util.makeHexColor(...x.color),f.#d=x.value,f}serialize(){if(this.isEmpty())return null;const x=U._internalPadding*this.parentScale,E=this.getRect(x,x),h=z.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#s);return{annotationType:m.AnnotationEditorType.FREETEXT,color:h,fontSize:this.#o,value:this.#d,pageIndex:this.pageIndex,rect:E,rotation:this.rotation}}}d.FreeTextEditor=U},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InkEditor=void 0;var m=H(1),S=H(4),z=H(5);const U=16;d.InkEditor=(()=>{class x extends S.AnnotationEditor{#e=0;#t=0;#n=0;#r=this.canvasContextMenu.bind(this);#s=this.canvasPointermove.bind(this);#d=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#i=this.canvasPointerdown.bind(this);#o=new Path2D;#u=!1;#l=!1;#h=!1;#a=null;#y=0;#v=0;#m=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(h){super({...h,name:"inkEditor"}),this.color=h.color||null,this.thickness=h.thickness||null,this.opacity=h.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(h){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(f=>[f,h.get(f)]))}static updateDefaultParams(h,f){switch(h){case m.AnnotationEditorParamsType.INK_THICKNESS:x._defaultThickness=f;break;case m.AnnotationEditorParamsType.INK_COLOR:x._defaultColor=f;break;case m.AnnotationEditorParamsType.INK_OPACITY:x._defaultOpacity=f/100}}updateParams(h,f){switch(h){case m.AnnotationEditorParamsType.INK_THICKNESS:this.#A(f);break;case m.AnnotationEditorParamsType.INK_COLOR:this.#S(f);break;case m.AnnotationEditorParamsType.INK_OPACITY:this.#T(f)}}static get defaultPropertiesToUpdate(){return[[m.AnnotationEditorParamsType.INK_THICKNESS,x._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,x._defaultColor||S.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*x._defaultOpacity)]]}get propertiesToUpdate(){return[[m.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||x._defaultThickness],[m.AnnotationEditorParamsType.INK_COLOR,this.color||x._defaultColor||S.AnnotationEditor._defaultLineColor],[m.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??x._defaultOpacity))]]}#A(h){const f=this.thickness;this.addCommands({cmd:()=>{this.thickness=h,this.#w()},undo:()=>{this.thickness=f,this.#w()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#S(h){const f=this.color;this.addCommands({cmd:()=>{this.color=h,this.#p()},undo:()=>{this.color=f,this.#p()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#T(h){h/=100;const f=this.opacity;this.addCommands({cmd:()=>{this.opacity=h,this.#p()},undo:()=>{this.opacity=f,this.#p()},mustExec:!0,type:m.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#C(),this.#b()),this.isAttachedToDOM||(this.parent.add(this),this.#g()),this.#w())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#a.disconnect(),this.#a=null,super.remove())}setParent(h){!this.parent&&h?this._uiManager.removeShouldRescale(this):this.parent&&null===h&&this._uiManager.addShouldRescale(this),super.setParent(h)}onScaleChanging(){const[h,f]=this.parentDimensions;this.setDimensions(this.width*h,this.height*f)}enableEditMode(){this.#u||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#i))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#i))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#M(){const{parentRotation:h,parentDimensions:[f,I]}=this;switch(h){case 90:return[0,I,I,f];case 180:return[f,I,f,I];case 270:return[f,0,I,f];default:return[0,0,f,I]}}#D(){const{ctx:h,color:f,opacity:I,thickness:p,parentScale:M,scaleFactor:O}=this;h.lineWidth=p*M/O,h.lineCap="round",h.lineJoin="round",h.miterLimit=10,h.strokeStyle=`${f}${(0,z.opacityToHex)(I)}`}#I(h,f){this.canvas.addEventListener("contextmenu",this.#r),this.canvas.addEventListener("pointerleave",this.#d),this.canvas.addEventListener("pointermove",this.#s),this.canvas.addEventListener("pointerup",this.#c),this.canvas.removeEventListener("pointerdown",this.#i),this.isEditing=!0,this.#h||(this.#h=!0,this.#g(),this.thickness||=x._defaultThickness,this.color||=x._defaultColor||S.AnnotationEditor._defaultLineColor,this.opacity??=x._defaultOpacity),this.currentPath.push([h,f]),this.#l=!1,this.#D(),this.#m=()=>{this.#F(),this.#m&&window.requestAnimationFrame(this.#m)},window.requestAnimationFrame(this.#m)}#_(h,f){const[I,p]=this.currentPath.at(-1);if(this.currentPath.length>1&&h===I&&f===p)return;const M=this.currentPath;let O=this.#o;if(M.push([h,f]),this.#l=!0,M.length<=2)return O.moveTo(...M[0]),void O.lineTo(h,f);3===M.length&&(this.#o=O=new Path2D,O.moveTo(...M[0])),this.#k(O,...M.at(-3),...M.at(-2),h,f)}#P(){if(0===this.currentPath.length)return;const h=this.currentPath.at(-1);this.#o.lineTo(...h)}#R(h,f){let I;if(this.#m=null,h=Math.min(Math.max(h,0),this.canvas.width),f=Math.min(Math.max(f,0),this.canvas.height),this.#_(h,f),this.#P(),1!==this.currentPath.length)I=this.#f();else{const k=[h,f];I=[[k,k.slice(),k.slice(),k]]}const p=this.#o,M=this.currentPath;this.currentPath=[],this.#o=new Path2D,this.addCommands({cmd:()=>{this.allRawPaths.push(M),this.paths.push(I),this.bezierPath2D.push(p),this.rebuild()},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#C(),this.#b()),this.#w())},mustExec:!0})}#F(){if(!this.#l)return;this.#l=!1,Math.ceil(this.thickness*this.parentScale);const f=this.currentPath.slice(-3),I=f.map(Y=>Y[0]),p=f.map(Y=>Y[1]),{ctx:V}=(Math.min(...I),Math.max(...I),Math.min(...p),Math.max(...p),this);V.save(),V.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Y of this.bezierPath2D)V.stroke(Y);V.stroke(this.#o),V.restore()}#k(h,f,I,p,M,O,F){const k=(f+p)/2,V=(I+M)/2,Y=(p+O)/2,j=(M+F)/2;h.bezierCurveTo(k+2*(p-k)/3,V+2*(M-V)/3,Y+2*(p-Y)/3,j+2*(M-j)/3,Y,j)}#f(){const h=this.currentPath;if(h.length<=2)return[[h[0],h[0],h.at(-1),h.at(-1)]];const f=[];let I,[p,M]=h[0];for(I=1;I<h.length-2;I++){const[b,w]=h[I],[$,J]=h[I+1],K=(b+$)/2,ee=(w+J)/2;f.push([[p,M],[p+2*(b-p)/3,M+2*(w-M)/3],[K+2*(b-K)/3,ee+2*(w-ee)/3],[K,ee]]),[p,M]=[K,ee]}const[O,F]=h[I],[k,V]=h[I+1];return f.push([[p,M],[p+2*(O-p)/3,M+2*(F-M)/3],[k+2*(O-k)/3,V+2*(F-V)/3],[k,V]]),f}#p(){if(this.isEmpty())return void this.#N();this.#D();const{canvas:h,ctx:f}=this;f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,h.width,h.height),this.#N();for(const I of this.bezierPath2D)f.stroke(I)}commit(){this.#u||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#u=!0,this.div.classList.add("disabled"),this.#w(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(h){super.focusin(h),this.enableEditMode()}canvasPointerdown(h){0!==h.button||!this.isInEditMode()||this.#u||(this.setInForeground(),h.preventDefault(),"mouse"!==h.type&&this.div.focus(),this.#I(h.offsetX,h.offsetY))}canvasContextMenu(h){h.preventDefault()}canvasPointermove(h){h.preventDefault(),this.#_(h.offsetX,h.offsetY)}canvasPointerup(h){h.preventDefault(),this.#x(h)}canvasPointerleave(h){this.#x(h)}#x(h){this.canvas.removeEventListener("pointerleave",this.#d),this.canvas.removeEventListener("pointermove",this.#s),this.canvas.removeEventListener("pointerup",this.#c),this.canvas.addEventListener("pointerdown",this.#i),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",this.#r)},10),this.#R(h.offsetX,h.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#C(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",x._l10nPromise.get("editor_ink_canvas_aria_label").then(h=>this.canvas?.setAttribute("aria-label",h)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#b(){this.#a=new ResizeObserver(h=>{const f=h[0].contentRect;f.width&&f.height&&this.setDimensions(f.width,f.height)}),this.#a.observe(this.div)}render(){if(this.div)return this.div;let h,f;this.width&&(h=this.x,f=this.y),super.render(),x._l10nPromise.get("editor_ink2_aria_label").then(F=>this.div?.setAttribute("aria-label",F));const[I,p,M,O]=this.#M();if(this.setAt(I,p,0,0),this.setDims(M,O),this.#C(),this.width){const[F,k]=this.parentDimensions;this.setAt(h*F,f*k,this.width*F,this.height*k),this.#h=!0,this.#g(),this.setDims(this.width*F,this.height*k),this.#p(),this.#j(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#b(),this.div}#g(){if(!this.#h)return;const[h,f]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*h),this.canvas.height=Math.ceil(this.height*f),this.#N()}setDimensions(h,f){const I=Math.round(h),p=Math.round(f);if(this.#y===I&&this.#v===p)return;this.#y=I,this.#v=p,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-h/f)>.01&&(f=Math.ceil(h/this.#e),this.setDims(h,f));const[M,O]=this.parentDimensions;this.width=h/M,this.height=f/O,this.#u&&this.#E(h,f),this.#g(),this.#p(),this.canvas.style.visibility="visible",this.fixDims()}#E(h,f){const I=this.#O(),p=(h-I)/this.#n,M=(f-I)/this.#t;this.scaleFactor=Math.min(p,M)}#N(){const h=this.#O()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+h,this.translationY*this.scaleFactor+h)}static#B(h){const f=new Path2D;for(let I=0,p=h.length;I<p;I++){const[M,O,F,k]=h[I];0===I&&f.moveTo(...M),f.bezierCurveTo(O[0],O[1],F[0],F[1],k[0],k[1])}return f}#H(h,f,I,p){const O=[],F=this.thickness/2;let k,V;for(const Y of this.paths){k=[],V=[];for(let j=0,b=Y.length;j<b;j++){const[w,$,J,K]=Y[j],ee=h*(w[0]+f)+F,oe=p-h*(w[1]+I)-F,fe=h*($[0]+f)+F,xe=p-h*($[1]+I)-F,ve=h*(J[0]+f)+F,be=p-h*(J[1]+I)-F,_e=h*(K[0]+f)+F,de=p-h*(K[1]+I)-F;0===j&&(k.push(ee,oe),V.push(ee,oe)),k.push(fe,xe,ve,be,_e,de),this.#U(ee,oe,fe,xe,ve,be,_e,de,4,V)}O.push({bezier:k,points:V})}return O}#U(h,f,I,p,M,O,F,k,V,Y){if(this.#V(h,f,I,p,M,O,F,k))Y.push(F,k);else{for(let j=1;j<V-1;j++){const b=j/V,w=1-b;let $=b*h+w*I,J=b*f+w*p,K=b*I+w*M,ee=b*p+w*O;$=b*$+w*K,J=b*J+w*ee,K=b*K+w*(b*M+w*F),ee=b*ee+w*(b*O+w*k),$=b*$+w*K,J=b*J+w*ee,Y.push($,J)}Y.push(F,k)}}#V(h,f,I,p,M,O,F,k){const j=(3*p-2*f-k)**2,w=(3*O-f-2*k)**2;return Math.max((3*I-2*h-F)**2,(3*M-h-2*F)**2)+Math.max(j,w)<=10}#L(){let h=1/0,f=-1/0,I=1/0,p=-1/0;for(const M of this.paths)for(const[O,F,k,V]of M){const Y=m.Util.bezierBoundingBox(...O,...F,...k,...V);h=Math.min(h,Y[0]),I=Math.min(I,Y[1]),f=Math.max(f,Y[2]),p=Math.max(p,Y[3])}return[h,I,f,p]}#O(){return this.#u?Math.ceil(this.thickness*this.parentScale):0}#w(h=!1){if(this.isEmpty())return;if(!this.#u)return void this.#p();const f=this.#L(),I=this.#O();this.#n=Math.max(U,f[2]-f[0]),this.#t=Math.max(U,f[3]-f[1]);const p=Math.ceil(I+this.#n*this.scaleFactor),M=Math.ceil(I+this.#t*this.scaleFactor),[O,F]=this.parentDimensions;this.width=p/O,this.height=M/F,this.#e=p/M,this.#j();const k=this.translationX,V=this.translationY;this.translationX=-f[0],this.translationY=-f[1],this.#g(),this.#p(),this.#y=p,this.#v=M,this.setDims(p,M);const Y=h?I/this.scaleFactor/2:0;this.translate(k-this.translationX-Y,V-this.translationY-Y)}#j(){const{style:h}=this.div;this.#e>=1?(h.minHeight="16px",h.minWidth=`${Math.round(this.#e*U)}px`):(h.minWidth="16px",h.minHeight=`${Math.round(U/this.#e)}px`)}static deserialize(h,f,I){const p=super.deserialize(h,f,I);p.thickness=h.thickness,p.color=m.Util.makeHexColor(...h.color),p.opacity=h.opacity;const[M,O]=p.pageDimensions,F=p.width*M,k=p.height*O,V=p.parentScale,Y=h.thickness/2;p.#e=F/k,p.#u=!0,p.#y=Math.round(F),p.#v=Math.round(k);for(const{bezier:b}of h.paths){const w=[];p.paths.push(w);let $=V*(b[0]-Y),J=V*(k-b[1]-Y);for(let ee=2,oe=b.length;ee<oe;ee+=6){const _e=V*(b[ee+4]-Y),de=V*(k-b[ee+5]-Y);w.push([[$,J],[V*(b[ee]-Y),V*(k-b[ee+1]-Y)],[V*(b[ee+2]-Y),V*(k-b[ee+3]-Y)],[_e,de]]),$=_e,J=de}const K=this.#B(w);p.bezierPath2D.push(K)}const j=p.#L();return p.#n=Math.max(U,j[2]-j[0]),p.#t=Math.max(U,j[3]-j[1]),p.#E(F,k),p}serialize(){if(this.isEmpty())return null;const h=this.getRect(0,0),f=this.rotation%180==0?h[3]-h[1]:h[2]-h[0],I=S.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:m.AnnotationEditorType.INK,color:I,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,f),pageIndex:this.pageIndex,rect:h,rotation:this.rotation}}}return x})()},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayer=void 0;var m=H(1),S=H(6),z=H(3),U=H(31),Z=H(32);const x=1e3,h=new WeakSet;function f(N){return{width:N[2]-N[0],height:N[3]-N[1]}}class I{static create(u){switch(u.data.annotationType){case m.AnnotationType.LINK:return new M(u);case m.AnnotationType.TEXT:return new O(u);case m.AnnotationType.WIDGET:switch(u.data.fieldType){case"Tx":return new k(u);case"Btn":return u.data.radioButton?new Y(u):u.data.checkBox?new V(u):new j(u);case"Ch":return new b(u)}return new F(u);case m.AnnotationType.POPUP:return new w(u);case m.AnnotationType.FREETEXT:return new J(u);case m.AnnotationType.LINE:return new K(u);case m.AnnotationType.SQUARE:return new ee(u);case m.AnnotationType.CIRCLE:return new oe(u);case m.AnnotationType.POLYLINE:return new fe(u);case m.AnnotationType.CARET:return new ve(u);case m.AnnotationType.INK:return new be(u);case m.AnnotationType.POLYGON:return new xe(u);case m.AnnotationType.HIGHLIGHT:return new _e(u);case m.AnnotationType.UNDERLINE:return new de(u);case m.AnnotationType.SQUIGGLY:return new W(u);case m.AnnotationType.STRIKEOUT:return new A(u);case m.AnnotationType.STAMP:return new v(u);case m.AnnotationType.FILEATTACHMENT:return new _(u);default:return new p(u)}}}class p{constructor(u,{isRenderable:y=!1,ignoreBorder:D=!1,createQuadrilaterals:R=!1}={}){this.isRenderable=y,this.data=u.data,this.layer=u.layer,this.page=u.page,this.viewport=u.viewport,this.linkService=u.linkService,this.downloadManager=u.downloadManager,this.imageResourcesPath=u.imageResourcesPath,this.renderForms=u.renderForms,this.svgFactory=u.svgFactory,this.annotationStorage=u.annotationStorage,this.enableScripting=u.enableScripting,this.hasJSActions=u.hasJSActions,this._fieldObjects=u.fieldObjects,y&&(this.container=this._createContainer(D)),R&&(this.quadrilaterals=this._createQuadrilaterals(D))}_createContainer(u=!1){const{data:y,page:D,viewport:R}=this,P=document.createElement("section");P.setAttribute("data-annotation-id",y.id),y.noRotate&&P.classList.add("norotate");const{pageWidth:B,pageHeight:G,pageX:q,pageY:le}=R.rawDims,{width:te,height:ae}=f(y.rect),ye=m.Util.normalizeRect([y.rect[0],D.view[3]-y.rect[1]+D.view[1],y.rect[2],D.view[3]-y.rect[3]+D.view[1]]);if(!u&&y.borderStyle.width>0){P.style.borderWidth=`${y.borderStyle.width}px`;const Ee=y.borderStyle.horizontalCornerRadius,we=y.borderStyle.verticalCornerRadius;switch(Ee>0||we>0?P.style.borderRadius=`calc(${Ee}px * var(--scale-factor)) / calc(${we}px * var(--scale-factor))`:this instanceof Y&&(P.style.borderRadius=`calc(${te}px * var(--scale-factor)) / calc(${ae}px * var(--scale-factor))`),y.borderStyle.style){case m.AnnotationBorderStyleType.SOLID:P.style.borderStyle="solid";break;case m.AnnotationBorderStyleType.DASHED:P.style.borderStyle="dashed";break;case m.AnnotationBorderStyleType.BEVELED:(0,m.warn)("Unimplemented border style: beveled");break;case m.AnnotationBorderStyleType.INSET:(0,m.warn)("Unimplemented border style: inset");break;case m.AnnotationBorderStyleType.UNDERLINE:P.style.borderBottomStyle="solid"}const Ce=y.borderColor||null;Ce?P.style.borderColor=m.Util.makeHexColor(0|Ce[0],0|Ce[1],0|Ce[2]):P.style.borderWidth=0}P.style.left=100*(ye[0]-q)/B+"%",P.style.top=100*(ye[1]-le)/G+"%";const{rotation:he}=y;return y.hasOwnCanvas||0===he?(P.style.width=100*te/B+"%",P.style.height=100*ae/G+"%"):this.setRotation(he,P),P}setRotation(u,y=this.container){const{pageWidth:D,pageHeight:R}=this.viewport.rawDims,{width:P,height:B}=f(this.data.rect);let G,q;u%180==0?(G=100*P/D,q=100*B/R):(G=100*B/D,q=100*P/R),y.style.width=`${G}%`,y.style.height=`${q}%`,y.setAttribute("data-main-rotation",(360-u)%360)}get _commonActions(){const u=(y,D,R)=>{const P=R.detail[y];R.target.style[D]=U.ColorConverters[`${P[0]}_HTML`](P.slice(1))};return(0,m.shadow)(this,"_commonActions",{display:y=>{const D=y.detail.display%2==1;this.container.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:D,print:0===y.detail.display||3===y.detail.display})},print:y=>{this.annotationStorage.setValue(this.data.id,{print:y.detail.print})},hidden:y=>{this.container.style.visibility=y.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:y.detail.hidden})},focus:y=>{setTimeout(()=>y.target.focus({preventScroll:!1}),0)},userName:y=>{y.target.title=y.detail.userName},readonly:y=>{y.detail.readonly?y.target.setAttribute("readonly",""):y.target.removeAttribute("readonly")},required:y=>{this._setRequired(y.target,y.detail.required)},bgColor:y=>{u("bgColor","backgroundColor",y)},fillColor:y=>{u("fillColor","backgroundColor",y)},fgColor:y=>{u("fgColor","color",y)},textColor:y=>{u("textColor","color",y)},borderColor:y=>{u("borderColor","borderColor",y)},strokeColor:y=>{u("strokeColor","borderColor",y)},rotation:y=>{const D=y.detail.rotation;this.setRotation(D),this.annotationStorage.setValue(this.data.id,{rotation:D})}})}_dispatchEventFromSandbox(u,y){const D=this._commonActions;for(const R of Object.keys(y.detail))(u[R]||D[R])?.(y)}_setDefaultPropertiesFromJS(u){if(!this.enableScripting)return;const y=this.annotationStorage.getRawValue(this.data.id);if(!y)return;const D=this._commonActions;for(const[R,P]of Object.entries(y)){const B=D[R];B&&(B({detail:{[R]:P},target:u}),delete y[R])}}_createQuadrilaterals(u=!1){if(!this.data.quadPoints)return null;const y=[],D=this.data.rect;for(const R of this.data.quadPoints)this.data.rect=[R[2].x,R[2].y,R[1].x,R[1].y],y.push(this._createContainer(u));return this.data.rect=D,y}_createPopup(u,y){let D=this.container;this.quadrilaterals&&(u||=this.quadrilaterals,D=this.quadrilaterals[0]),u||((u=document.createElement("div")).classList.add("popupTriggerArea"),D.append(u));const P=new $({container:D,trigger:u,color:y.color,titleObj:y.titleObj,modificationDate:y.modificationDate,contentsObj:y.contentsObj,richText:y.richText,hideWrapper:!0}).render();P.style.left="100%",D.append(P)}_renderQuadrilaterals(u){for(const y of this.quadrilaterals)y.classList.add(u);return this.quadrilaterals}render(){(0,m.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(u,y=null){const D=[];if(this._fieldObjects){const R=this._fieldObjects[u];if(R)for(const{page:P,id:B,exportValues:G}of R){if(-1===P||B===y)continue;const q="string"==typeof G?G:null,le=document.querySelector(`[data-element-id="${B}"]`);!le||h.has(le)?D.push({id:B,exportValue:q,domElement:le}):(0,m.warn)(`_getElementsByName - element not allowed: ${B}`)}return D}for(const R of document.getElementsByName(u)){const{exportValue:P}=R,B=R.getAttribute("data-element-id");B!==y&&h.has(R)&&D.push({id:B,exportValue:P,domElement:R})}return D}}class M extends p{constructor(u,y=null){super(u,{isRenderable:!0,ignoreBorder:!!y?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=u.data.isTooltipOnly}render(){const{data:u,linkService:y}=this,D=document.createElement("a");D.setAttribute("data-element-id",u.id);let R=!1;return u.url?(y.addLinkAttributes(D,u.url,u.newWindow),R=!0):u.action?(this._bindNamedAction(D,u.action),R=!0):u.attachment?(this._bindAttachment(D,u.attachment),R=!0):u.setOCGState?(this.#t(D,u.setOCGState),R=!0):u.dest?(this._bindLink(D,u.dest),R=!0):(u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(D,u),R=!0),u.resetForm?(this._bindResetFormAction(D,u.resetForm),R=!0):this.isTooltipOnly&&!R&&(this._bindLink(D,""),R=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((P,B)=>{const G=0===B?D:D.cloneNode();return P.append(G),P}):(this.container.classList.add("linkAnnotation"),R&&this.container.append(D),this.container)}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(u,y){u.href=this.linkService.getDestinationHash(y),u.onclick=()=>(y&&this.linkService.goToDestination(y),!1),(y||""===y)&&this.#e()}_bindNamedAction(u,y){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(y),!1),this.#e()}_bindAttachment(u,y){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,y.content,y.filename),!1),this.#e()}#t(u,y){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeSetOCGState(y),!1),this.#e()}_bindJSAction(u,y){u.href=this.linkService.getAnchorUrl("");const D=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const R of Object.keys(y.actions)){const P=D.get(R);P&&(u[P]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y.id,name:R}}),!1))}u.onclick||(u.onclick=()=>!1),this.#e()}_bindResetFormAction(u,y){const D=u.onclick;if(D||(u.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects)return(0,m.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(D||(u.onclick=()=>!1));u.onclick=()=>{D?.();const{fields:R,refs:P,include:B}=y,G=[];if(0!==R.length||0!==P.length){const te=new Set(P);for(const ae of R){const ye=this._fieldObjects[ae]||[];for(const{id:he}of ye)te.add(he)}for(const ae of Object.values(this._fieldObjects))for(const ye of ae)te.has(ye.id)===B&&G.push(ye)}else for(const te of Object.values(this._fieldObjects))G.push(...te);const q=this.annotationStorage,le=[];for(const te of G){const{id:ae}=te;switch(le.push(ae),te.type){case"text":case"combobox":case"listbox":q.setValue(ae,{value:te.defaultValue||""});break;case"checkbox":case"radiobutton":q.setValue(ae,{value:te.defaultValue===te.exportValues});break;default:continue}const ye=document.querySelector(`[data-element-id="${ae}"]`);ye&&(h.has(ye)?ye.dispatchEvent(new Event("resetform")):(0,m.warn)(`_bindResetFormAction - element not allowed: ${ae}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:le,name:"ResetForm"}}),!1}}}class O extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str)})}render(){this.container.classList.add("textAnnotation");const u=document.createElement("img");return u.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",u.alt="[{{type}} Annotation]",u.dataset.l10nId="text_annotation_type",u.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(u,this.data),this.container.append(u),this.container}}class F extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(u){this.data.hasOwnCanvas&&("CANVAS"===u.previousSibling?.nodeName&&(u.previousSibling.hidden=!0),u.hidden=!1)}_getKeyModifier(u){const{isWin:y,isMac:D}=m.FeatureTest.platform;return y&&u.ctrlKey||D&&u.metaKey}_setEventListener(u,y,D,R){y.includes("mouse")?u.addEventListener(y,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:D,value:R(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):u.addEventListener(y,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:D,value:R(P)}})})}_setEventListeners(u,y,D){for(const[R,P]of y)("Action"===P||this.data.actions?.[P])&&this._setEventListener(u,R,P,D)}_setBackgroundColor(u){const y=this.data.backgroundColor||null;u.style.backgroundColor=null===y?"transparent":m.Util.makeHexColor(y[0],y[1],y[2])}_setTextStyle(u){const{fontColor:D}=this.data.defaultAppearanceData,R=this.data.defaultAppearanceData.fontSize||9,P=u.style;let B;const q=le=>Math.round(10*le)/10;if(this.data.multiLine){const le=Math.abs(this.data.rect[3]-this.data.rect[1]-2),te=Math.round(le/(m.LINE_FACTOR*R))||1;B=Math.min(R,q(le/te/m.LINE_FACTOR))}else{const le=Math.abs(this.data.rect[3]-this.data.rect[1]-2);B=Math.min(R,q(le/m.LINE_FACTOR))}P.fontSize=`calc(${B}px * var(--scale-factor))`,P.color=m.Util.makeHexColor(D[0],D[1],D[2]),null!==this.data.textAlignment&&(P.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(u,y){y?u.setAttribute("required",!0):u.removeAttribute("required"),u.setAttribute("aria-required",y)}}class k extends F{constructor(u){super(u,{isRenderable:u.renderForms||!u.data.hasAppearance&&!!u.data.fieldValue})}setPropertyOnSiblings(u,y,D,R){const P=this.annotationStorage;for(const B of this._getElementsByName(u.name,u.id))B.domElement&&(B.domElement[y]=D),P.setValue(B.id,{[R]:D})}render(){const u=this.annotationStorage,y=this.data.id;this.container.classList.add("textWidgetAnnotation");let D=null;if(this.renderForms){const R=u.getValue(y,{value:this.data.fieldValue});let P=R.value||"";const B=u.getValue(y,{charLimit:this.data.maxLen}).charLimit;B&&P.length>B&&(P=P.slice(0,B));let G=R.formattedValue||this.data.textContent?.join("\n")||null;G&&this.data.comb&&(G=G.replaceAll(/\s+/g,""));const q={userValue:P,formattedValue:G,lastCommittedValue:null,commitKey:1};this.data.multiLine?(D=document.createElement("textarea"),D.textContent=G??P,this.data.doNotScroll&&(D.style.overflowY="hidden")):(D=document.createElement("input"),D.type="text",D.setAttribute("value",G??P),this.data.doNotScroll&&(D.style.overflowX="hidden")),this.data.hasOwnCanvas&&(D.hidden=!0),h.add(D),D.setAttribute("data-element-id",y),D.disabled=this.data.readOnly,D.name=this.data.fieldName,D.tabIndex=x,this._setRequired(D,this.data.required),B&&(D.maxLength=B),D.addEventListener("input",te=>{u.setValue(y,{value:te.target.value}),this.setPropertyOnSiblings(D,"value",te.target.value,"value"),q.formattedValue=null}),D.addEventListener("resetform",te=>{D.value=q.userValue=this.data.defaultFieldValue??"",q.formattedValue=null});let le=te=>{const{formattedValue:ae}=q;null!=ae&&(te.target.value=ae),te.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){D.addEventListener("focus",ae=>{const{target:ye}=ae;q.userValue&&(ye.value=q.userValue),q.lastCommittedValue=ye.value,q.commitKey=1}),D.addEventListener("updatefromsandbox",ae=>{this.showElementAndHideCanvas(ae.target),this._dispatchEventFromSandbox({value(he){q.userValue=he.detail.value??"",u.setValue(y,{value:q.userValue.toString()}),he.target.value=q.userValue},formattedValue(he){const{formattedValue:Ee}=he.detail;q.formattedValue=Ee,null!=Ee&&he.target!==document.activeElement&&(he.target.value=Ee),u.setValue(y,{formattedValue:Ee})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)},charLimit:he=>{const{charLimit:Ee}=he.detail,{target:we}=he;if(0===Ee)return void we.removeAttribute("maxLength");we.setAttribute("maxLength",Ee);let Ce=q.userValue;!Ce||Ce.length<=Ee||(Ce=Ce.slice(0,Ee),we.value=q.userValue=Ce,u.setValue(y,{value:Ce}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:Ce,willCommit:!0,commitKey:1,selStart:we.selectionStart,selEnd:we.selectionEnd}}))}},ae)}),D.addEventListener("keydown",ae=>{q.commitKey=1;let ye=-1;if("Escape"===ae.key?ye=0:"Enter"!==ae.key||this.data.multiLine?"Tab"===ae.key&&(q.commitKey=3):ye=2,-1===ye)return;const{value:he}=ae.target;q.lastCommittedValue!==he&&(q.lastCommittedValue=he,q.userValue=he,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:he,willCommit:!0,commitKey:ye,selStart:ae.target.selectionStart,selEnd:ae.target.selectionEnd}}))});const te=le;le=null,D.addEventListener("blur",ae=>{if(!ae.relatedTarget)return;const{value:ye}=ae.target;q.userValue=ye,q.lastCommittedValue!==ye&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:ye,willCommit:!0,commitKey:q.commitKey,selStart:ae.target.selectionStart,selEnd:ae.target.selectionEnd}}),te(ae)}),this.data.actions?.Keystroke&&D.addEventListener("beforeinput",ae=>{q.lastCommittedValue=null;const{data:ye,target:he}=ae,{value:Ee,selectionStart:we,selectionEnd:Ce}=he;let ke=we,Xe=Ce;switch(ae.inputType){case"deleteWordBackward":{const Qe=Ee.substring(0,we).match(/\w*[^\w]*$/);Qe&&(ke-=Qe[0].length);break}case"deleteWordForward":{const Qe=Ee.substring(we).match(/^[^\w]*\w*/);Qe&&(Xe+=Qe[0].length);break}case"deleteContentBackward":we===Ce&&(ke-=1);break;case"deleteContentForward":we===Ce&&(Xe+=1)}ae.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:Ee,change:ye||"",willCommit:!1,selStart:ke,selEnd:Xe}})}),this._setEventListeners(D,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.value)}if(le&&D.addEventListener("blur",le),this.data.comb){const ae=(this.data.rect[2]-this.data.rect[0])/B;D.classList.add("comb"),D.style.letterSpacing=`calc(${ae}px * var(--scale-factor) - 1ch)`}}else D=document.createElement("div"),D.textContent=this.data.fieldValue,D.style.verticalAlign="middle",D.style.display="table-cell";return this._setTextStyle(D),this._setBackgroundColor(D),this._setDefaultPropertiesFromJS(D),this.container.append(D),this.container}}class V extends F{constructor(u){super(u,{isRenderable:u.renderForms})}render(){const u=this.annotationStorage,y=this.data,D=y.id;let R=u.getValue(D,{value:y.exportValue===y.fieldValue}).value;"string"==typeof R&&(R="Off"!==R,u.setValue(D,{value:R})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const P=document.createElement("input");return h.add(P),P.setAttribute("data-element-id",D),P.disabled=y.readOnly,this._setRequired(P,this.data.required),P.type="checkbox",P.name=y.fieldName,R&&P.setAttribute("checked",!0),P.setAttribute("exportValue",y.exportValue),P.tabIndex=x,P.addEventListener("change",B=>{const{name:G,checked:q}=B.target;for(const le of this._getElementsByName(G,D)){const te=q&&le.exportValue===y.exportValue;le.domElement&&(le.domElement.checked=te),u.setValue(le.id,{value:te})}u.setValue(D,{value:q})}),P.addEventListener("resetform",B=>{B.target.checked=(y.defaultFieldValue||"Off")===y.exportValue}),this.enableScripting&&this.hasJSActions&&(P.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value(q){q.target.checked="Off"!==q.detail.value,u.setValue(D,{value:q.target.checked})}},B)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)),this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class Y extends F{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const u=this.annotationStorage,y=this.data,D=y.id;let R=u.getValue(D,{value:y.fieldValue===y.buttonValue}).value;"string"==typeof R&&(R=R!==y.buttonValue,u.setValue(D,{value:R}));const P=document.createElement("input");if(h.add(P),P.setAttribute("data-element-id",D),P.disabled=y.readOnly,this._setRequired(P,this.data.required),P.type="radio",P.name=y.fieldName,R&&P.setAttribute("checked",!0),P.tabIndex=x,P.addEventListener("change",B=>{const{name:G,checked:q}=B.target;for(const le of this._getElementsByName(G,D))u.setValue(le.id,{value:!1});u.setValue(D,{value:q})}),P.addEventListener("resetform",B=>{const G=y.defaultFieldValue;B.target.checked=null!=G&&G===y.buttonValue}),this.enableScripting&&this.hasJSActions){const B=y.buttonValue;P.addEventListener("updatefromsandbox",G=>{this._dispatchEventFromSandbox({value:le=>{const te=B===le.detail.value;for(const ae of this._getElementsByName(le.target.name)){const ye=te&&ae.id===D;ae.domElement&&(ae.domElement.checked=ye),u.setValue(ae.id,{value:ye})}}},G)}),this._setEventListeners(P,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.checked)}return this._setBackgroundColor(P),this._setDefaultPropertiesFromJS(P),this.container.append(P),this.container}}class j extends M{constructor(u){super(u,{ignoreBorder:u.data.hasAppearance})}render(){const u=super.render();u.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(u.title=this.data.alternativeText);const y=u.lastChild;return this.enableScripting&&this.hasJSActions&&y&&(this._setDefaultPropertiesFromJS(y),y.addEventListener("updatefromsandbox",D=>{this._dispatchEventFromSandbox({},D)})),u}}class b extends F{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const u=this.annotationStorage,y=this.data.id,D=u.getValue(y,{value:this.data.fieldValue}),R=document.createElement("select");h.add(R),R.setAttribute("data-element-id",y),R.disabled=this.data.readOnly,this._setRequired(R,this.data.required),R.name=this.data.fieldName,R.tabIndex=x;let P=this.data.combo&&this.data.options.length>0;this.data.combo||(R.size=this.data.options.length,this.data.multiSelect&&(R.multiple=!0)),R.addEventListener("resetform",te=>{const ae=this.data.defaultFieldValue;for(const ye of R.options)ye.selected=ye.value===ae});for(const te of this.data.options){const ae=document.createElement("option");ae.textContent=te.displayValue,ae.value=te.exportValue,D.value.includes(te.exportValue)&&(ae.setAttribute("selected",!0),P=!1),R.append(ae)}let B=null;if(P){const te=document.createElement("option");te.value=" ",te.setAttribute("hidden",!0),te.setAttribute("selected",!0),R.prepend(te),B=()=>{te.remove(),R.removeEventListener("input",B),B=null},R.addEventListener("input",B)}const G=te=>{const ae=te?"value":"textContent",{options:ye,multiple:he}=R;return he?Array.prototype.filter.call(ye,Ee=>Ee.selected).map(Ee=>Ee[ae]):-1===ye.selectedIndex?null:ye[ye.selectedIndex][ae]};let q=G(!1);const le=te=>Array.prototype.map.call(te.target.options,ye=>({displayValue:ye.textContent,exportValue:ye.value}));return this.enableScripting&&this.hasJSActions?(R.addEventListener("updatefromsandbox",te=>{this._dispatchEventFromSandbox({value(ye){B?.();const he=ye.detail.value,Ee=new Set(Array.isArray(he)?he:[he]);for(const we of R.options)we.selected=Ee.has(we.value);u.setValue(y,{value:G(!0)}),q=G(!1)},multipleSelection(ye){R.multiple=!0},remove(ye){const he=R.options,Ee=ye.detail.remove;he[Ee].selected=!1,R.remove(Ee),he.length>0&&-1===Array.prototype.findIndex.call(he,Ce=>Ce.selected)&&(he[0].selected=!0),u.setValue(y,{value:G(!0),items:le(ye)}),q=G(!1)},clear(ye){for(;0!==R.length;)R.remove(0);u.setValue(y,{value:null,items:[]}),q=G(!1)},insert(ye){const{index:he,displayValue:Ee,exportValue:we}=ye.detail.insert,Ce=R.children[he],ke=document.createElement("option");ke.textContent=Ee,ke.value=we,Ce?Ce.before(ke):R.append(ke),u.setValue(y,{value:G(!0),items:le(ye)}),q=G(!1)},items(ye){const{items:he}=ye.detail;for(;0!==R.length;)R.remove(0);for(const Ee of he){const{displayValue:we,exportValue:Ce}=Ee,ke=document.createElement("option");ke.textContent=we,ke.value=Ce,R.append(ke)}R.options.length>0&&(R.options[0].selected=!0),u.setValue(y,{value:G(!0),items:le(ye)}),q=G(!1)},indices(ye){const he=new Set(ye.detail.indices);for(const Ee of ye.target.options)Ee.selected=he.has(Ee.index);u.setValue(y,{value:G(!0)}),q=G(!1)},editable(ye){ye.target.disabled=!ye.detail.editable}},te)}),R.addEventListener("input",te=>{const ae=G(!0);u.setValue(y,{value:ae}),te.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:y,name:"Keystroke",value:q,changeEx:ae,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(R,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],te=>te.target.value)):R.addEventListener("input",function(te){u.setValue(y,{value:G(!0)})}),this.data.combo&&this._setTextStyle(R),this._setBackgroundColor(R),this._setDefaultPropertiesFromJS(R),this.container.append(R),this.container}}class w extends p{static IGNORE_TYPES=new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]);constructor(u){const{data:y}=u;super(u,{isRenderable:!w.IGNORE_TYPES.has(y.parentType)&&!!(y.titleObj?.str||y.contentsObj?.str||y.richText?.str)})}render(){this.container.classList.add("popupAnnotation");const u=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===u.length)return this.container;const y=new $({container:this.container,trigger:Array.from(u),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),D=this.page,R=m.Util.normalizeRect([this.data.parentRect[0],D.view[3]-this.data.parentRect[1]+D.view[1],this.data.parentRect[2],D.view[3]-this.data.parentRect[3]+D.view[1]]),P=R[0]+this.data.parentRect[2]-this.data.parentRect[0],B=R[1],{pageWidth:G,pageHeight:q,pageX:le,pageY:te}=this.viewport.rawDims;return this.container.style.left=100*(P-le)/G+"%",this.container.style.top=100*(B-te)/q+"%",this.container.append(y.render()),this.container}}class ${constructor(u){this.container=u.container,this.trigger=u.trigger,this.color=u.color,this.titleObj=u.titleObj,this.modificationDate=u.modificationDate,this.contentsObj=u.contentsObj,this.richText=u.richText,this.hideWrapper=u.hideWrapper||!1,this.pinned=!1}render(){const y=document.createElement("div");y.classList.add("popupWrapper"),this.hideElement=this.hideWrapper?y:this.container,this.hideElement.hidden=!0;const D=document.createElement("div");D.classList.add("popup");const R=this.color;R&&(D.style.backgroundColor=m.Util.makeHexColor(0|.7*(255-R[0])+R[0],0|.7*(255-R[1])+R[1],0|.7*(255-R[2])+R[2]));const P=document.createElement("h1");P.dir=this.titleObj.dir,P.textContent=this.titleObj.str,D.append(P);const B=S.PDFDateString.toDateObject(this.modificationDate);if(B){const G=document.createElement("span");G.classList.add("popupDate"),G.textContent="{{date}}, {{time}}",G.dataset.l10nId="annotation_date_string",G.dataset.l10nArgs=JSON.stringify({date:B.toLocaleDateString(),time:B.toLocaleTimeString()}),D.append(G)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const G=this._formatContents(this.contentsObj);D.append(G)}else Z.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:D}),D.lastChild.classList.add("richText","popupContent");Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const G of this.trigger)G.addEventListener("click",this._toggle.bind(this)),G.addEventListener("mouseover",this._show.bind(this,!1)),G.addEventListener("mouseout",this._hide.bind(this,!1));return D.addEventListener("click",this._hide.bind(this,!0)),y.append(D),y}_formatContents({str:u,dir:y}){const D=document.createElement("p");D.classList.add("popupContent"),D.dir=y;const R=u.split(/(?:\r\n?|\n)/);for(let P=0,B=R.length;P<B;++P)D.append(document.createTextNode(R[P])),P<B-1&&D.append(document.createElement("br"));return D}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(u=!1){u&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(u=!0){u&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class J extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0}),this.textContent=u.data.textContent}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const u=document.createElement("div");u.classList.add("annotationTextContent"),u.setAttribute("role","comment");for(const y of this.textContent){const D=document.createElement("span");D.textContent=y,u.append(D)}this.container.append(u)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class K extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const u=this.data,{width:y,height:D}=f(u.rect),R=this.svgFactory.create(y,D,!0),P=this.svgFactory.createElement("svg:line");return P.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),P.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),P.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),P.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),P.setAttribute("stroke-width",u.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),R.append(P),this.container.append(R),this._createPopup(P,u),this.container}}class ee extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const u=this.data,{width:y,height:D}=f(u.rect),R=this.svgFactory.create(y,D,!0),P=u.borderStyle.width,B=this.svgFactory.createElement("svg:rect");return B.setAttribute("x",P/2),B.setAttribute("y",P/2),B.setAttribute("width",y-P),B.setAttribute("height",D-P),B.setAttribute("stroke-width",P||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),this._createPopup(B,u),this.container}}class oe extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const u=this.data,{width:y,height:D}=f(u.rect),R=this.svgFactory.create(y,D,!0),P=u.borderStyle.width,B=this.svgFactory.createElement("svg:ellipse");return B.setAttribute("cx",y/2),B.setAttribute("cy",D/2),B.setAttribute("rx",y/2-P/2),B.setAttribute("ry",D/2-P/2),B.setAttribute("stroke-width",P||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),this._createPopup(B,u),this.container}}class fe extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:y,height:D}=f(u.rect),R=this.svgFactory.create(y,D,!0);let P=[];for(const G of u.vertices)P.push(G.x-u.rect[0]+","+(u.rect[3]-G.y));P=P.join(" ");const B=this.svgFactory.createElement(this.svgElementName);return B.setAttribute("points",P),B.setAttribute("stroke-width",u.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),R.append(B),this.container.append(R),this._createPopup(B,u),this.container}}class xe extends fe{constructor(u){super(u),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ve extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class be extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const u=this.data,{width:y,height:D}=f(u.rect),R=this.svgFactory.create(y,D,!0);for(const P of u.inkLists){let B=[];for(const q of P)B.push(`${q.x-u.rect[0]},${u.rect[3]-q.y}`);B=B.join(" ");const G=this.svgFactory.createElement(this.svgElementName);G.setAttribute("points",B),G.setAttribute("stroke-width",u.borderStyle.width||1),G.setAttribute("stroke","transparent"),G.setAttribute("fill","transparent"),this._createPopup(G,u),R.append(G)}return this.container.append(R),this.container}}class _e extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.classList.add("highlightAnnotation"),this.container)}}class de extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.classList.add("underlineAnnotation"),this.container)}}class W extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.classList.add("squigglyAnnotation"),this.container)}}class A extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.classList.add("strikeoutAnnotation"),this.container)}}class v extends p{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.titleObj?.str||u.data.contentsObj?.str||u.data.richText?.str),ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _ extends p{constructor(u){super(u,{isRenderable:!0});const{filename:y,content:D}=this.data.file;this.filename=(0,S.getFilenameFromUrl)(y,!0),this.content=D,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:y,content:D})}render(){let u;return this.container.classList.add("fileAttachmentAnnotation"),this.data.hasAppearance?u=document.createElement("div"):(u=document.createElement("img"),u.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),u.classList.add("popupTriggerArea"),u.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(u,this.data),this.container.append(u),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class T{static#e(u,y,D,R){const P=u.firstChild||u;P.id=`${S.AnnotationPrefix}${y}`,D.append(u),R?.moveElementInDOM(D,u,P,!1)}static render(u){const{annotations:y,div:D,viewport:R,accessibilityManager:P}=u;(0,S.setLayerDimensions)(D,R);const B={data:null,layer:D,page:u.page,viewport:R,linkService:u.linkService,downloadManager:u.downloadManager,imageResourcesPath:u.imageResourcesPath||"",renderForms:!1!==u.renderForms,svgFactory:new S.DOMSVGFactory,annotationStorage:u.annotationStorage||new z.AnnotationStorage,enableScripting:!0===u.enableScripting,hasJSActions:u.hasJSActions,fieldObjects:u.fieldObjects};let G=0;for(const q of y){if(q.noHTML)continue;if(q.annotationType!==m.AnnotationType.POPUP){const{width:ae,height:ye}=f(q.rect);if(ae<=0||ye<=0)continue}B.data=q;const le=I.create(B);if(!le.isRenderable)continue;const te=le.render();if(q.hidden&&(te.style.visibility="hidden"),Array.isArray(te))for(const ae of te)ae.style.zIndex=G++,T.#e(ae,q.id,D,P);else te.style.zIndex=G++,le instanceof w?D.prepend(te):T.#e(te,q.id,D,P)}this.#t(D,u.annotationCanvasMap)}static update(u){const{annotationCanvasMap:y,div:D,viewport:R}=u;(0,S.setLayerDimensions)(D,{rotation:R.rotation}),this.#t(D,y),D.hidden=!1}static#t(u,y){if(y){for(const[D,R]of y){const P=u.querySelector(`[data-annotation-id="${D}"]`);if(!P)continue;const{firstChild:B}=P;B?"CANVAS"===B.nodeName?B.replaceWith(R):B.before(R):P.append(R)}y.clear()}}}d.AnnotationLayer=T},(Q,d)=>{function H(S){return Math.floor(255*Math.max(0,Math.min(1,S))).toString(16).padStart(2,"0")}Object.defineProperty(d,"__esModule",{value:!0}),d.ColorConverters=void 0,d.ColorConverters=class m{static CMYK_G([z,U,Z,x]){return["G",1-Math.min(1,.3*z+.59*Z+.11*U+x)]}static G_CMYK([z]){return["CMYK",0,0,0,1-z]}static G_RGB([z]){return["RGB",z,z,z]}static G_HTML([z]){const U=H(z);return`#${U}${U}${U}`}static RGB_G([z,U,Z]){return["G",.3*z+.59*U+.11*Z]}static RGB_HTML([z,U,Z]){return`#${H(z)}${H(U)}${H(Z)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([z,U,Z,x]){return["RGB",1-Math.min(1,z+x),1-Math.min(1,Z+x),1-Math.min(1,U+x)]}static CMYK_HTML(z){const U=this.CMYK_RGB(z).slice(1);return this.RGB_HTML(U)}static RGB_CMYK([z,U,Z]){const x=1-z,E=1-U,h=1-Z;return["CMYK",x,E,h,Math.min(x,E,h)]}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayer=void 0;var m=H(19);d.XfaLayer=class S{static setupStorage(U,Z,x,E,h){const f=E.getValue(Z,{value:null});switch(x.name){case"textarea":if(null!==f.value&&(U.textContent=f.value),"print"===h)break;U.addEventListener("input",I=>{E.setValue(Z,{value:I.target.value})});break;case"input":if("radio"===x.attributes.type||"checkbox"===x.attributes.type){if(f.value===x.attributes.xfaOn?U.setAttribute("checked",!0):f.value===x.attributes.xfaOff&&U.removeAttribute("checked"),"print"===h)break;U.addEventListener("change",I=>{E.setValue(Z,{value:I.target.getAttribute(I.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==f.value&&U.setAttribute("value",f.value),"print"===h)break;U.addEventListener("input",I=>{E.setValue(Z,{value:I.target.value})})}break;case"select":if(null!==f.value)for(const I of x.children)I.attributes.value===f.value&&(I.attributes.selected=!0);U.addEventListener("input",I=>{const p=I.target.options;E.setValue(Z,{value:-1===p.selectedIndex?"":p[p.selectedIndex].value})})}}static setAttributes({html:U,element:Z,storage:x=null,intent:E,linkService:h}){const{attributes:f}=Z,I=U instanceof HTMLAnchorElement;"radio"===f.type&&(f.name=`${f.name}-${E}`);for(const[p,M]of Object.entries(f))if(null!=M)switch(p){case"class":M.length&&U.setAttribute(p,M.join(" "));break;case"dataId":break;case"id":U.setAttribute("data-element-id",M);break;case"style":Object.assign(U.style,M);break;case"textContent":U.textContent=M;break;default:(!I||"href"!==p&&"newWindow"!==p)&&U.setAttribute(p,M)}I&&h.addLinkAttributes(U,f.href,f.newWindow),x&&f.dataId&&this.setupStorage(U,f.dataId,Z,x)}static render(U){const Z=U.annotationStorage,x=U.linkService,E=U.xfaHtml,h=U.intent||"display",f=document.createElement(E.name);E.attributes&&this.setAttributes({html:f,element:E,intent:h,linkService:x});const I=[[E,-1,f]],p=U.div;if(p.append(f),U.viewport){const O=`matrix(${U.viewport.transform.join(",")})`;p.style.transform=O}"richText"!==h&&p.setAttribute("class","xfaLayer xfaFont");const M=[];for(;I.length>0;){const[O,F,k]=I.at(-1);if(F+1===O.children.length){I.pop();continue}const V=O.children[++I.at(-1)[1]];if(null===V)continue;const{name:Y}=V;if("#text"===Y){const b=document.createTextNode(V.value);M.push(b),k.append(b);continue}let j;if(j=V?.attributes?.xmlns?document.createElementNS(V.attributes.xmlns,Y):document.createElement(Y),k.append(j),V.attributes&&this.setAttributes({html:j,element:V,storage:Z,intent:h,linkService:x}),V.children&&V.children.length>0)I.push([V,-1,j]);else if(V.value){const b=document.createTextNode(V.value);m.XfaText.shouldBuildText(Y)&&M.push(b),j.append(b)}}for(const O of p.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))O.setAttribute("readOnly",!0);return{textDivs:M}}static update(U){const Z=`matrix(${U.viewport.transform.join(",")})`;U.div.style.transform=Z,U.div.hidden=!1}}},(Q,d,H)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SVGGraphics=void 0;var m=H(6),S=H(1),z=H(10);let U=class{constructor(){(0,S.unreachable)("Not implemented: SVGGraphics")}};d.SVGGraphics=U;{let O=function(b){let w=[];const $=[];for(const J of b)"save"!==J.fn?"restore"===J.fn?w=$.pop():w.push(J):(w.push({fnId:92,fn:"group",items:[]}),$.push(w),w=w.at(-1).items);return w},F=function(b){if(Number.isInteger(b))return b.toString();const w=b.toFixed(10);let $=w.length-1;if("0"!==w[$])return w;do{$--}while("0"===w[$]);return w.substring(0,"."===w[$]?$:$+1)},k=function(b){if(0===b[4]&&0===b[5]){if(0===b[1]&&0===b[2])return 1===b[0]&&1===b[3]?"":`scale(${F(b[0])} ${F(b[3])})`;if(b[0]===b[3]&&b[1]===-b[2]){const w=180*Math.acos(b[0])/Math.PI;return`rotate(${F(w)})`}}else if(1===b[0]&&0===b[1]&&0===b[2]&&1===b[3])return`translate(${F(b[4])} ${F(b[5])})`;return`matrix(${F(b[0])} ${F(b[1])} ${F(b[2])} ${F(b[3])} ${F(b[4])} ${F(b[5])})`};const Z={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/1999/xlink",h=["butt","round","square"],f=["miter","round","bevel"],I=function(b,w="",$=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!$)return URL.createObjectURL(new Blob([b],{type:w}));const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let K=`data:${w};base64,`;for(let ee=0,oe=b.length;ee<oe;ee+=3){const fe=255&b[ee],xe=255&b[ee+1],ve=255&b[ee+2];K+=J[fe>>2]+J[(3&fe)<<4|xe>>4]+J[ee+1<oe?(15&xe)<<2|ve>>6:64]+J[ee+2<oe?63&ve:64]}return K},p=function(){const b=new Uint8Array([137,80,78,71,13,10,26,10]),$=new Int32Array(256);for(let ve=0;ve<256;ve++){let be=ve;for(let _e=0;_e<8;_e++)be=1&be?3988292384^be>>1&2147483647:be>>1&2147483647;$[ve]=be}function K(ve,be,_e,de){let W=de;const A=be.length;_e[W]=A>>24&255,_e[W+1]=A>>16&255,_e[W+2]=A>>8&255,_e[W+3]=255&A,W+=4,_e[W]=255&ve.charCodeAt(0),_e[W+1]=255&ve.charCodeAt(1),_e[W+2]=255&ve.charCodeAt(2),_e[W+3]=255&ve.charCodeAt(3),W+=4,_e.set(be,W),W+=be.length;const v=function J(ve,be,_e){let de=-1;for(let W=be;W<_e;W++)de=de>>>8^$[255&(de^ve[W])];return-1^de}(_e,de+4,W);_e[W]=v>>24&255,_e[W+1]=v>>16&255,_e[W+2]=v>>8&255,_e[W+3]=255&v}function fe(ve){let be=ve.length;const _e=65535,de=Math.ceil(be/_e),W=new Uint8Array(2+be+5*de+4);let A=0;W[A++]=120,W[A++]=156;let v=0;for(;be>_e;)W[A++]=0,W[A++]=255,W[A++]=255,W[A++]=0,W[A++]=0,W.set(ve.subarray(v,v+_e),A),A+=_e,v+=_e,be-=_e;W[A++]=1,W[A++]=255&be,W[A++]=be>>8&255,W[A++]=255&~be,W[A++]=(65535&~be)>>8&255,W.set(ve.subarray(v),A),A+=ve.length-v;const _=function ee(ve,be,_e){let de=1,W=0;for(let A=be;A<_e;++A)de=(de+(255&ve[A]))%65521,W=(W+de)%65521;return W<<16|de}(ve,0,ve.length);return W[A++]=_>>24&255,W[A++]=_>>16&255,W[A++]=_>>8&255,W[A++]=255&_,W}return function(be,_e,de){return function xe(ve,be,_e,de){const W=ve.width,A=ve.height;let v,_,T;const N=ve.data;switch(be){case S.ImageKind.GRAYSCALE_1BPP:_=0,v=1,T=W+7>>3;break;case S.ImageKind.RGB_24BPP:_=2,v=8,T=3*W;break;case S.ImageKind.RGBA_32BPP:_=6,v=8,T=4*W;break;default:throw new Error("invalid format")}const u=new Uint8Array((1+T)*A);let y=0,D=0;for(let le=0;le<A;++le)u[y++]=0,u.set(N.subarray(D,D+T),y),D+=T,y+=T;if(be===S.ImageKind.GRAYSCALE_1BPP&&de){y=0;for(let le=0;le<A;le++){y++;for(let te=0;te<T;te++)u[y++]^=255}}const R=new Uint8Array([W>>24&255,W>>16&255,W>>8&255,255&W,A>>24&255,A>>16&255,A>>8&255,255&A,v,_,0,0,0]),P=function oe(ve){if(!z.isNodeJS)return fe(ve);try{let be;be=parseInt(process.versions.node)>=8?ve:Buffer.from(ve);const _e=__webpack_require__(258).deflateSync(be,{level:9});return _e instanceof Uint8Array?_e:new Uint8Array(_e)}catch(be){(0,S.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+be)}return fe(ve)}(u),G=new Uint8Array(b.length+36+R.length+P.length);let q=0;return G.set(b,q),q+=b.length,K("IHDR",R,G,q),q+=12+R.length,K("IDATA",P,G,q),q+=12+P.length,K("IEND",new Uint8Array(0),G,q),I(G,"image/png",_e)}(be,void 0===be.kind?S.ImageKind.GRAYSCALE_1BPP:be.kind,_e,de)}}();class M{constructor(){this.fontSizeScale=1,this.fontWeight=Z.fontWeight,this.fontSize=0,this.textMatrix=S.IDENTITY_MATRIX,this.fontMatrix=S.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=S.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=Z.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(w,$){this.x=w,this.y=$}}let V=0,Y=0,j=0;d.SVGGraphics=U=class{constructor(b,w,$=!1){(0,m.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new m.DOMSVGFactory,this.current=new M,this.transformMatrix=S.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=b,this.objs=w,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$,this._operatorIdMapping=[];for(const J in S.OPS)this._operatorIdMapping[S.OPS[J]]=J}getObject(b,w=null){return"string"==typeof b?b.startsWith("g_")?this.commonObjs.get(b):this.objs.get(b):w}save(){this.transformStack.push(this.transformMatrix);const b=this.current;this.extraStack.push(b),this.current=b.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(b){this.save(),this.executeOpTree(b),this.restore()}loadDependencies(b){const w=b.fnArray,$=b.argsArray;for(let J=0,K=w.length;J<K;J++)if(w[J]===S.OPS.dependency)for(const ee of $[J]){const oe=ee.startsWith("g_")?this.commonObjs:this.objs,fe=new Promise(xe=>{oe.get(ee,xe)});this.current.dependencies.push(fe)}return Promise.all(this.current.dependencies)}transform(b,w,$,J,K,ee){this.transformMatrix=S.Util.transform(this.transformMatrix,[b,w,$,J,K,ee]),this.tgrp=null}getSVG(b,w){this.viewport=w;const $=this._initialize(w);return this.loadDependencies(b).then(()=>(this.transformMatrix=S.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(b)),$))}convertOpList(b){const w=this._operatorIdMapping,$=b.argsArray,J=b.fnArray,K=[];for(let ee=0,oe=J.length;ee<oe;ee++){const fe=J[ee];K.push({fnId:fe,fn:w[fe],args:$[ee]})}return O(K)}executeOpTree(b){for(const w of b){const $=w.fn,K=w.args;switch(0|w.fnId){case S.OPS.beginText:this.beginText();break;case S.OPS.dependency:break;case S.OPS.setLeading:this.setLeading(K);break;case S.OPS.setLeadingMoveText:this.setLeadingMoveText(K[0],K[1]);break;case S.OPS.setFont:this.setFont(K);break;case S.OPS.showText:case S.OPS.showSpacedText:this.showText(K[0]);break;case S.OPS.endText:this.endText();break;case S.OPS.moveText:this.moveText(K[0],K[1]);break;case S.OPS.setCharSpacing:this.setCharSpacing(K[0]);break;case S.OPS.setWordSpacing:this.setWordSpacing(K[0]);break;case S.OPS.setHScale:this.setHScale(K[0]);break;case S.OPS.setTextMatrix:this.setTextMatrix(K[0],K[1],K[2],K[3],K[4],K[5]);break;case S.OPS.setTextRise:this.setTextRise(K[0]);break;case S.OPS.setTextRenderingMode:this.setTextRenderingMode(K[0]);break;case S.OPS.setLineWidth:this.setLineWidth(K[0]);break;case S.OPS.setLineJoin:this.setLineJoin(K[0]);break;case S.OPS.setLineCap:this.setLineCap(K[0]);break;case S.OPS.setMiterLimit:this.setMiterLimit(K[0]);break;case S.OPS.setFillRGBColor:this.setFillRGBColor(K[0],K[1],K[2]);break;case S.OPS.setStrokeRGBColor:this.setStrokeRGBColor(K[0],K[1],K[2]);break;case S.OPS.setStrokeColorN:this.setStrokeColorN(K);break;case S.OPS.setFillColorN:this.setFillColorN(K);break;case S.OPS.shadingFill:this.shadingFill(K[0]);break;case S.OPS.setDash:this.setDash(K[0],K[1]);break;case S.OPS.setRenderingIntent:this.setRenderingIntent(K[0]);break;case S.OPS.setFlatness:this.setFlatness(K[0]);break;case S.OPS.setGState:this.setGState(K[0]);break;case S.OPS.fill:this.fill();break;case S.OPS.eoFill:this.eoFill();break;case S.OPS.stroke:this.stroke();break;case S.OPS.fillStroke:this.fillStroke();break;case S.OPS.eoFillStroke:this.eoFillStroke();break;case S.OPS.clip:this.clip("nonzero");break;case S.OPS.eoClip:this.clip("evenodd");break;case S.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case S.OPS.paintImageXObject:this.paintImageXObject(K[0]);break;case S.OPS.paintInlineImageXObject:this.paintInlineImageXObject(K[0]);break;case S.OPS.paintImageMaskXObject:this.paintImageMaskXObject(K[0]);break;case S.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(K[0],K[1]);break;case S.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case S.OPS.closePath:this.closePath();break;case S.OPS.closeStroke:this.closeStroke();break;case S.OPS.closeFillStroke:this.closeFillStroke();break;case S.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case S.OPS.nextLine:this.nextLine();break;case S.OPS.transform:this.transform(K[0],K[1],K[2],K[3],K[4],K[5]);break;case S.OPS.constructPath:this.constructPath(K[0],K[1]);break;case S.OPS.endPath:this.endPath();break;case 92:this.group(w.items);break;default:(0,S.warn)(`Unimplemented operator ${$}`)}}}setWordSpacing(b){this.current.wordSpacing=b}setCharSpacing(b){this.current.charSpacing=b}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(b,w,$,J,K,ee){const oe=this.current;oe.textMatrix=oe.lineMatrix=[b,w,$,J,K,ee],oe.textMatrixScale=Math.hypot(b,w),oe.x=oe.lineX=0,oe.y=oe.lineY=0,oe.xcoords=[],oe.ycoords=[],oe.tspan=this.svgFactory.createElement("svg:tspan"),oe.tspan.setAttributeNS(null,"font-family",oe.fontFamily),oe.tspan.setAttributeNS(null,"font-size",`${F(oe.fontSize)}px`),oe.tspan.setAttributeNS(null,"y",F(-oe.y)),oe.txtElement=this.svgFactory.createElement("svg:text"),oe.txtElement.append(oe.tspan)}beginText(){const b=this.current;b.x=b.lineX=0,b.y=b.lineY=0,b.textMatrix=S.IDENTITY_MATRIX,b.lineMatrix=S.IDENTITY_MATRIX,b.textMatrixScale=1,b.tspan=this.svgFactory.createElement("svg:tspan"),b.txtElement=this.svgFactory.createElement("svg:text"),b.txtgrp=this.svgFactory.createElement("svg:g"),b.xcoords=[],b.ycoords=[]}moveText(b,w){const $=this.current;$.x=$.lineX+=b,$.y=$.lineY+=w,$.xcoords=[],$.ycoords=[],$.tspan=this.svgFactory.createElement("svg:tspan"),$.tspan.setAttributeNS(null,"font-family",$.fontFamily),$.tspan.setAttributeNS(null,"font-size",`${F($.fontSize)}px`),$.tspan.setAttributeNS(null,"y",F(-$.y))}showText(b){const w=this.current,$=w.font,J=w.fontSize;if(0===J)return;const K=w.fontSizeScale,ee=w.charSpacing,oe=w.wordSpacing,fe=w.fontDirection,xe=w.textHScale*fe,ve=$.vertical,be=ve?1:-1,_e=$.defaultVMetrics,de=J*w.fontMatrix[0];let W=0;for(const _ of b){if(null===_){W+=fe*oe;continue}if("number"==typeof _){W+=be*_*J/1e3;continue}const T=(_.isSpace?oe:0)+ee,N=_.fontChar;let u,y,R,D=_.width;if(ve){let P;const B=_.vmetric||_e;P=_.vmetric?B[1]:.5*D,P=-P*de,D=B?-B[0]:D,u=P/K,y=(W+B[2]*de)/K}else u=W/K,y=0;(_.isInFont||$.missingFile)&&(w.xcoords.push(w.x+u),ve&&w.ycoords.push(-w.y+y),w.tspan.textContent+=N),R=ve?D*de-T*fe:D*de+T*fe,W+=R}w.tspan.setAttributeNS(null,"x",w.xcoords.map(F).join(" ")),w.tspan.setAttributeNS(null,"y",ve?w.ycoords.map(F).join(" "):F(-w.y)),ve?w.y-=W:w.x+=W*xe,w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${F(w.fontSize)}px`),w.fontStyle!==Z.fontStyle&&w.tspan.setAttributeNS(null,"font-style",w.fontStyle),w.fontWeight!==Z.fontWeight&&w.tspan.setAttributeNS(null,"font-weight",w.fontWeight);const A=w.textRenderingMode&S.TextRenderingMode.FILL_STROKE_MASK;A===S.TextRenderingMode.FILL||A===S.TextRenderingMode.FILL_STROKE?(w.fillColor!==Z.fillColor&&w.tspan.setAttributeNS(null,"fill",w.fillColor),w.fillAlpha<1&&w.tspan.setAttributeNS(null,"fill-opacity",w.fillAlpha)):w.tspan.setAttributeNS(null,"fill",w.textRenderingMode===S.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(A===S.TextRenderingMode.STROKE||A===S.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(w.tspan,1/(w.textMatrixScale||1));let v=w.textMatrix;0!==w.textRise&&(v=v.slice(),v[5]+=w.textRise),w.txtElement.setAttributeNS(null,"transform",`${k(v)} scale(${F(xe)}, -1)`),w.txtElement.setAttributeNS(x,"xml:space","preserve"),w.txtElement.append(w.tspan),w.txtgrp.append(w.txtElement),this._ensureTransformGroup().append(w.txtElement)}setLeadingMoveText(b,w){this.setLeading(-w),this.moveText(b,w)}addFontStyle(b){if(!b.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const w=I(b.data,b.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${b.loadedName}"; src: url(${w}); }\n`}setFont(b){const w=this.current,$=this.commonObjs.get(b[0]);let J=b[1];w.font=$,this.embedFonts&&!$.missingFile&&!this.embeddedFonts[$.loadedName]&&(this.addFontStyle($),this.embeddedFonts[$.loadedName]=$),w.fontMatrix=$.fontMatrix||S.FONT_IDENTITY_MATRIX;let K="normal";$.black?K="900":$.bold&&(K="bold");const ee=$.italic?"italic":"normal";J<0?(J=-J,w.fontDirection=-1):w.fontDirection=1,w.fontSize=J,w.fontFamily=$.loadedName,w.fontWeight=K,w.fontStyle=ee,w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"y",F(-w.y)),w.xcoords=[],w.ycoords=[]}endText(){const b=this.current;b.textRenderingMode&S.TextRenderingMode.ADD_TO_PATH_FLAG&&b.txtElement?.hasChildNodes()&&(b.element=b.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(b){b>0&&(this.current.lineWidth=b)}setLineCap(b){this.current.lineCap=h[b]}setLineJoin(b){this.current.lineJoin=f[b]}setMiterLimit(b){this.current.miterLimit=b}setStrokeAlpha(b){this.current.strokeAlpha=b}setStrokeRGBColor(b,w,$){this.current.strokeColor=S.Util.makeHexColor(b,w,$)}setFillAlpha(b){this.current.fillAlpha=b}setFillRGBColor(b,w,$){this.current.fillColor=S.Util.makeHexColor(b,w,$),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(b){this.current.strokeColor=this._makeColorN_Pattern(b)}setFillColorN(b){this.current.fillColor=this._makeColorN_Pattern(b)}shadingFill(b){const w=this.viewport.width,$=this.viewport.height,J=S.Util.inverseTransform(this.transformMatrix),K=S.Util.applyTransform([0,0],J),ee=S.Util.applyTransform([0,$],J),oe=S.Util.applyTransform([w,0],J),fe=S.Util.applyTransform([w,$],J),xe=Math.min(K[0],ee[0],oe[0],fe[0]),ve=Math.min(K[1],ee[1],oe[1],fe[1]),be=Math.max(K[0],ee[0],oe[0],fe[0]),_e=Math.max(K[1],ee[1],oe[1],fe[1]),de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x",xe),de.setAttributeNS(null,"y",ve),de.setAttributeNS(null,"width",be-xe),de.setAttributeNS(null,"height",_e-ve),de.setAttributeNS(null,"fill",this._makeShadingPattern(b)),this.current.fillAlpha<1&&de.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(de)}_makeColorN_Pattern(b){return"TilingPattern"===b[0]?this._makeTilingPattern(b):this._makeShadingPattern(b)}_makeTilingPattern(b){const w=b[1],$=b[2],J=b[3]||S.IDENTITY_MATRIX,[K,ee,oe,fe]=b[4],xe=b[5],ve=b[6],be=b[7],_e="shading"+j++,[de,W,A,v]=S.Util.normalizeRect([...S.Util.applyTransform([K,ee],J),...S.Util.applyTransform([oe,fe],J)]),[_,T]=S.Util.singularValueDecompose2dScale(J),N=xe*_,u=ve*T,y=this.svgFactory.createElement("svg:pattern");y.setAttributeNS(null,"id",_e),y.setAttributeNS(null,"patternUnits","userSpaceOnUse"),y.setAttributeNS(null,"width",N),y.setAttributeNS(null,"height",u),y.setAttributeNS(null,"x",`${de}`),y.setAttributeNS(null,"y",`${W}`);const D=this.svg,R=this.transformMatrix,P=this.current.fillColor,B=this.current.strokeColor,G=this.svgFactory.create(A-de,v-W);if(this.svg=G,this.transformMatrix=J,2===be){const q=S.Util.makeHexColor(...w);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList($)),this.svg=D,this.transformMatrix=R,this.current.fillColor=P,this.current.strokeColor=B,y.append(G.childNodes[0]),this.defs.append(y),`url(#${_e})`}_makeShadingPattern(b){switch("string"==typeof b&&(b=this.objs.get(b)),b[0]){case"RadialAxial":const w="shading"+j++,$=b[3];let J;switch(b[1]){case"axial":const K=b[4],ee=b[5];J=this.svgFactory.createElement("svg:linearGradient"),J.setAttributeNS(null,"id",w),J.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),J.setAttributeNS(null,"x1",K[0]),J.setAttributeNS(null,"y1",K[1]),J.setAttributeNS(null,"x2",ee[0]),J.setAttributeNS(null,"y2",ee[1]);break;case"radial":const oe=b[4],fe=b[5],xe=b[6],ve=b[7];J=this.svgFactory.createElement("svg:radialGradient"),J.setAttributeNS(null,"id",w),J.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),J.setAttributeNS(null,"cx",fe[0]),J.setAttributeNS(null,"cy",fe[1]),J.setAttributeNS(null,"r",ve),J.setAttributeNS(null,"fx",oe[0]),J.setAttributeNS(null,"fy",oe[1]),J.setAttributeNS(null,"fr",xe);break;default:throw new Error(`Unknown RadialAxial type: ${b[1]}`)}for(const K of $){const ee=this.svgFactory.createElement("svg:stop");ee.setAttributeNS(null,"offset",K[0]),ee.setAttributeNS(null,"stop-color",K[1]),J.append(ee)}return this.defs.append(J),`url(#${w})`;case"Mesh":return(0,S.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${b[0]}`)}}setDash(b,w){this.current.dashArray=b,this.current.dashPhase=w}constructPath(b,w){const $=this.current;let J=$.x,K=$.y,ee=[],oe=0;for(const fe of b)switch(0|fe){case S.OPS.rectangle:J=w[oe++],K=w[oe++];const be=J+w[oe++],_e=K+w[oe++];ee.push("M",F(J),F(K),"L",F(be),F(K),"L",F(be),F(_e),"L",F(J),F(_e),"Z");break;case S.OPS.moveTo:J=w[oe++],K=w[oe++],ee.push("M",F(J),F(K));break;case S.OPS.lineTo:J=w[oe++],K=w[oe++],ee.push("L",F(J),F(K));break;case S.OPS.curveTo:J=w[oe+4],K=w[oe+5],ee.push("C",F(w[oe]),F(w[oe+1]),F(w[oe+2]),F(w[oe+3]),F(J),F(K)),oe+=6;break;case S.OPS.curveTo2:ee.push("C",F(J),F(K),F(w[oe]),F(w[oe+1]),F(w[oe+2]),F(w[oe+3])),J=w[oe+2],K=w[oe+3],oe+=4;break;case S.OPS.curveTo3:J=w[oe+2],K=w[oe+3],ee.push("C",F(w[oe]),F(w[oe+1]),F(J),F(K),F(J),F(K)),oe+=4;break;case S.OPS.closePath:ee.push("Z")}ee=ee.join(" "),$.path&&b.length>0&&b[0]!==S.OPS.rectangle&&b[0]!==S.OPS.moveTo?ee=$.path.getAttributeNS(null,"d")+ee:($.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($.path)),$.path.setAttributeNS(null,"d",ee),$.path.setAttributeNS(null,"fill","none"),$.element=$.path,$.setCurrentPoint(J,K)}endPath(){const b=this.current;if(b.path=null,!this.pendingClip)return;if(!b.element)return void(this.pendingClip=null);const w="clippath"+V++,$=this.svgFactory.createElement("svg:clipPath");$.setAttributeNS(null,"id",w),$.setAttributeNS(null,"transform",k(this.transformMatrix));const J=b.element.cloneNode(!0);if(J.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,$.append(J),this.defs.append($),b.activeClipUrl){b.clipGroup=null;for(const K of this.extraStack)K.clipGroup=null;$.setAttributeNS(null,"clip-path",b.activeClipUrl)}b.activeClipUrl=`url(#${w})`,this.tgrp=null}clip(b){this.pendingClip=b}closePath(){const b=this.current;if(b.path){const w=`${b.path.getAttributeNS(null,"d")}Z`;b.path.setAttributeNS(null,"d",w)}}setLeading(b){this.current.leading=-b}setTextRise(b){this.current.textRise=b}setTextRenderingMode(b){this.current.textRenderingMode=b}setHScale(b){this.current.textHScale=b/100}setRenderingIntent(b){}setFlatness(b){}setGState(b){for(const[w,$]of b)switch(w){case"LW":this.setLineWidth($);break;case"LC":this.setLineCap($);break;case"LJ":this.setLineJoin($);break;case"ML":this.setMiterLimit($);break;case"D":this.setDash($[0],$[1]);break;case"RI":this.setRenderingIntent($);break;case"FL":this.setFlatness($);break;case"Font":this.setFont($);break;case"CA":this.setStrokeAlpha($);break;case"ca":this.setFillAlpha($);break;default:(0,S.warn)(`Unimplemented graphic state operator ${w}`)}}fill(){const b=this.current;b.element&&(b.element.setAttributeNS(null,"fill",b.fillColor),b.element.setAttributeNS(null,"fill-opacity",b.fillAlpha),this.endPath())}stroke(){const b=this.current;b.element&&(this._setStrokeAttributes(b.element),b.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(b,w=1){const $=this.current;let J=$.dashArray;1!==w&&J.length>0&&(J=J.map(function(K){return w*K})),b.setAttributeNS(null,"stroke",$.strokeColor),b.setAttributeNS(null,"stroke-opacity",$.strokeAlpha),b.setAttributeNS(null,"stroke-miterlimit",F($.miterLimit)),b.setAttributeNS(null,"stroke-linecap",$.lineCap),b.setAttributeNS(null,"stroke-linejoin",$.lineJoin),b.setAttributeNS(null,"stroke-width",F(w*$.lineWidth)+"px"),b.setAttributeNS(null,"stroke-dasharray",J.map(F).join(" ")),b.setAttributeNS(null,"stroke-dashoffset",F(w*$.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const b=this.svgFactory.createElement("svg:rect");b.setAttributeNS(null,"x","0"),b.setAttributeNS(null,"y","0"),b.setAttributeNS(null,"width","1px"),b.setAttributeNS(null,"height","1px"),b.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(b)}paintImageXObject(b){const w=this.getObject(b);w?this.paintInlineImageXObject(w):(0,S.warn)(`Dependent image with object ID ${b} is not ready yet`)}paintInlineImageXObject(b,w){const $=b.width,J=b.height,K=p(b,this.forceDataSchema,!!w),ee=this.svgFactory.createElement("svg:rect");ee.setAttributeNS(null,"x","0"),ee.setAttributeNS(null,"y","0"),ee.setAttributeNS(null,"width",F($)),ee.setAttributeNS(null,"height",F(J)),this.current.element=ee,this.clip("nonzero");const oe=this.svgFactory.createElement("svg:image");oe.setAttributeNS(E,"xlink:href",K),oe.setAttributeNS(null,"x","0"),oe.setAttributeNS(null,"y",F(-J)),oe.setAttributeNS(null,"width",F($)+"px"),oe.setAttributeNS(null,"height",F(J)+"px"),oe.setAttributeNS(null,"transform",`scale(${F(1/$)} ${F(-1/J)})`),w?w.append(oe):this._ensureTransformGroup().append(oe)}paintImageMaskXObject(b){const w=this.getObject(b.data,b);if(w.bitmap)return void(0,S.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");const $=this.current,J=w.width,K=w.height,ee=$.fillColor;$.maskId="mask"+Y++;const oe=this.svgFactory.createElement("svg:mask");oe.setAttributeNS(null,"id",$.maskId);const fe=this.svgFactory.createElement("svg:rect");fe.setAttributeNS(null,"x","0"),fe.setAttributeNS(null,"y","0"),fe.setAttributeNS(null,"width",F(J)),fe.setAttributeNS(null,"height",F(K)),fe.setAttributeNS(null,"fill",ee),fe.setAttributeNS(null,"mask",`url(#${$.maskId})`),this.defs.append(oe),this._ensureTransformGroup().append(fe),this.paintInlineImageXObject(w,oe)}paintFormXObjectBegin(b,w){if(Array.isArray(b)&&6===b.length&&this.transform(b[0],b[1],b[2],b[3],b[4],b[5]),w){const $=w[2]-w[0],J=w[3]-w[1],K=this.svgFactory.createElement("svg:rect");K.setAttributeNS(null,"x",w[0]),K.setAttributeNS(null,"y",w[1]),K.setAttributeNS(null,"width",F($)),K.setAttributeNS(null,"height",F(J)),this.current.element=K,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(b){const w=this.svgFactory.create(b.width,b.height),$=this.svgFactory.createElement("svg:defs");w.append($),this.defs=$;const J=this.svgFactory.createElement("svg:g");return J.setAttributeNS(null,"transform",k(b.transform)),w.append(J),this.svg=J,w}_ensureClipGroup(){if(!this.current.clipGroup){const b=this.svgFactory.createElement("svg:g");b.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(b),this.current.clipGroup=b}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",k(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Q){var d=__webpack_module_cache__[Q];if(void 0!==d)return d.exports;var H=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](H,H.exports,__w_pdfjs_require__),H.exports}var __nested_webpack_exports__={};return(()=>{var Q=__nested_webpack_exports__;Object.defineProperty(Q,"__esModule",{value:!0}),Object.defineProperty(Q,"AbortException",{enumerable:!0,get:function(){return d.AbortException}}),Object.defineProperty(Q,"AnnotationEditorLayer",{enumerable:!0,get:function(){return z.AnnotationEditorLayer}}),Object.defineProperty(Q,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return d.AnnotationEditorParamsType}}),Object.defineProperty(Q,"AnnotationEditorType",{enumerable:!0,get:function(){return d.AnnotationEditorType}}),Object.defineProperty(Q,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return U.AnnotationEditorUIManager}}),Object.defineProperty(Q,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(Q,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(Q,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(Q,"FeatureTest",{enumerable:!0,get:function(){return d.FeatureTest}}),Object.defineProperty(Q,"GlobalWorkerOptions",{enumerable:!0,get:function(){return x.GlobalWorkerOptions}}),Object.defineProperty(Q,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(Q,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(Q,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(Q,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(Q,"PDFDateString",{enumerable:!0,get:function(){return m.PDFDateString}}),Object.defineProperty(Q,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(Q,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(Q,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(Q,"PixelsPerInch",{enumerable:!0,get:function(){return m.PixelsPerInch}}),Object.defineProperty(Q,"PromiseCapability",{enumerable:!0,get:function(){return d.PromiseCapability}}),Object.defineProperty(Q,"RenderingCancelledException",{enumerable:!0,get:function(){return m.RenderingCancelledException}}),Object.defineProperty(Q,"SVGGraphics",{enumerable:!0,get:function(){return E.SVGGraphics}}),Object.defineProperty(Q,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(Q,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(Q,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(Q,"XfaLayer",{enumerable:!0,get:function(){return h.XfaLayer}}),Object.defineProperty(Q,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(Q,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(Q,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(Q,"getFilenameFromUrl",{enumerable:!0,get:function(){return m.getFilenameFromUrl}}),Object.defineProperty(Q,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return m.getPdfFilenameFromUrl}}),Object.defineProperty(Q,"getXfaPageViewport",{enumerable:!0,get:function(){return m.getXfaPageViewport}}),Object.defineProperty(Q,"isDataScheme",{enumerable:!0,get:function(){return m.isDataScheme}}),Object.defineProperty(Q,"isPdfFile",{enumerable:!0,get:function(){return m.isPdfFile}}),Object.defineProperty(Q,"loadScript",{enumerable:!0,get:function(){return m.loadScript}}),Object.defineProperty(Q,"normalizeUnicode",{enumerable:!0,get:function(){return d.normalizeUnicode}}),Object.defineProperty(Q,"renderTextLayer",{enumerable:!0,get:function(){return S.renderTextLayer}}),Object.defineProperty(Q,"setLayerDimensions",{enumerable:!0,get:function(){return m.setLayerDimensions}}),Object.defineProperty(Q,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(Q,"updateTextLayer",{enumerable:!0,get:function(){return S.updateTextLayer}}),Object.defineProperty(Q,"version",{enumerable:!0,get:function(){return H.version}});var d=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),m=__w_pdfjs_require__(6),S=__w_pdfjs_require__(26),z=__w_pdfjs_require__(27),U=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(30),x=__w_pdfjs_require__(14),E=__w_pdfjs_require__(33),h=__w_pdfjs_require__(32)})(),__nested_webpack_exports__})(),module.exports=H()},414:()=>{},172:()=>{},1:()=>{},779:()=>{},558:()=>{},258:()=>{},156:Q=>{function d(m,S,z,U,Z,x,E){try{var h=m[x](E),f=h.value}catch(I){return void z(I)}h.done?S(f):Promise.resolve(f).then(U,Z)}Q.exports=function H(m){return function(){var S=this,z=arguments;return new Promise(function(U,Z){var x=m.apply(S,z);function E(f){d(x,U,Z,E,h,"next",f)}function h(f){d(x,U,Z,E,h,"throw",f)}E(void 0)})}},Q.exports.__esModule=!0,Q.exports.default=Q.exports}},Q=>{Q(Q.s=429)}]);